<!DOCTYPE html>
<html>
<head><meta charset="utf-8" />
<title>MIDS-W261-HW-02-Anthony_Spalvieri_Kruse</title>

<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.1.10/require.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>

<style type="text/css">
    /*!
*
* Twitter Bootstrap
*
*//*! normalize.css v3.0.2 | MIT License | git.io/normalize */html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%;font-size:10px;-webkit-tap-highlight-color:transparent}article,aside,details,figcaption,figure,footer,header,hgroup,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block;vertical-align:baseline}audio:not([controls]){display:none;height:0}[hidden],template{display:none}a{background-color:transparent}a:active,a:hover{outline:0}abbr[title]{border-bottom:1px dotted}b,optgroup,strong{font-weight:700}dfn{font-style:italic}h1{font-size:2em;margin:.67em 0}mark{background:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sup{top:-.5em}sub{bottom:-.25em}img{border:0;vertical-align:middle}svg:not(:root){overflow:hidden}hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}pre,textarea{overflow:auto}code,kbd,pre,samp{font-size:1em}button,input,optgroup,select,textarea{color:inherit;font:inherit;margin:0}button{overflow:visible}button,select{text-transform:none}button,html input[type=button],input[type=reset],input[type=submit]{-webkit-appearance:button;cursor:pointer}button[disabled],html input[disabled]{cursor:default}button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}input{line-height:normal}input[type=checkbox],input[type=radio]{box-sizing:border-box;padding:0}input[type=number]::-webkit-inner-spin-button,input[type=number]::-webkit-outer-spin-button{height:auto}input[type=search]::-webkit-search-cancel-button,input[type=search]::-webkit-search-decoration{-webkit-appearance:none}table{border-collapse:collapse;border-spacing:0}td,th{padding:0}/*! Source: https://github.com/h5bp/html5-boilerplate/blob/master/src/css/main.css */@media print{*,:after,:before{background:0 0!important;color:#000!important;box-shadow:none!important;text-shadow:none!important}a,a:visited{text-decoration:underline}a[href]:after{content:" (" attr(href)")"}abbr[title]:after{content:" (" attr(title)")"}a[href^="javascript:"]:after,a[href^="#"]:after{content:""}blockquote,pre{border:1px solid #999;page-break-inside:avoid}thead{display:table-header-group}img,tr{page-break-inside:avoid}img{max-width:100%!important}h2,h3,p{orphans:3;widows:3}h2,h3{page-break-after:avoid}select{background:#fff!important}.navbar{display:none}.btn>.caret,.dropup>.btn>.caret{border-top-color:#000!important}.label{border:1px solid #000}.table{border-collapse:collapse!important}.table td,.table th{background-color:#fff!important}.table-bordered td,.table-bordered th{border:1px solid #ddd!important}}@font-face{font-family:'Glyphicons Halflings';src:url(../components/bootstrap/fonts/glyphicons-halflings-regular.eot);src:url(../components/bootstrap/fonts/glyphicons-halflings-regular.eot?#iefix)format('embedded-opentype'),url(../components/bootstrap/fonts/glyphicons-halflings-regular.woff2)format('woff2'),url(../components/bootstrap/fonts/glyphicons-halflings-regular.woff)format('woff'),url(../components/bootstrap/fonts/glyphicons-halflings-regular.ttf)format('truetype'),url(../components/bootstrap/fonts/glyphicons-halflings-regular.svg#glyphicons_halflingsregular)format('svg')}.glyphicon{position:relative;top:1px;display:inline-block;font-family:'Glyphicons Halflings';font-style:normal;font-weight:400;line-height:1;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.glyphicon-asterisk:before{content:"\2a"}.glyphicon-plus:before{content:"\2b"}.glyphicon-eur:before,.glyphicon-euro:before{content:"\20ac"}.glyphicon-minus:before{content:"\2212"}.glyphicon-cloud:before{content:"\2601"}.glyphicon-envelope:before{content:"\2709"}.glyphicon-pencil:before{content:"\270f"}.glyphicon-glass:before{content:"\e001"}.glyphicon-music:before{content:"\e002"}.glyphicon-search:before{content:"\e003"}.glyphicon-heart:before{content:"\e005"}.glyphicon-star:before{content:"\e006"}.glyphicon-star-empty:before{content:"\e007"}.glyphicon-user:before{content:"\e008"}.glyphicon-film:before{content:"\e009"}.glyphicon-th-large:before{content:"\e010"}.glyphicon-th:before{content:"\e011"}.glyphicon-th-list:before{content:"\e012"}.glyphicon-ok:before{content:"\e013"}.glyphicon-remove:before{content:"\e014"}.glyphicon-zoom-in:before{content:"\e015"}.glyphicon-zoom-out:before{content:"\e016"}.glyphicon-off:before{content:"\e017"}.glyphicon-signal:before{content:"\e018"}.glyphicon-cog:before{content:"\e019"}.glyphicon-trash:before{content:"\e020"}.glyphicon-home:before{content:"\e021"}.glyphicon-file:before{content:"\e022"}.glyphicon-time:before{content:"\e023"}.glyphicon-road:before{content:"\e024"}.glyphicon-download-alt:before{content:"\e025"}.glyphicon-download:before{content:"\e026"}.glyphicon-upload:before{content:"\e027"}.glyphicon-inbox:before{content:"\e028"}.glyphicon-play-circle:before{content:"\e029"}.glyphicon-repeat:before{content:"\e030"}.glyphicon-refresh:before{content:"\e031"}.glyphicon-list-alt:before{content:"\e032"}.glyphicon-lock:before{content:"\e033"}.glyphicon-flag:before{content:"\e034"}.glyphicon-headphones:before{content:"\e035"}.glyphicon-volume-off:before{content:"\e036"}.glyphicon-volume-down:before{content:"\e037"}.glyphicon-volume-up:before{content:"\e038"}.glyphicon-qrcode:before{content:"\e039"}.glyphicon-barcode:before{content:"\e040"}.glyphicon-tag:before{content:"\e041"}.glyphicon-tags:before{content:"\e042"}.glyphicon-book:before{content:"\e043"}.glyphicon-bookmark:before{content:"\e044"}.glyphicon-print:before{content:"\e045"}.glyphicon-camera:before{content:"\e046"}.glyphicon-font:before{content:"\e047"}.glyphicon-bold:before{content:"\e048"}.glyphicon-italic:before{content:"\e049"}.glyphicon-text-height:before{content:"\e050"}.glyphicon-text-width:before{content:"\e051"}.glyphicon-align-left:before{content:"\e052"}.glyphicon-align-center:before{content:"\e053"}.glyphicon-align-right:before{content:"\e054"}.glyphicon-align-justify:before{content:"\e055"}.glyphicon-list:before{content:"\e056"}.glyphicon-indent-left:before{content:"\e057"}.glyphicon-indent-right:before{content:"\e058"}.glyphicon-facetime-video:before{content:"\e059"}.glyphicon-picture:before{content:"\e060"}.glyphicon-map-marker:before{content:"\e062"}.glyphicon-adjust:before{content:"\e063"}.glyphicon-tint:before{content:"\e064"}.glyphicon-edit:before{content:"\e065"}.glyphicon-share:before{content:"\e066"}.glyphicon-check:before{content:"\e067"}.glyphicon-move:before{content:"\e068"}.glyphicon-step-backward:before{content:"\e069"}.glyphicon-fast-backward:before{content:"\e070"}.glyphicon-backward:before{content:"\e071"}.glyphicon-play:before{content:"\e072"}.glyphicon-pause:before{content:"\e073"}.glyphicon-stop:before{content:"\e074"}.glyphicon-forward:before{content:"\e075"}.glyphicon-fast-forward:before{content:"\e076"}.glyphicon-step-forward:before{content:"\e077"}.glyphicon-eject:before{content:"\e078"}.glyphicon-chevron-left:before{content:"\e079"}.glyphicon-chevron-right:before{content:"\e080"}.glyphicon-plus-sign:before{content:"\e081"}.glyphicon-minus-sign:before{content:"\e082"}.glyphicon-remove-sign:before{content:"\e083"}.glyphicon-ok-sign:before{content:"\e084"}.glyphicon-question-sign:before{content:"\e085"}.glyphicon-info-sign:before{content:"\e086"}.glyphicon-screenshot:before{content:"\e087"}.glyphicon-remove-circle:before{content:"\e088"}.glyphicon-ok-circle:before{content:"\e089"}.glyphicon-ban-circle:before{content:"\e090"}.glyphicon-arrow-left:before{content:"\e091"}.glyphicon-arrow-right:before{content:"\e092"}.glyphicon-arrow-up:before{content:"\e093"}.glyphicon-arrow-down:before{content:"\e094"}.glyphicon-share-alt:before{content:"\e095"}.glyphicon-resize-full:before{content:"\e096"}.glyphicon-resize-small:before{content:"\e097"}.glyphicon-exclamation-sign:before{content:"\e101"}.glyphicon-gift:before{content:"\e102"}.glyphicon-leaf:before{content:"\e103"}.glyphicon-fire:before{content:"\e104"}.glyphicon-eye-open:before{content:"\e105"}.glyphicon-eye-close:before{content:"\e106"}.glyphicon-warning-sign:before{content:"\e107"}.glyphicon-plane:before{content:"\e108"}.glyphicon-calendar:before{content:"\e109"}.glyphicon-random:before{content:"\e110"}.glyphicon-comment:before{content:"\e111"}.glyphicon-magnet:before{content:"\e112"}.glyphicon-chevron-up:before{content:"\e113"}.glyphicon-chevron-down:before{content:"\e114"}.glyphicon-retweet:before{content:"\e115"}.glyphicon-shopping-cart:before{content:"\e116"}.glyphicon-folder-close:before{content:"\e117"}.glyphicon-folder-open:before{content:"\e118"}.glyphicon-resize-vertical:before{content:"\e119"}.glyphicon-resize-horizontal:before{content:"\e120"}.glyphicon-hdd:before{content:"\e121"}.glyphicon-bullhorn:before{content:"\e122"}.glyphicon-bell:before{content:"\e123"}.glyphicon-certificate:before{content:"\e124"}.glyphicon-thumbs-up:before{content:"\e125"}.glyphicon-thumbs-down:before{content:"\e126"}.glyphicon-hand-right:before{content:"\e127"}.glyphicon-hand-left:before{content:"\e128"}.glyphicon-hand-up:before{content:"\e129"}.glyphicon-hand-down:before{content:"\e130"}.glyphicon-circle-arrow-right:before{content:"\e131"}.glyphicon-circle-arrow-left:before{content:"\e132"}.glyphicon-circle-arrow-up:before{content:"\e133"}.glyphicon-circle-arrow-down:before{content:"\e134"}.glyphicon-globe:before{content:"\e135"}.glyphicon-wrench:before{content:"\e136"}.glyphicon-tasks:before{content:"\e137"}.glyphicon-filter:before{content:"\e138"}.glyphicon-briefcase:before{content:"\e139"}.glyphicon-fullscreen:before{content:"\e140"}.glyphicon-dashboard:before{content:"\e141"}.glyphicon-paperclip:before{content:"\e142"}.glyphicon-heart-empty:before{content:"\e143"}.glyphicon-link:before{content:"\e144"}.glyphicon-phone:before{content:"\e145"}.glyphicon-pushpin:before{content:"\e146"}.glyphicon-usd:before{content:"\e148"}.glyphicon-gbp:before{content:"\e149"}.glyphicon-sort:before{content:"\e150"}.glyphicon-sort-by-alphabet:before{content:"\e151"}.glyphicon-sort-by-alphabet-alt:before{content:"\e152"}.glyphicon-sort-by-order:before{content:"\e153"}.glyphicon-sort-by-order-alt:before{content:"\e154"}.glyphicon-sort-by-attributes:before{content:"\e155"}.glyphicon-sort-by-attributes-alt:before{content:"\e156"}.glyphicon-unchecked:before{content:"\e157"}.glyphicon-expand:before{content:"\e158"}.glyphicon-collapse-down:before{content:"\e159"}.glyphicon-collapse-up:before{content:"\e160"}.glyphicon-log-in:before{content:"\e161"}.glyphicon-flash:before{content:"\e162"}.glyphicon-log-out:before{content:"\e163"}.glyphicon-new-window:before{content:"\e164"}.glyphicon-record:before{content:"\e165"}.glyphicon-save:before{content:"\e166"}.glyphicon-open:before{content:"\e167"}.glyphicon-saved:before{content:"\e168"}.glyphicon-import:before{content:"\e169"}.glyphicon-export:before{content:"\e170"}.glyphicon-send:before{content:"\e171"}.glyphicon-floppy-disk:before{content:"\e172"}.glyphicon-floppy-saved:before{content:"\e173"}.glyphicon-floppy-remove:before{content:"\e174"}.glyphicon-floppy-save:before{content:"\e175"}.glyphicon-floppy-open:before{content:"\e176"}.glyphicon-credit-card:before{content:"\e177"}.glyphicon-transfer:before{content:"\e178"}.glyphicon-cutlery:before{content:"\e179"}.glyphicon-header:before{content:"\e180"}.glyphicon-compressed:before{content:"\e181"}.glyphicon-earphone:before{content:"\e182"}.glyphicon-phone-alt:before{content:"\e183"}.glyphicon-tower:before{content:"\e184"}.glyphicon-stats:before{content:"\e185"}.glyphicon-sd-video:before{content:"\e186"}.glyphicon-hd-video:before{content:"\e187"}.glyphicon-subtitles:before{content:"\e188"}.glyphicon-sound-stereo:before{content:"\e189"}.glyphicon-sound-dolby:before{content:"\e190"}.glyphicon-sound-5-1:before{content:"\e191"}.glyphicon-sound-6-1:before{content:"\e192"}.glyphicon-sound-7-1:before{content:"\e193"}.glyphicon-copyright-mark:before{content:"\e194"}.glyphicon-registration-mark:before{content:"\e195"}.glyphicon-cloud-download:before{content:"\e197"}.glyphicon-cloud-upload:before{content:"\e198"}.glyphicon-tree-conifer:before{content:"\e199"}.glyphicon-tree-deciduous:before{content:"\e200"}.glyphicon-cd:before{content:"\e201"}.glyphicon-save-file:before{content:"\e202"}.glyphicon-open-file:before{content:"\e203"}.glyphicon-level-up:before{content:"\e204"}.glyphicon-copy:before{content:"\e205"}.glyphicon-paste:before{content:"\e206"}.glyphicon-alert:before{content:"\e209"}.glyphicon-equalizer:before{content:"\e210"}.glyphicon-king:before{content:"\e211"}.glyphicon-queen:before{content:"\e212"}.glyphicon-pawn:before{content:"\e213"}.glyphicon-bishop:before{content:"\e214"}.glyphicon-knight:before{content:"\e215"}.glyphicon-baby-formula:before{content:"\e216"}.glyphicon-tent:before{content:"\26fa"}.glyphicon-blackboard:before{content:"\e218"}.glyphicon-bed:before{content:"\e219"}.glyphicon-apple:before{content:"\f8ff"}.glyphicon-erase:before{content:"\e221"}.glyphicon-hourglass:before{content:"\231b"}.glyphicon-lamp:before{content:"\e223"}.glyphicon-duplicate:before{content:"\e224"}.glyphicon-piggy-bank:before{content:"\e225"}.glyphicon-scissors:before{content:"\e226"}.glyphicon-bitcoin:before,.glyphicon-btc:before,.glyphicon-xbt:before{content:"\e227"}.glyphicon-jpy:before,.glyphicon-yen:before{content:"\00a5"}.glyphicon-rub:before,.glyphicon-ruble:before{content:"\20bd"}.glyphicon-scale:before{content:"\e230"}.glyphicon-ice-lolly:before{content:"\e231"}.glyphicon-ice-lolly-tasted:before{content:"\e232"}.glyphicon-education:before{content:"\e233"}.glyphicon-option-horizontal:before{content:"\e234"}.glyphicon-option-vertical:before{content:"\e235"}.glyphicon-menu-hamburger:before{content:"\e236"}.glyphicon-modal-window:before{content:"\e237"}.glyphicon-oil:before{content:"\e238"}.glyphicon-grain:before{content:"\e239"}.glyphicon-sunglasses:before{content:"\e240"}.glyphicon-text-size:before{content:"\e241"}.glyphicon-text-color:before{content:"\e242"}.glyphicon-text-background:before{content:"\e243"}.glyphicon-object-align-top:before{content:"\e244"}.glyphicon-object-align-bottom:before{content:"\e245"}.glyphicon-object-align-horizontal:before{content:"\e246"}.glyphicon-object-align-left:before{content:"\e247"}.glyphicon-object-align-vertical:before{content:"\e248"}.glyphicon-object-align-right:before{content:"\e249"}.glyphicon-triangle-right:before{content:"\e250"}.glyphicon-triangle-left:before{content:"\e251"}.glyphicon-triangle-bottom:before{content:"\e252"}.glyphicon-triangle-top:before{content:"\e253"}.glyphicon-console:before{content:"\e254"}.glyphicon-superscript:before{content:"\e255"}.glyphicon-subscript:before{content:"\e256"}.glyphicon-menu-left:before{content:"\e257"}.glyphicon-menu-right:before{content:"\e258"}.glyphicon-menu-down:before{content:"\e259"}.glyphicon-menu-up:before{content:"\e260"}*,:after,:before{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}body{margin:0;font-family:"Helvetica Neue",Helvetica,Arial,sans-serif;font-size:13px;line-height:1.42857143;color:#000;background-color:#fff}button,input,select,textarea{font-family:inherit;font-size:inherit;line-height:inherit}a{color:#337ab7;text-decoration:none}a:focus,a:hover{color:#23527c;text-decoration:underline}a:focus{outline:dotted thin;outline:-webkit-focus-ring-color auto 5px;outline-offset:-2px}figure{margin:0}.carousel-inner>.item>a>img,.carousel-inner>.item>img,.img-responsive,.thumbnail a>img,.thumbnail>img{display:block;max-width:100%;height:auto}.img-rounded{border-radius:3px}.img-thumbnail{padding:4px;line-height:1.42857143;background-color:#fff;border:1px solid #ddd;border-radius:2px;-webkit-transition:all .2s ease-in-out;-o-transition:all .2s ease-in-out;transition:all .2s ease-in-out;display:inline-block;max-width:100%;height:auto}.img-circle{border-radius:50%}hr{margin-top:18px;margin-bottom:18px;border:0;border-top:1px solid #eee}.sr-only{position:absolute;width:1px;height:1px;margin:-1px;padding:0;overflow:hidden;clip:rect(0,0,0,0);border:0}.sr-only-focusable:active,.sr-only-focusable:focus{position:static;width:auto;height:auto;margin:0;overflow:visible;clip:auto}[role=button]{cursor:pointer}.h1,.h2,.h3,.h4,.h5,.h6,h1,h2,h3,h4,h5,h6{font-family:inherit;font-weight:500;line-height:1.1;color:inherit}.h1 .small,.h1 small,.h2 .small,.h2 small,.h3 .small,.h3 small,.h4 .small,.h4 small,.h5 .small,.h5 small,.h6 .small,.h6 small,h1 .small,h1 small,h2 .small,h2 small,h3 .small,h3 small,h4 .small,h4 small,h5 .small,h5 small,h6 .small,h6 small{font-weight:400;line-height:1;color:#777}.h1,.h2,.h3,h1,h2,h3{margin-top:18px;margin-bottom:9px}.h1 .small,.h1 small,.h2 .small,.h2 small,.h3 .small,.h3 small,h1 .small,h1 small,h2 .small,h2 small,h3 .small,h3 small{font-size:65%}.h4,.h5,.h6,h4,h5,h6{margin-top:9px;margin-bottom:9px}.h4 .small,.h4 small,.h5 .small,.h5 small,.h6 .small,.h6 small,h4 .small,h4 small,h5 .small,h5 small,h6 .small,h6 small{font-size:75%}.h1,h1{font-size:33px}.h2,h2{font-size:27px}.h3,h3{font-size:23px}.h4,h4{font-size:17px}.h5,h5{font-size:13px}.h6,h6{font-size:12px}p{margin:0 0 9px}.lead{margin-bottom:18px;font-size:14px;font-weight:300;line-height:1.4}@media (min-width:768px){.lead{font-size:19.5px}}.small,small{font-size:92%}.mark,mark{background-color:#fcf8e3;padding:.2em}.text-left{text-align:left}.text-right{text-align:right}.text-center{text-align:center}.text-justify{text-align:justify}.text-nowrap{white-space:nowrap}.text-lowercase{text-transform:lowercase}.text-uppercase{text-transform:uppercase}.text-capitalize{text-transform:capitalize}.text-muted{color:#777}.text-primary{color:#337ab7}a.text-primary:hover{color:#286090}.text-success{color:#3c763d}a.text-success:hover{color:#2b542c}.text-info{color:#31708f}a.text-info:hover{color:#245269}.text-warning{color:#8a6d3b}a.text-warning:hover{color:#66512c}.text-danger{color:#a94442}a.text-danger:hover{color:#843534}.bg-primary{color:#fff;background-color:#337ab7}a.bg-primary:hover{background-color:#286090}.bg-success{background-color:#dff0d8}a.bg-success:hover{background-color:#c1e2b3}.bg-info{background-color:#d9edf7}a.bg-info:hover{background-color:#afd9ee}.bg-warning{background-color:#fcf8e3}a.bg-warning:hover{background-color:#f7ecb5}.bg-danger{background-color:#f2dede}a.bg-danger:hover{background-color:#e4b9b9}.page-header{padding-bottom:8px;margin:36px 0 18px;border-bottom:1px solid #eee}ol,ul{margin-top:0;margin-bottom:9px}ol ol,ol ul,ul ol,ul ul{margin-bottom:0}.list-unstyled{padding-left:0;list-style:none}.list-inline{padding-left:0;list-style:none;margin-left:-5px}.list-inline>li{display:inline-block;padding-left:5px;padding-right:5px}dl{margin-top:0;margin-bottom:18px}dd,dt{line-height:1.42857143}dt{font-weight:700}dd{margin-left:0}@media (min-width:541px){.dl-horizontal dt{float:left;width:160px;clear:left;text-align:right;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.dl-horizontal dd{margin-left:180px}}abbr[data-original-title],abbr[title]{cursor:help;border-bottom:1px dotted #777}.initialism{font-size:90%;text-transform:uppercase}blockquote{padding:9px 18px;margin:0 0 18px;font-size:inherit;border-left:5px solid #eee}blockquote ol:last-child,blockquote p:last-child,blockquote ul:last-child{margin-bottom:0}blockquote .small,blockquote footer,blockquote small{display:block;font-size:80%;line-height:1.42857143;color:#777}blockquote .small:before,blockquote footer:before,blockquote small:before{content:'\2014 \00A0'}.blockquote-reverse,blockquote.pull-right{padding-right:15px;padding-left:0;border-right:5px solid #eee;border-left:0;text-align:right}.blockquote-reverse .small:before,.blockquote-reverse footer:before,.blockquote-reverse small:before,blockquote.pull-right .small:before,blockquote.pull-right footer:before,blockquote.pull-right small:before{content:''}.blockquote-reverse .small:after,.blockquote-reverse footer:after,.blockquote-reverse small:after,blockquote.pull-right .small:after,blockquote.pull-right footer:after,blockquote.pull-right small:after{content:'\00A0 \2014'}address{margin-bottom:18px;font-style:normal;line-height:1.42857143}code,kbd,pre,samp{font-family:monospace}code{padding:2px 4px;font-size:90%;background-color:#f9f2f4;border-radius:2px}kbd{padding:2px 4px;font-size:90%;color:#fff;background-color:#333;border-radius:1px;box-shadow:inset 0 -1px 0 rgba(0,0,0,.25)}kbd kbd{padding:0;font-size:100%;font-weight:700;box-shadow:none}pre{display:block;padding:8.5px;margin:0 0 9px;word-break:break-all;word-wrap:break-word;color:#333;background-color:#f5f5f5;border:1px solid #ccc;border-radius:2px}pre code{padding:0;font-size:inherit;color:inherit;white-space:pre-wrap;background-color:transparent;border-radius:0}.pre-scrollable{max-height:340px;overflow-y:scroll}.container{margin-right:auto;margin-left:auto;padding-left:0;padding-right:0}@media (min-width:768px){.container{width:768px}}@media (min-width:992px){.container{width:940px}}@media (min-width:1200px){.container{width:1140px}}.container-fluid{margin-right:auto;margin-left:auto;padding-left:0;padding-right:0}.row{margin-left:0;margin-right:0}.col-lg-1,.col-lg-10,.col-lg-11,.col-lg-12,.col-lg-2,.col-lg-3,.col-lg-4,.col-lg-5,.col-lg-6,.col-lg-7,.col-lg-8,.col-lg-9,.col-md-1,.col-md-10,.col-md-11,.col-md-12,.col-md-2,.col-md-3,.col-md-4,.col-md-5,.col-md-6,.col-md-7,.col-md-8,.col-md-9,.col-sm-1,.col-sm-10,.col-sm-11,.col-sm-12,.col-sm-2,.col-sm-3,.col-sm-4,.col-sm-5,.col-sm-6,.col-sm-7,.col-sm-8,.col-sm-9,.col-xs-1,.col-xs-10,.col-xs-11,.col-xs-12,.col-xs-2,.col-xs-3,.col-xs-4,.col-xs-5,.col-xs-6,.col-xs-7,.col-xs-8,.col-xs-9{position:relative;min-height:1px;padding-left:0;padding-right:0}.col-xs-1,.col-xs-10,.col-xs-11,.col-xs-12,.col-xs-2,.col-xs-3,.col-xs-4,.col-xs-5,.col-xs-6,.col-xs-7,.col-xs-8,.col-xs-9{float:left}.col-xs-12{width:100%}.col-xs-11{width:91.66666667%}.col-xs-10{width:83.33333333%}.col-xs-9{width:75%}.col-xs-8{width:66.66666667%}.col-xs-7{width:58.33333333%}.col-xs-6{width:50%}.col-xs-5{width:41.66666667%}.col-xs-4{width:33.33333333%}.col-xs-3{width:25%}.col-xs-2{width:16.66666667%}.col-xs-1{width:8.33333333%}.col-xs-pull-12{right:100%}.col-xs-pull-11{right:91.66666667%}.col-xs-pull-10{right:83.33333333%}.col-xs-pull-9{right:75%}.col-xs-pull-8{right:66.66666667%}.col-xs-pull-7{right:58.33333333%}.col-xs-pull-6{right:50%}.col-xs-pull-5{right:41.66666667%}.col-xs-pull-4{right:33.33333333%}.col-xs-pull-3{right:25%}.col-xs-pull-2{right:16.66666667%}.col-xs-pull-1{right:8.33333333%}.col-xs-pull-0{right:auto}.col-xs-push-12{left:100%}.col-xs-push-11{left:91.66666667%}.col-xs-push-10{left:83.33333333%}.col-xs-push-9{left:75%}.col-xs-push-8{left:66.66666667%}.col-xs-push-7{left:58.33333333%}.col-xs-push-6{left:50%}.col-xs-push-5{left:41.66666667%}.col-xs-push-4{left:33.33333333%}.col-xs-push-3{left:25%}.col-xs-push-2{left:16.66666667%}.col-xs-push-1{left:8.33333333%}.col-xs-push-0{left:auto}.col-xs-offset-12{margin-left:100%}.col-xs-offset-11{margin-left:91.66666667%}.col-xs-offset-10{margin-left:83.33333333%}.col-xs-offset-9{margin-left:75%}.col-xs-offset-8{margin-left:66.66666667%}.col-xs-offset-7{margin-left:58.33333333%}.col-xs-offset-6{margin-left:50%}.col-xs-offset-5{margin-left:41.66666667%}.col-xs-offset-4{margin-left:33.33333333%}.col-xs-offset-3{margin-left:25%}.col-xs-offset-2{margin-left:16.66666667%}.col-xs-offset-1{margin-left:8.33333333%}.col-xs-offset-0{margin-left:0}@media (min-width:768px){.col-sm-1,.col-sm-10,.col-sm-11,.col-sm-12,.col-sm-2,.col-sm-3,.col-sm-4,.col-sm-5,.col-sm-6,.col-sm-7,.col-sm-8,.col-sm-9{float:left}.col-sm-12{width:100%}.col-sm-11{width:91.66666667%}.col-sm-10{width:83.33333333%}.col-sm-9{width:75%}.col-sm-8{width:66.66666667%}.col-sm-7{width:58.33333333%}.col-sm-6{width:50%}.col-sm-5{width:41.66666667%}.col-sm-4{width:33.33333333%}.col-sm-3{width:25%}.col-sm-2{width:16.66666667%}.col-sm-1{width:8.33333333%}.col-sm-pull-12{right:100%}.col-sm-pull-11{right:91.66666667%}.col-sm-pull-10{right:83.33333333%}.col-sm-pull-9{right:75%}.col-sm-pull-8{right:66.66666667%}.col-sm-pull-7{right:58.33333333%}.col-sm-pull-6{right:50%}.col-sm-pull-5{right:41.66666667%}.col-sm-pull-4{right:33.33333333%}.col-sm-pull-3{right:25%}.col-sm-pull-2{right:16.66666667%}.col-sm-pull-1{right:8.33333333%}.col-sm-pull-0{right:auto}.col-sm-push-12{left:100%}.col-sm-push-11{left:91.66666667%}.col-sm-push-10{left:83.33333333%}.col-sm-push-9{left:75%}.col-sm-push-8{left:66.66666667%}.col-sm-push-7{left:58.33333333%}.col-sm-push-6{left:50%}.col-sm-push-5{left:41.66666667%}.col-sm-push-4{left:33.33333333%}.col-sm-push-3{left:25%}.col-sm-push-2{left:16.66666667%}.col-sm-push-1{left:8.33333333%}.col-sm-push-0{left:auto}.col-sm-offset-12{margin-left:100%}.col-sm-offset-11{margin-left:91.66666667%}.col-sm-offset-10{margin-left:83.33333333%}.col-sm-offset-9{margin-left:75%}.col-sm-offset-8{margin-left:66.66666667%}.col-sm-offset-7{margin-left:58.33333333%}.col-sm-offset-6{margin-left:50%}.col-sm-offset-5{margin-left:41.66666667%}.col-sm-offset-4{margin-left:33.33333333%}.col-sm-offset-3{margin-left:25%}.col-sm-offset-2{margin-left:16.66666667%}.col-sm-offset-1{margin-left:8.33333333%}.col-sm-offset-0{margin-left:0}}@media (min-width:992px){.col-md-1,.col-md-10,.col-md-11,.col-md-12,.col-md-2,.col-md-3,.col-md-4,.col-md-5,.col-md-6,.col-md-7,.col-md-8,.col-md-9{float:left}.col-md-12{width:100%}.col-md-11{width:91.66666667%}.col-md-10{width:83.33333333%}.col-md-9{width:75%}.col-md-8{width:66.66666667%}.col-md-7{width:58.33333333%}.col-md-6{width:50%}.col-md-5{width:41.66666667%}.col-md-4{width:33.33333333%}.col-md-3{width:25%}.col-md-2{width:16.66666667%}.col-md-1{width:8.33333333%}.col-md-pull-12{right:100%}.col-md-pull-11{right:91.66666667%}.col-md-pull-10{right:83.33333333%}.col-md-pull-9{right:75%}.col-md-pull-8{right:66.66666667%}.col-md-pull-7{right:58.33333333%}.col-md-pull-6{right:50%}.col-md-pull-5{right:41.66666667%}.col-md-pull-4{right:33.33333333%}.col-md-pull-3{right:25%}.col-md-pull-2{right:16.66666667%}.col-md-pull-1{right:8.33333333%}.col-md-pull-0{right:auto}.col-md-push-12{left:100%}.col-md-push-11{left:91.66666667%}.col-md-push-10{left:83.33333333%}.col-md-push-9{left:75%}.col-md-push-8{left:66.66666667%}.col-md-push-7{left:58.33333333%}.col-md-push-6{left:50%}.col-md-push-5{left:41.66666667%}.col-md-push-4{left:33.33333333%}.col-md-push-3{left:25%}.col-md-push-2{left:16.66666667%}.col-md-push-1{left:8.33333333%}.col-md-push-0{left:auto}.col-md-offset-12{margin-left:100%}.col-md-offset-11{margin-left:91.66666667%}.col-md-offset-10{margin-left:83.33333333%}.col-md-offset-9{margin-left:75%}.col-md-offset-8{margin-left:66.66666667%}.col-md-offset-7{margin-left:58.33333333%}.col-md-offset-6{margin-left:50%}.col-md-offset-5{margin-left:41.66666667%}.col-md-offset-4{margin-left:33.33333333%}.col-md-offset-3{margin-left:25%}.col-md-offset-2{margin-left:16.66666667%}.col-md-offset-1{margin-left:8.33333333%}.col-md-offset-0{margin-left:0}}@media (min-width:1200px){.col-lg-1,.col-lg-10,.col-lg-11,.col-lg-12,.col-lg-2,.col-lg-3,.col-lg-4,.col-lg-5,.col-lg-6,.col-lg-7,.col-lg-8,.col-lg-9{float:left}.col-lg-12{width:100%}.col-lg-11{width:91.66666667%}.col-lg-10{width:83.33333333%}.col-lg-9{width:75%}.col-lg-8{width:66.66666667%}.col-lg-7{width:58.33333333%}.col-lg-6{width:50%}.col-lg-5{width:41.66666667%}.col-lg-4{width:33.33333333%}.col-lg-3{width:25%}.col-lg-2{width:16.66666667%}.col-lg-1{width:8.33333333%}.col-lg-pull-12{right:100%}.col-lg-pull-11{right:91.66666667%}.col-lg-pull-10{right:83.33333333%}.col-lg-pull-9{right:75%}.col-lg-pull-8{right:66.66666667%}.col-lg-pull-7{right:58.33333333%}.col-lg-pull-6{right:50%}.col-lg-pull-5{right:41.66666667%}.col-lg-pull-4{right:33.33333333%}.col-lg-pull-3{right:25%}.col-lg-pull-2{right:16.66666667%}.col-lg-pull-1{right:8.33333333%}.col-lg-pull-0{right:auto}.col-lg-push-12{left:100%}.col-lg-push-11{left:91.66666667%}.col-lg-push-10{left:83.33333333%}.col-lg-push-9{left:75%}.col-lg-push-8{left:66.66666667%}.col-lg-push-7{left:58.33333333%}.col-lg-push-6{left:50%}.col-lg-push-5{left:41.66666667%}.col-lg-push-4{left:33.33333333%}.col-lg-push-3{left:25%}.col-lg-push-2{left:16.66666667%}.col-lg-push-1{left:8.33333333%}.col-lg-push-0{left:auto}.col-lg-offset-12{margin-left:100%}.col-lg-offset-11{margin-left:91.66666667%}.col-lg-offset-10{margin-left:83.33333333%}.col-lg-offset-9{margin-left:75%}.col-lg-offset-8{margin-left:66.66666667%}.col-lg-offset-7{margin-left:58.33333333%}.col-lg-offset-6{margin-left:50%}.col-lg-offset-5{margin-left:41.66666667%}.col-lg-offset-4{margin-left:33.33333333%}.col-lg-offset-3{margin-left:25%}.col-lg-offset-2{margin-left:16.66666667%}.col-lg-offset-1{margin-left:8.33333333%}.col-lg-offset-0{margin-left:0}}table{background-color:transparent}caption{padding-top:8px;padding-bottom:8px;color:#777;text-align:left}th{text-align:left}.table{width:100%;max-width:100%;margin-bottom:18px}.table>tbody>tr>td,.table>tbody>tr>th,.table>tfoot>tr>td,.table>tfoot>tr>th,.table>thead>tr>td,.table>thead>tr>th{padding:8px;line-height:1.42857143;vertical-align:top;border-top:1px solid #ddd}.table>thead>tr>th{vertical-align:bottom;border-bottom:2px solid #ddd}.table>caption+thead>tr:first-child>td,.table>caption+thead>tr:first-child>th,.table>colgroup+thead>tr:first-child>td,.table>colgroup+thead>tr:first-child>th,.table>thead:first-child>tr:first-child>td,.table>thead:first-child>tr:first-child>th{border-top:0}.table>tbody+tbody{border-top:2px solid #ddd}.table .table{background-color:#fff}.table-condensed>tbody>tr>td,.table-condensed>tbody>tr>th,.table-condensed>tfoot>tr>td,.table-condensed>tfoot>tr>th,.table-condensed>thead>tr>td,.table-condensed>thead>tr>th{padding:5px}.table-bordered,.table-bordered>tbody>tr>td,.table-bordered>tbody>tr>th,.table-bordered>tfoot>tr>td,.table-bordered>tfoot>tr>th,.table-bordered>thead>tr>td,.table-bordered>thead>tr>th{border:1px solid #ddd}.table-bordered>thead>tr>td,.table-bordered>thead>tr>th{border-bottom-width:2px}.table-striped>tbody>tr:nth-of-type(odd){background-color:#f9f9f9}.table-hover>tbody>tr:hover{background-color:#f5f5f5}table col[class*=col-]{position:static;float:none;display:table-column}table td[class*=col-],table th[class*=col-]{position:static;float:none;display:table-cell}.table>tbody>tr.active>td,.table>tbody>tr.active>th,.table>tbody>tr>td.active,.table>tbody>tr>th.active,.table>tfoot>tr.active>td,.table>tfoot>tr.active>th,.table>tfoot>tr>td.active,.table>tfoot>tr>th.active,.table>thead>tr.active>td,.table>thead>tr.active>th,.table>thead>tr>td.active,.table>thead>tr>th.active{background-color:#f5f5f5}.table-hover>tbody>tr.active:hover>td,.table-hover>tbody>tr.active:hover>th,.table-hover>tbody>tr:hover>.active,.table-hover>tbody>tr>td.active:hover,.table-hover>tbody>tr>th.active:hover{background-color:#e8e8e8}.table>tbody>tr.success>td,.table>tbody>tr.success>th,.table>tbody>tr>td.success,.table>tbody>tr>th.success,.table>tfoot>tr.success>td,.table>tfoot>tr.success>th,.table>tfoot>tr>td.success,.table>tfoot>tr>th.success,.table>thead>tr.success>td,.table>thead>tr.success>th,.table>thead>tr>td.success,.table>thead>tr>th.success{background-color:#dff0d8}.table-hover>tbody>tr.success:hover>td,.table-hover>tbody>tr.success:hover>th,.table-hover>tbody>tr:hover>.success,.table-hover>tbody>tr>td.success:hover,.table-hover>tbody>tr>th.success:hover{background-color:#d0e9c6}.table>tbody>tr.info>td,.table>tbody>tr.info>th,.table>tbody>tr>td.info,.table>tbody>tr>th.info,.table>tfoot>tr.info>td,.table>tfoot>tr.info>th,.table>tfoot>tr>td.info,.table>tfoot>tr>th.info,.table>thead>tr.info>td,.table>thead>tr.info>th,.table>thead>tr>td.info,.table>thead>tr>th.info{background-color:#d9edf7}.table-hover>tbody>tr.info:hover>td,.table-hover>tbody>tr.info:hover>th,.table-hover>tbody>tr:hover>.info,.table-hover>tbody>tr>td.info:hover,.table-hover>tbody>tr>th.info:hover{background-color:#c4e3f3}.table>tbody>tr.warning>td,.table>tbody>tr.warning>th,.table>tbody>tr>td.warning,.table>tbody>tr>th.warning,.table>tfoot>tr.warning>td,.table>tfoot>tr.warning>th,.table>tfoot>tr>td.warning,.table>tfoot>tr>th.warning,.table>thead>tr.warning>td,.table>thead>tr.warning>th,.table>thead>tr>td.warning,.table>thead>tr>th.warning{background-color:#fcf8e3}.table-hover>tbody>tr.warning:hover>td,.table-hover>tbody>tr.warning:hover>th,.table-hover>tbody>tr:hover>.warning,.table-hover>tbody>tr>td.warning:hover,.table-hover>tbody>tr>th.warning:hover{background-color:#faf2cc}.table>tbody>tr.danger>td,.table>tbody>tr.danger>th,.table>tbody>tr>td.danger,.table>tbody>tr>th.danger,.table>tfoot>tr.danger>td,.table>tfoot>tr.danger>th,.table>tfoot>tr>td.danger,.table>tfoot>tr>th.danger,.table>thead>tr.danger>td,.table>thead>tr.danger>th,.table>thead>tr>td.danger,.table>thead>tr>th.danger{background-color:#f2dede}.table-hover>tbody>tr.danger:hover>td,.table-hover>tbody>tr.danger:hover>th,.table-hover>tbody>tr:hover>.danger,.table-hover>tbody>tr>td.danger:hover,.table-hover>tbody>tr>th.danger:hover{background-color:#ebcccc}.table-responsive{overflow-x:auto;min-height:.01%}@media screen and (max-width:767px){.table-responsive{width:100%;margin-bottom:13.5px;overflow-y:hidden;-ms-overflow-style:-ms-autohiding-scrollbar;border:1px solid #ddd}.table-responsive>.table{margin-bottom:0}.table-responsive>.table>tbody>tr>td,.table-responsive>.table>tbody>tr>th,.table-responsive>.table>tfoot>tr>td,.table-responsive>.table>tfoot>tr>th,.table-responsive>.table>thead>tr>td,.table-responsive>.table>thead>tr>th{white-space:nowrap}.table-responsive>.table-bordered{border:0}.table-responsive>.table-bordered>tbody>tr>td:first-child,.table-responsive>.table-bordered>tbody>tr>th:first-child,.table-responsive>.table-bordered>tfoot>tr>td:first-child,.table-responsive>.table-bordered>tfoot>tr>th:first-child,.table-responsive>.table-bordered>thead>tr>td:first-child,.table-responsive>.table-bordered>thead>tr>th:first-child{border-left:0}.table-responsive>.table-bordered>tbody>tr>td:last-child,.table-responsive>.table-bordered>tbody>tr>th:last-child,.table-responsive>.table-bordered>tfoot>tr>td:last-child,.table-responsive>.table-bordered>tfoot>tr>th:last-child,.table-responsive>.table-bordered>thead>tr>td:last-child,.table-responsive>.table-bordered>thead>tr>th:last-child{border-right:0}.table-responsive>.table-bordered>tbody>tr:last-child>td,.table-responsive>.table-bordered>tbody>tr:last-child>th,.table-responsive>.table-bordered>tfoot>tr:last-child>td,.table-responsive>.table-bordered>tfoot>tr:last-child>th{border-bottom:0}}fieldset{padding:0;margin:0;border:0;min-width:0}legend{display:block;width:100%;padding:0;margin-bottom:18px;font-size:19.5px;line-height:inherit;color:#333;border:0;border-bottom:1px solid #e5e5e5}label{display:inline-block;max-width:100%;margin-bottom:5px}input[type=search]{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;-webkit-appearance:none}input[type=checkbox],input[type=radio]{margin:4px 0 0;margin-top:1px \9;line-height:normal}input[type=file]{display:block}input[type=range]{display:block;width:100%}select[multiple],select[size]{height:auto}input[type=file]:focus,input[type=checkbox]:focus,input[type=radio]:focus{outline:dotted thin;outline:-webkit-focus-ring-color auto 5px;outline-offset:-2px}output{display:block;padding-top:7px;font-size:13px;line-height:1.42857143;color:#555}.form-control{display:block;width:100%;height:32px;padding:6px 12px;font-size:13px;line-height:1.42857143;color:#555;background-color:#fff;background-image:none;border:1px solid #ccc;border-radius:2px;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,.075);box-shadow:inset 0 1px 1px rgba(0,0,0,.075);-webkit-transition:border-color ease-in-out .15s,box-shadow ease-in-out .15s;-o-transition:border-color ease-in-out .15s,box-shadow ease-in-out .15s;transition:border-color ease-in-out .15s,box-shadow ease-in-out .15s}.form-control:focus{border-color:#66afe9;outline:0;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,.075),0 0 8px rgba(102,175,233,.6);box-shadow:inset 0 1px 1px rgba(0,0,0,.075),0 0 8px rgba(102,175,233,.6)}.form-control::-moz-placeholder{color:#999;opacity:1}.form-control:-ms-input-placeholder{color:#999}.form-control::-webkit-input-placeholder{color:#999}.form-control[disabled],.form-control[readonly],fieldset[disabled] .form-control{background-color:#eee;opacity:1}.form-control[disabled],fieldset[disabled] .form-control{cursor:not-allowed}textarea.form-control{height:auto}@media screen and (-webkit-min-device-pixel-ratio:0){input[type=date],input[type=time],input[type=datetime-local],input[type=month]{line-height:32px}.input-group-sm input[type=date],.input-group-sm input[type=time],.input-group-sm input[type=datetime-local],.input-group-sm input[type=month],input[type=date].input-sm,input[type=time].input-sm,input[type=datetime-local].input-sm,input[type=month].input-sm{line-height:30px}.input-group-lg input[type=date],.input-group-lg input[type=time],.input-group-lg input[type=datetime-local],.input-group-lg input[type=month],input[type=date].input-lg,input[type=time].input-lg,input[type=datetime-local].input-lg,input[type=month].input-lg{line-height:45px}}.form-group{margin-bottom:15px}.checkbox,.radio{position:relative;display:block;margin-top:10px;margin-bottom:10px}.checkbox label,.radio label{min-height:18px;padding-left:20px;margin-bottom:0;font-weight:400;cursor:pointer}.checkbox input[type=checkbox],.checkbox-inline input[type=checkbox],.radio input[type=radio],.radio-inline input[type=radio]{position:absolute;margin-left:-20px;margin-top:4px \9}.checkbox+.checkbox,.radio+.radio{margin-top:-5px}.checkbox-inline,.radio-inline{position:relative;display:inline-block;padding-left:20px;margin-bottom:0;vertical-align:middle;font-weight:400;cursor:pointer}.checkbox-inline+.checkbox-inline,.radio-inline+.radio-inline{margin-top:0;margin-left:10px}.checkbox-inline.disabled,.checkbox.disabled label,.radio-inline.disabled,.radio.disabled label,fieldset[disabled] .checkbox label,fieldset[disabled] .checkbox-inline,fieldset[disabled] .radio label,fieldset[disabled] .radio-inline,fieldset[disabled] input[type=checkbox],fieldset[disabled] input[type=radio],input[type=checkbox].disabled,input[type=checkbox][disabled],input[type=radio].disabled,input[type=radio][disabled]{cursor:not-allowed}.form-control-static{padding-top:7px;padding-bottom:7px;margin-bottom:0;min-height:31px}.form-control-static.input-lg,.form-control-static.input-sm{padding-left:0;padding-right:0}.input-sm{height:30px;padding:5px 10px;font-size:12px;line-height:1.5;border-radius:1px}select.input-sm{height:30px;line-height:30px}select[multiple].input-sm,textarea.input-sm{height:auto}.form-group-sm .form-control{height:30px;padding:5px 10px;font-size:12px;line-height:1.5;border-radius:1px}select.form-group-sm .form-control{height:30px;line-height:30px}select[multiple].form-group-sm .form-control,textarea.form-group-sm .form-control{height:auto}.form-group-sm .form-control-static{height:30px;padding:5px 10px;font-size:12px;line-height:1.5;min-height:30px}.input-lg{height:45px;padding:10px 16px;font-size:17px;line-height:1.3333333;border-radius:3px}select.input-lg{height:45px;line-height:45px}select[multiple].input-lg,textarea.input-lg{height:auto}.form-group-lg .form-control{height:45px;padding:10px 16px;font-size:17px;line-height:1.3333333;border-radius:3px}select.form-group-lg .form-control{height:45px;line-height:45px}select[multiple].form-group-lg .form-control,textarea.form-group-lg .form-control{height:auto}.form-group-lg .form-control-static{height:45px;padding:10px 16px;font-size:17px;line-height:1.3333333;min-height:35px}.has-feedback{position:relative}.has-feedback .form-control{padding-right:40px}.form-control-feedback{position:absolute;top:0;right:0;z-index:2;display:block;width:32px;height:32px;line-height:32px;text-align:center;pointer-events:none}.input-lg+.form-control-feedback{width:45px;height:45px;line-height:45px}.input-sm+.form-control-feedback{width:30px;height:30px;line-height:30px}.has-success .checkbox,.has-success .checkbox-inline,.has-success .control-label,.has-success .help-block,.has-success .radio,.has-success .radio-inline,.has-success.checkbox label,.has-success.checkbox-inline label,.has-success.radio label,.has-success.radio-inline label{color:#3c763d}.has-success .form-control{border-color:#3c763d;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,.075);box-shadow:inset 0 1px 1px rgba(0,0,0,.075)}.has-success .form-control:focus{border-color:#2b542c;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,.075),0 0 6px #67b168;box-shadow:inset 0 1px 1px rgba(0,0,0,.075),0 0 6px #67b168}.has-success .input-group-addon{color:#3c763d;border-color:#3c763d;background-color:#dff0d8}.has-success .form-control-feedback{color:#3c763d}.has-warning .checkbox,.has-warning .checkbox-inline,.has-warning .control-label,.has-warning .help-block,.has-warning .radio,.has-warning .radio-inline,.has-warning.checkbox label,.has-warning.checkbox-inline label,.has-warning.radio label,.has-warning.radio-inline label{color:#8a6d3b}.has-warning .form-control{border-color:#8a6d3b;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,.075);box-shadow:inset 0 1px 1px rgba(0,0,0,.075)}.has-warning .form-control:focus{border-color:#66512c;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,.075),0 0 6px #c0a16b;box-shadow:inset 0 1px 1px rgba(0,0,0,.075),0 0 6px #c0a16b}.has-warning .input-group-addon{color:#8a6d3b;border-color:#8a6d3b;background-color:#fcf8e3}.has-warning .form-control-feedback{color:#8a6d3b}.has-error .checkbox,.has-error .checkbox-inline,.has-error .control-label,.has-error .help-block,.has-error .radio,.has-error .radio-inline,.has-error.checkbox label,.has-error.checkbox-inline label,.has-error.radio label,.has-error.radio-inline label{color:#a94442}.has-error .form-control{border-color:#a94442;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,.075);box-shadow:inset 0 1px 1px rgba(0,0,0,.075)}.has-error .form-control:focus{border-color:#843534;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,.075),0 0 6px #ce8483;box-shadow:inset 0 1px 1px rgba(0,0,0,.075),0 0 6px #ce8483}.has-error .input-group-addon{color:#a94442;border-color:#a94442;background-color:#f2dede}.has-error .form-control-feedback{color:#a94442}.has-feedback label~.form-control-feedback{top:23px}.has-feedback label.sr-only~.form-control-feedback{top:0}.help-block{display:block;margin-top:5px;margin-bottom:10px;color:#404040}.form-horizontal .checkbox,.form-horizontal .checkbox-inline,.form-horizontal .radio,.form-horizontal .radio-inline{margin-top:0;margin-bottom:0;padding-top:7px}.form-horizontal .checkbox,.form-horizontal .radio{min-height:25px}.form-horizontal .form-group{margin-left:0;margin-right:0}.form-horizontal .has-feedback .form-control-feedback{right:0}@media (min-width:768px){.form-inline .form-group{display:inline-block;margin-bottom:0;vertical-align:middle}.form-inline .form-control{display:inline-block;width:auto;vertical-align:middle}.form-inline .form-control-static{display:inline-block}.form-inline .input-group{display:inline-table;vertical-align:middle}.form-inline .input-group .form-control,.form-inline .input-group .input-group-addon,.form-inline .input-group .input-group-btn{width:auto}.form-inline .input-group>.form-control{width:100%}.form-inline .control-label{margin-bottom:0;vertical-align:middle}.form-inline .checkbox,.form-inline .radio{display:inline-block;margin-top:0;margin-bottom:0;vertical-align:middle}.form-inline .checkbox label,.form-inline .radio label{padding-left:0}.form-inline .checkbox input[type=checkbox],.form-inline .radio input[type=radio]{position:relative;margin-left:0}.form-inline .has-feedback .form-control-feedback{top:0}.form-horizontal .control-label{text-align:right;margin-bottom:0;padding-top:7px}.form-horizontal .form-group-lg .control-label{padding-top:14.33px}.form-horizontal .form-group-sm .control-label{padding-top:6px}}.btn{display:inline-block;margin-bottom:0;font-weight:400;text-align:center;vertical-align:middle;touch-action:manipulation;cursor:pointer;background-image:none;border:1px solid transparent;white-space:nowrap;padding:6px 12px;font-size:13px;line-height:1.42857143;border-radius:2px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.btn.active.focus,.btn.active:focus,.btn.focus,.btn:active.focus,.btn:active:focus,.btn:focus{outline:dotted thin;outline:-webkit-focus-ring-color auto 5px;outline-offset:-2px}.btn.focus,.btn:focus,.btn:hover{color:#333;text-decoration:none}.btn.active,.btn:active{outline:0;background-image:none;-webkit-box-shadow:inset 0 3px 5px rgba(0,0,0,.125);box-shadow:inset 0 3px 5px rgba(0,0,0,.125)}.btn.disabled,.btn[disabled],fieldset[disabled] .btn{cursor:not-allowed;pointer-events:none;opacity:.65;filter:alpha(opacity=65);-webkit-box-shadow:none;box-shadow:none}.btn-default{color:#333;background-color:#fff;border-color:#ccc}.btn-default.active,.btn-default.focus,.btn-default:active,.btn-default:focus,.btn-default:hover,.open>.dropdown-toggle.btn-default{color:#333;background-color:#e6e6e6;border-color:#adadad}.btn-default.active,.btn-default:active,.open>.dropdown-toggle.btn-default{background-image:none}.btn-default.disabled,.btn-default.disabled.active,.btn-default.disabled.focus,.btn-default.disabled:active,.btn-default.disabled:focus,.btn-default.disabled:hover,.btn-default[disabled],.btn-default[disabled].active,.btn-default[disabled].focus,.btn-default[disabled]:active,.btn-default[disabled]:focus,.btn-default[disabled]:hover,fieldset[disabled] .btn-default,fieldset[disabled] .btn-default.active,fieldset[disabled] .btn-default.focus,fieldset[disabled] .btn-default:active,fieldset[disabled] .btn-default:focus,fieldset[disabled] .btn-default:hover{background-color:#fff;border-color:#ccc}.btn-default .badge{color:#fff;background-color:#333}.btn-primary{color:#fff;background-color:#337ab7;border-color:#2e6da4}.btn-primary.active,.btn-primary.focus,.btn-primary:active,.btn-primary:focus,.btn-primary:hover,.open>.dropdown-toggle.btn-primary{color:#fff;background-color:#286090;border-color:#204d74}.btn-primary.active,.btn-primary:active,.open>.dropdown-toggle.btn-primary{background-image:none}.btn-primary.disabled,.btn-primary.disabled.active,.btn-primary.disabled.focus,.btn-primary.disabled:active,.btn-primary.disabled:focus,.btn-primary.disabled:hover,.btn-primary[disabled],.btn-primary[disabled].active,.btn-primary[disabled].focus,.btn-primary[disabled]:active,.btn-primary[disabled]:focus,.btn-primary[disabled]:hover,fieldset[disabled] .btn-primary,fieldset[disabled] .btn-primary.active,fieldset[disabled] .btn-primary.focus,fieldset[disabled] .btn-primary:active,fieldset[disabled] .btn-primary:focus,fieldset[disabled] .btn-primary:hover{background-color:#337ab7;border-color:#2e6da4}.btn-primary .badge{color:#337ab7;background-color:#fff}.btn-success{color:#fff;background-color:#5cb85c;border-color:#4cae4c}.btn-success.active,.btn-success.focus,.btn-success:active,.btn-success:focus,.btn-success:hover,.open>.dropdown-toggle.btn-success{color:#fff;background-color:#449d44;border-color:#398439}.btn-success.active,.btn-success:active,.open>.dropdown-toggle.btn-success{background-image:none}.btn-success.disabled,.btn-success.disabled.active,.btn-success.disabled.focus,.btn-success.disabled:active,.btn-success.disabled:focus,.btn-success.disabled:hover,.btn-success[disabled],.btn-success[disabled].active,.btn-success[disabled].focus,.btn-success[disabled]:active,.btn-success[disabled]:focus,.btn-success[disabled]:hover,fieldset[disabled] .btn-success,fieldset[disabled] .btn-success.active,fieldset[disabled] .btn-success.focus,fieldset[disabled] .btn-success:active,fieldset[disabled] .btn-success:focus,fieldset[disabled] .btn-success:hover{background-color:#5cb85c;border-color:#4cae4c}.btn-success .badge{color:#5cb85c;background-color:#fff}.btn-info{color:#fff;background-color:#5bc0de;border-color:#46b8da}.btn-info.active,.btn-info.focus,.btn-info:active,.btn-info:focus,.btn-info:hover,.open>.dropdown-toggle.btn-info{color:#fff;background-color:#31b0d5;border-color:#269abc}.btn-info.active,.btn-info:active,.open>.dropdown-toggle.btn-info{background-image:none}.btn-info.disabled,.btn-info.disabled.active,.btn-info.disabled.focus,.btn-info.disabled:active,.btn-info.disabled:focus,.btn-info.disabled:hover,.btn-info[disabled],.btn-info[disabled].active,.btn-info[disabled].focus,.btn-info[disabled]:active,.btn-info[disabled]:focus,.btn-info[disabled]:hover,fieldset[disabled] .btn-info,fieldset[disabled] .btn-info.active,fieldset[disabled] .btn-info.focus,fieldset[disabled] .btn-info:active,fieldset[disabled] .btn-info:focus,fieldset[disabled] .btn-info:hover{background-color:#5bc0de;border-color:#46b8da}.btn-info .badge{color:#5bc0de;background-color:#fff}.btn-warning{color:#fff;background-color:#f0ad4e;border-color:#eea236}.btn-warning.active,.btn-warning.focus,.btn-warning:active,.btn-warning:focus,.btn-warning:hover,.open>.dropdown-toggle.btn-warning{color:#fff;background-color:#ec971f;border-color:#d58512}.btn-warning.active,.btn-warning:active,.open>.dropdown-toggle.btn-warning{background-image:none}.btn-warning.disabled,.btn-warning.disabled.active,.btn-warning.disabled.focus,.btn-warning.disabled:active,.btn-warning.disabled:focus,.btn-warning.disabled:hover,.btn-warning[disabled],.btn-warning[disabled].active,.btn-warning[disabled].focus,.btn-warning[disabled]:active,.btn-warning[disabled]:focus,.btn-warning[disabled]:hover,fieldset[disabled] .btn-warning,fieldset[disabled] .btn-warning.active,fieldset[disabled] .btn-warning.focus,fieldset[disabled] .btn-warning:active,fieldset[disabled] .btn-warning:focus,fieldset[disabled] .btn-warning:hover{background-color:#f0ad4e;border-color:#eea236}.btn-warning .badge{color:#f0ad4e;background-color:#fff}.btn-danger{color:#fff;background-color:#d9534f;border-color:#d43f3a}.btn-danger.active,.btn-danger.focus,.btn-danger:active,.btn-danger:focus,.btn-danger:hover,.open>.dropdown-toggle.btn-danger{color:#fff;background-color:#c9302c;border-color:#ac2925}.btn-danger.active,.btn-danger:active,.open>.dropdown-toggle.btn-danger{background-image:none}.btn-danger.disabled,.btn-danger.disabled.active,.btn-danger.disabled.focus,.btn-danger.disabled:active,.btn-danger.disabled:focus,.btn-danger.disabled:hover,.btn-danger[disabled],.btn-danger[disabled].active,.btn-danger[disabled].focus,.btn-danger[disabled]:active,.btn-danger[disabled]:focus,.btn-danger[disabled]:hover,fieldset[disabled] .btn-danger,fieldset[disabled] .btn-danger.active,fieldset[disabled] .btn-danger.focus,fieldset[disabled] .btn-danger:active,fieldset[disabled] .btn-danger:focus,fieldset[disabled] .btn-danger:hover{background-color:#d9534f;border-color:#d43f3a}.btn-danger .badge{color:#d9534f;background-color:#fff}.btn-link{color:#337ab7;font-weight:400;border-radius:0}.btn-link,.btn-link.active,.btn-link:active,.btn-link[disabled],fieldset[disabled] .btn-link{background-color:transparent;-webkit-box-shadow:none;box-shadow:none}.btn-link,.btn-link:active,.btn-link:focus,.btn-link:hover{border-color:transparent}.btn-link:focus,.btn-link:hover{color:#23527c;text-decoration:underline;background-color:transparent}.btn-link[disabled]:focus,.btn-link[disabled]:hover,fieldset[disabled] .btn-link:focus,fieldset[disabled] .btn-link:hover{color:#777;text-decoration:none}.btn-group-lg>.btn,.btn-lg{padding:10px 16px;font-size:17px;line-height:1.3333333;border-radius:3px}.btn-group-sm>.btn,.btn-sm{padding:5px 10px;font-size:12px;line-height:1.5;border-radius:1px}.btn-group-xs>.btn,.btn-xs{padding:1px 5px;font-size:12px;line-height:1.5;border-radius:1px}.btn-block{display:block;width:100%}.btn-block+.btn-block{margin-top:5px}input[type=button].btn-block,input[type=reset].btn-block,input[type=submit].btn-block{width:100%}.fade{opacity:0;-webkit-transition:opacity .15s linear;-o-transition:opacity .15s linear;transition:opacity .15s linear}.fade.in{opacity:1}.collapse{display:none}.collapse.in{display:block}tr.collapse.in{display:table-row}tbody.collapse.in{display:table-row-group}.collapsing{position:relative;height:0;overflow:hidden;-webkit-transition-property:height,visibility;transition-property:height,visibility;-webkit-transition-duration:.35s;transition-duration:.35s;-webkit-transition-timing-function:ease;transition-timing-function:ease}.caret{display:inline-block;width:0;height:0;margin-left:2px;vertical-align:middle;border-top:4px dashed;border-right:4px solid transparent;border-left:4px solid transparent}.dropdown,.dropup{position:relative}.dropdown-toggle:focus{outline:0}.dropdown-menu{position:absolute;top:100%;left:0;z-index:1000;display:none;float:left;min-width:160px;padding:5px 0;margin:2px 0 0;list-style:none;font-size:13px;text-align:left;background-color:#fff;border:1px solid #ccc;border:1px solid rgba(0,0,0,.15);border-radius:2px;-webkit-box-shadow:0 6px 12px rgba(0,0,0,.175);box-shadow:0 6px 12px rgba(0,0,0,.175);background-clip:padding-box}.dropdown-menu.pull-right{right:0;left:auto}.dropdown-menu .divider{height:1px;margin:8px 0;overflow:hidden;background-color:#e5e5e5}.dropdown-menu>li>a{display:block;padding:3px 20px;clear:both;font-weight:400;line-height:1.42857143;color:#333;white-space:nowrap}.dropdown-menu>li>a:focus,.dropdown-menu>li>a:hover{text-decoration:none;color:#262626;background-color:#f5f5f5}.dropdown-menu>.active>a,.dropdown-menu>.active>a:focus,.dropdown-menu>.active>a:hover{color:#fff;text-decoration:none;outline:0;background-color:#337ab7}.dropdown-menu>.disabled>a,.dropdown-menu>.disabled>a:focus,.dropdown-menu>.disabled>a:hover{color:#777}.dropdown-menu>.disabled>a:focus,.dropdown-menu>.disabled>a:hover{text-decoration:none;background-color:transparent;background-image:none;filter:progid:DXImageTransform.Microsoft.gradient(enabled=false);cursor:not-allowed}.open>.dropdown-menu{display:block}.open>a{outline:0}.dropdown-menu-right{left:auto;right:0}.dropdown-menu-left{left:0;right:auto}.dropdown-header{display:block;padding:3px 20px;font-size:12px;line-height:1.42857143;color:#777;white-space:nowrap}.dropdown-backdrop{position:fixed;left:0;right:0;bottom:0;top:0;z-index:990}.pull-right>.dropdown-menu{right:0;left:auto}.dropup .caret,.navbar-fixed-bottom .dropdown .caret{border-top:0;border-bottom:4px solid;content:""}.dropup .dropdown-menu,.navbar-fixed-bottom .dropdown .dropdown-menu{top:auto;bottom:100%;margin-bottom:2px}@media (min-width:541px){.navbar-right .dropdown-menu{left:auto;right:0}.navbar-right .dropdown-menu-left{left:0;right:auto}}.btn-group,.btn-group-vertical{position:relative;display:inline-block;vertical-align:middle}.btn-group-vertical>.btn,.btn-group>.btn{position:relative;float:left}.btn-group-vertical>.btn.active,.btn-group-vertical>.btn:active,.btn-group-vertical>.btn:focus,.btn-group-vertical>.btn:hover,.btn-group>.btn.active,.btn-group>.btn:active,.btn-group>.btn:focus,.btn-group>.btn:hover{z-index:2}.btn-group .btn+.btn,.btn-group .btn+.btn-group,.btn-group .btn-group+.btn,.btn-group .btn-group+.btn-group{margin-left:-1px}.btn-toolbar{margin-left:-5px}.btn-toolbar .btn-group,.btn-toolbar .input-group{float:left}.btn-toolbar>.btn,.btn-toolbar>.btn-group,.btn-toolbar>.input-group{margin-left:5px}.btn-group>.btn:not(:first-child):not(:last-child):not(.dropdown-toggle){border-radius:0}.btn-group>.btn:first-child{margin-left:0}.btn-group>.btn:first-child:not(:last-child):not(.dropdown-toggle){border-bottom-right-radius:0;border-top-right-radius:0}.btn-group>.btn:last-child:not(:first-child),.btn-group>.dropdown-toggle:not(:first-child){border-bottom-left-radius:0;border-top-left-radius:0}.btn-group>.btn-group{float:left}.btn-group>.btn-group:not(:first-child):not(:last-child)>.btn{border-radius:0}.btn-group>.btn-group:first-child:not(:last-child)>.btn:last-child,.btn-group>.btn-group:first-child:not(:last-child)>.dropdown-toggle{border-bottom-right-radius:0;border-top-right-radius:0}.btn-group>.btn-group:last-child:not(:first-child)>.btn:first-child{border-bottom-left-radius:0;border-top-left-radius:0}.btn-group .dropdown-toggle:active,.btn-group.open .dropdown-toggle{outline:0}.btn-group>.btn+.dropdown-toggle{padding-left:8px;padding-right:8px}.btn-group>.btn-lg+.dropdown-toggle{padding-left:12px;padding-right:12px}.btn-group.open .dropdown-toggle{-webkit-box-shadow:inset 0 3px 5px rgba(0,0,0,.125);box-shadow:inset 0 3px 5px rgba(0,0,0,.125)}.btn-group.open .dropdown-toggle.btn-link{-webkit-box-shadow:none;box-shadow:none}.btn .caret{margin-left:0}.btn-lg .caret{border-width:5px 5px 0}.dropup .btn-lg .caret{border-width:0 5px 5px}.btn-group-vertical>.btn,.btn-group-vertical>.btn-group,.btn-group-vertical>.btn-group>.btn{display:block;float:none;width:100%;max-width:100%}.btn-group-vertical>.btn-group>.btn{float:none}.btn-group-vertical>.btn+.btn,.btn-group-vertical>.btn+.btn-group,.btn-group-vertical>.btn-group+.btn,.btn-group-vertical>.btn-group+.btn-group{margin-top:-1px;margin-left:0}.btn-group-vertical>.btn:not(:first-child):not(:last-child){border-radius:0}.btn-group-vertical>.btn:first-child:not(:last-child){border-top-right-radius:2px;border-bottom-right-radius:0;border-bottom-left-radius:0}.btn-group-vertical>.btn:last-child:not(:first-child){border-bottom-left-radius:2px;border-top-right-radius:0;border-top-left-radius:0}.btn-group-vertical>.btn-group:not(:first-child):not(:last-child)>.btn{border-radius:0}.btn-group-vertical>.btn-group:first-child:not(:last-child)>.btn:last-child,.btn-group-vertical>.btn-group:first-child:not(:last-child)>.dropdown-toggle{border-bottom-right-radius:0;border-bottom-left-radius:0}.btn-group-vertical>.btn-group:last-child:not(:first-child)>.btn:first-child{border-top-right-radius:0;border-top-left-radius:0}.btn-group-justified{display:table;width:100%;table-layout:fixed;border-collapse:separate}.btn-group-justified>.btn,.btn-group-justified>.btn-group{float:none;display:table-cell;width:1%}.btn-group-justified>.btn-group .btn{width:100%}.btn-group-justified>.btn-group .dropdown-menu{left:auto}[data-toggle=buttons]>.btn input[type=checkbox],[data-toggle=buttons]>.btn input[type=radio],[data-toggle=buttons]>.btn-group>.btn input[type=checkbox],[data-toggle=buttons]>.btn-group>.btn input[type=radio]{position:absolute;clip:rect(0,0,0,0);pointer-events:none}.input-group{position:relative;display:table;border-collapse:separate}.input-group[class*=col-]{float:none;padding-left:0;padding-right:0}.input-group .form-control{position:relative;z-index:2;float:left;width:100%;margin-bottom:0}.input-group-lg>.form-control,.input-group-lg>.input-group-addon,.input-group-lg>.input-group-btn>.btn{height:45px;padding:10px 16px;font-size:17px;line-height:1.3333333;border-radius:3px}select.input-group-lg>.form-control,select.input-group-lg>.input-group-addon,select.input-group-lg>.input-group-btn>.btn{height:45px;line-height:45px}select[multiple].input-group-lg>.form-control,select[multiple].input-group-lg>.input-group-addon,select[multiple].input-group-lg>.input-group-btn>.btn,textarea.input-group-lg>.form-control,textarea.input-group-lg>.input-group-addon,textarea.input-group-lg>.input-group-btn>.btn{height:auto}.input-group-sm>.form-control,.input-group-sm>.input-group-addon,.input-group-sm>.input-group-btn>.btn{height:30px;padding:5px 10px;font-size:12px;line-height:1.5;border-radius:1px}select.input-group-sm>.form-control,select.input-group-sm>.input-group-addon,select.input-group-sm>.input-group-btn>.btn{height:30px;line-height:30px}select[multiple].input-group-sm>.form-control,select[multiple].input-group-sm>.input-group-addon,select[multiple].input-group-sm>.input-group-btn>.btn,textarea.input-group-sm>.form-control,textarea.input-group-sm>.input-group-addon,textarea.input-group-sm>.input-group-btn>.btn{height:auto}.input-group .form-control,.input-group-addon,.input-group-btn{display:table-cell}.input-group .form-control:not(:first-child):not(:last-child),.input-group-addon:not(:first-child):not(:last-child),.input-group-btn:not(:first-child):not(:last-child){border-radius:0}.input-group-addon,.input-group-btn{width:1%;white-space:nowrap;vertical-align:middle}.input-group-addon{padding:6px 12px;font-size:13px;font-weight:400;line-height:1;color:#555;text-align:center;background-color:#eee;border:1px solid #ccc;border-radius:2px}.input-group-addon.input-sm{padding:5px 10px;font-size:12px;border-radius:1px}.input-group-addon.input-lg{padding:10px 16px;font-size:17px;border-radius:3px}.input-group-addon input[type=checkbox],.input-group-addon input[type=radio]{margin-top:0}.input-group .form-control:first-child,.input-group-addon:first-child,.input-group-btn:first-child>.btn,.input-group-btn:first-child>.btn-group>.btn,.input-group-btn:first-child>.dropdown-toggle,.input-group-btn:last-child>.btn-group:not(:last-child)>.btn,.input-group-btn:last-child>.btn:not(:last-child):not(.dropdown-toggle){border-bottom-right-radius:0;border-top-right-radius:0}.input-group-addon:first-child{border-right:0}.input-group .form-control:last-child,.input-group-addon:last-child,.input-group-btn:first-child>.btn-group:not(:first-child)>.btn,.input-group-btn:first-child>.btn:not(:first-child),.input-group-btn:last-child>.btn,.input-group-btn:last-child>.btn-group>.btn,.input-group-btn:last-child>.dropdown-toggle{border-bottom-left-radius:0;border-top-left-radius:0}.input-group-addon:last-child{border-left:0}.input-group-btn{position:relative;font-size:0;white-space:nowrap}.input-group-btn>.btn{position:relative}.input-group-btn>.btn+.btn{margin-left:-1px}.input-group-btn>.btn:active,.input-group-btn>.btn:focus,.input-group-btn>.btn:hover{z-index:2}.input-group-btn:first-child>.btn,.input-group-btn:first-child>.btn-group{margin-right:-1px}.input-group-btn:last-child>.btn,.input-group-btn:last-child>.btn-group{margin-left:-1px}.nav{margin-bottom:0;padding-left:0;list-style:none}.nav>li{position:relative;display:block}.nav>li>a{position:relative;display:block;padding:10px 15px}.nav>li>a:focus,.nav>li>a:hover{text-decoration:none;background-color:#eee}.nav>li.disabled>a{color:#777}.nav>li.disabled>a:focus,.nav>li.disabled>a:hover{color:#777;text-decoration:none;background-color:transparent;cursor:not-allowed}.nav .open>a,.nav .open>a:focus,.nav .open>a:hover{background-color:#eee;border-color:#337ab7}.nav .nav-divider{height:1px;margin:8px 0;overflow:hidden;background-color:#e5e5e5}.nav>li>a>img{max-width:none}.nav-tabs{border-bottom:1px solid #ddd}.nav-tabs>li{float:left;margin-bottom:-1px}.nav-tabs>li>a{margin-right:2px;line-height:1.42857143;border:1px solid transparent;border-radius:2px 2px 0 0}.nav-tabs>li>a:hover{border-color:#eee #eee #ddd}.nav-tabs>li.active>a,.nav-tabs>li.active>a:focus,.nav-tabs>li.active>a:hover{color:#555;background-color:#fff;border:1px solid #ddd;border-bottom-color:transparent;cursor:default}.nav-tabs.nav-justified{width:100%;border-bottom:0}.nav-tabs.nav-justified>li{float:none}.nav-tabs.nav-justified>li>a{text-align:center;margin-bottom:5px;margin-right:0;border-radius:2px}.nav-tabs.nav-justified>.dropdown .dropdown-menu{top:auto;left:auto}.nav-tabs.nav-justified>.active>a,.nav-tabs.nav-justified>.active>a:focus,.nav-tabs.nav-justified>.active>a:hover{border:1px solid #ddd}@media (min-width:768px){.nav-tabs.nav-justified>li{display:table-cell;width:1%}.nav-tabs.nav-justified>li>a{margin-bottom:0;border-bottom:1px solid #ddd;border-radius:2px 2px 0 0}.nav-tabs.nav-justified>.active>a,.nav-tabs.nav-justified>.active>a:focus,.nav-tabs.nav-justified>.active>a:hover{border-bottom-color:#fff}}.nav-pills>li{float:left}.nav-pills>li>a{border-radius:2px}.nav-pills>li+li{margin-left:2px}.nav-pills>li.active>a,.nav-pills>li.active>a:focus,.nav-pills>li.active>a:hover{color:#fff;background-color:#337ab7}.nav-stacked>li{float:none}.nav-stacked>li+li{margin-top:2px;margin-left:0}.nav-justified{width:100%}.nav-justified>li{float:none}.nav-justified>li>a{text-align:center;margin-bottom:5px}.nav-justified>.dropdown .dropdown-menu{top:auto;left:auto}.nav-tabs-justified{border-bottom:0}.nav-tabs-justified>li>a{margin-right:0;border-radius:2px}.nav-tabs-justified>.active>a,.nav-tabs-justified>.active>a:focus,.nav-tabs-justified>.active>a:hover{border:1px solid #ddd}@media (min-width:768px){.nav-justified>li{display:table-cell;width:1%}.nav-justified>li>a{margin-bottom:0}.nav-tabs-justified>li>a{border-bottom:1px solid #ddd;border-radius:2px 2px 0 0}.nav-tabs-justified>.active>a,.nav-tabs-justified>.active>a:focus,.nav-tabs-justified>.active>a:hover{border-bottom-color:#fff}}.tab-content>.tab-pane{display:none}.tab-content>.active{display:block}.nav-tabs .dropdown-menu{margin-top:-1px;border-top-right-radius:0;border-top-left-radius:0}.navbar{position:relative;min-height:30px;margin-bottom:18px;border:1px solid transparent}.navbar-collapse{overflow-x:visible;padding-right:0;padding-left:0;border-top:1px solid transparent;box-shadow:inset 0 1px 0 rgba(255,255,255,.1);-webkit-overflow-scrolling:touch}.navbar-collapse.in{overflow-y:auto}.navbar-fixed-bottom .navbar-collapse,.navbar-fixed-top .navbar-collapse{max-height:340px}@media (max-device-width:540px)and (orientation:landscape){.navbar-fixed-bottom .navbar-collapse,.navbar-fixed-top .navbar-collapse{max-height:200px}}.container-fluid>.navbar-collapse,.container-fluid>.navbar-header,.container>.navbar-collapse,.container>.navbar-header{margin-right:0;margin-left:0}.navbar-static-top{z-index:1000;border-width:0 0 1px}.navbar-fixed-bottom,.navbar-fixed-top{position:fixed;right:0;left:0;z-index:1030}@media (min-width:541px){.navbar{border-radius:2px}.navbar-header{float:left}.navbar-collapse{width:auto;border-top:0;box-shadow:none}.navbar-collapse.collapse{display:block!important;height:auto!important;padding-bottom:0;overflow:visible!important}.navbar-collapse.in{overflow-y:visible}.navbar-fixed-bottom .navbar-collapse,.navbar-fixed-top .navbar-collapse,.navbar-static-top .navbar-collapse{padding-left:0;padding-right:0}.container-fluid>.navbar-collapse,.container-fluid>.navbar-header,.container>.navbar-collapse,.container>.navbar-header{margin-right:0;margin-left:0}.navbar-fixed-bottom,.navbar-fixed-top,.navbar-static-top{border-radius:0}}.navbar-fixed-top{top:0;border-width:0 0 1px}.navbar-fixed-bottom{bottom:0;margin-bottom:0;border-width:1px 0 0}.navbar-brand{float:left;padding:6px 0;font-size:17px;line-height:18px;height:30px}.navbar-brand:focus,.navbar-brand:hover{text-decoration:none}.navbar-brand>img{display:block}.navbar-toggle{position:relative;float:right;margin-right:0;padding:9px 10px;margin-top:-2px;margin-bottom:-2px;background-color:transparent;background-image:none;border:1px solid transparent;border-radius:2px}.navbar-toggle:focus{outline:0}.navbar-toggle .icon-bar{display:block;width:22px;height:2px;border-radius:1px}.navbar-toggle .icon-bar+.icon-bar{margin-top:4px}@media (min-width:541px){.navbar>.container .navbar-brand,.navbar>.container-fluid .navbar-brand{margin-left:0}.navbar-toggle{display:none}}.navbar-nav{margin:3px 0}.navbar-nav>li>a{padding-top:10px;padding-bottom:10px;line-height:18px}@media (max-width:540px){.navbar-nav .open .dropdown-menu{position:static;float:none;width:auto;margin-top:0;background-color:transparent;border:0;box-shadow:none}.navbar-nav .open .dropdown-menu .dropdown-header,.navbar-nav .open .dropdown-menu>li>a{padding:5px 15px 5px 25px}.navbar-nav .open .dropdown-menu>li>a{line-height:18px}.navbar-nav .open .dropdown-menu>li>a:focus,.navbar-nav .open .dropdown-menu>li>a:hover{background-image:none}}@media (min-width:541px){.navbar-nav{float:left;margin:0}.navbar-nav>li{float:left}.navbar-nav>li>a{padding-top:6px;padding-bottom:6px}}.navbar-form{padding:10px 0;border-top:1px solid transparent;border-bottom:1px solid transparent;-webkit-box-shadow:inset 0 1px 0 rgba(255,255,255,.1),0 1px 0 rgba(255,255,255,.1);box-shadow:inset 0 1px 0 rgba(255,255,255,.1),0 1px 0 rgba(255,255,255,.1);margin:-1px 0}@media (min-width:768px){.navbar-form .form-group{display:inline-block;margin-bottom:0;vertical-align:middle}.navbar-form .form-control{display:inline-block;width:auto;vertical-align:middle}.navbar-form .form-control-static{display:inline-block}.navbar-form .input-group{display:inline-table;vertical-align:middle}.navbar-form .input-group .form-control,.navbar-form .input-group .input-group-addon,.navbar-form .input-group .input-group-btn{width:auto}.navbar-form .input-group>.form-control{width:100%}.navbar-form .control-label{margin-bottom:0;vertical-align:middle}.navbar-form .checkbox,.navbar-form .radio{display:inline-block;margin-top:0;margin-bottom:0;vertical-align:middle}.navbar-form .checkbox label,.navbar-form .radio label{padding-left:0}.navbar-form .checkbox input[type=checkbox],.navbar-form .radio input[type=radio]{position:relative;margin-left:0}.navbar-form .has-feedback .form-control-feedback{top:0}}@media (max-width:540px){.navbar-form .form-group{margin-bottom:5px}.navbar-form .form-group:last-child{margin-bottom:0}}.navbar-nav>li>.dropdown-menu{margin-top:0;border-top-right-radius:0;border-top-left-radius:0}.navbar-fixed-bottom .navbar-nav>li>.dropdown-menu{margin-bottom:0;border-radius:2px 2px 0 0}.navbar-btn{margin-top:-1px;margin-bottom:-1px}.navbar-btn.btn-sm{margin-top:0;margin-bottom:0}.navbar-btn.btn-xs{margin-top:4px;margin-bottom:4px}.navbar-text{margin-top:6px;margin-bottom:6px}@media (min-width:541px){.navbar-form{width:auto;border:0;margin-left:0;margin-right:0;padding-top:0;padding-bottom:0;-webkit-box-shadow:none;box-shadow:none}.navbar-text{float:left;margin-left:0;margin-right:0}.navbar-left{float:left!important;float:left}.navbar-right{float:right!important;float:right;margin-right:0}.navbar-right~.navbar-right{margin-right:0}}.navbar-default{background-color:#f8f8f8;border-color:#e7e7e7}.navbar-default .navbar-brand{color:#777}.navbar-default .navbar-brand:focus,.navbar-default .navbar-brand:hover{color:#5e5e5e;background-color:transparent}.navbar-default .navbar-nav>li>a,.navbar-default .navbar-text{color:#777}.navbar-default .navbar-nav>li>a:focus,.navbar-default .navbar-nav>li>a:hover{color:#333;background-color:transparent}.navbar-default .navbar-nav>.active>a,.navbar-default .navbar-nav>.active>a:focus,.navbar-default .navbar-nav>.active>a:hover{color:#555;background-color:#e7e7e7}.navbar-default .navbar-nav>.disabled>a,.navbar-default .navbar-nav>.disabled>a:focus,.navbar-default .navbar-nav>.disabled>a:hover{color:#ccc;background-color:transparent}.navbar-default .navbar-toggle{border-color:#ddd}.navbar-default .navbar-toggle:focus,.navbar-default .navbar-toggle:hover{background-color:#ddd}.navbar-default .navbar-toggle .icon-bar{background-color:#888}.navbar-default .navbar-collapse,.navbar-default .navbar-form{border-color:#e7e7e7}.navbar-default .navbar-nav>.open>a,.navbar-default .navbar-nav>.open>a:focus,.navbar-default .navbar-nav>.open>a:hover{background-color:#e7e7e7;color:#555}@media (max-width:540px){.navbar-default .navbar-nav .open .dropdown-menu>li>a{color:#777}.navbar-default .navbar-nav .open .dropdown-menu>li>a:focus,.navbar-default .navbar-nav .open .dropdown-menu>li>a:hover{color:#333;background-color:transparent}.navbar-default .navbar-nav .open .dropdown-menu>.active>a,.navbar-default .navbar-nav .open .dropdown-menu>.active>a:focus,.navbar-default .navbar-nav .open .dropdown-menu>.active>a:hover{color:#555;background-color:#e7e7e7}.navbar-default .navbar-nav .open .dropdown-menu>.disabled>a,.navbar-default .navbar-nav .open .dropdown-menu>.disabled>a:focus,.navbar-default .navbar-nav .open .dropdown-menu>.disabled>a:hover{color:#ccc;background-color:transparent}}.navbar-default .navbar-link{color:#777}.navbar-default .navbar-link:hover{color:#333}.navbar-default .btn-link{color:#777}.navbar-default .btn-link:focus,.navbar-default .btn-link:hover{color:#333}.navbar-default .btn-link[disabled]:focus,.navbar-default .btn-link[disabled]:hover,fieldset[disabled] .navbar-default .btn-link:focus,fieldset[disabled] .navbar-default .btn-link:hover{color:#ccc}.navbar-inverse{background-color:#222;border-color:#080808}.navbar-inverse .navbar-brand{color:#9d9d9d}.navbar-inverse .navbar-brand:focus,.navbar-inverse .navbar-brand:hover{color:#fff;background-color:transparent}.navbar-inverse .navbar-nav>li>a,.navbar-inverse .navbar-text{color:#9d9d9d}.navbar-inverse .navbar-nav>li>a:focus,.navbar-inverse .navbar-nav>li>a:hover{color:#fff;background-color:transparent}.navbar-inverse .navbar-nav>.active>a,.navbar-inverse .navbar-nav>.active>a:focus,.navbar-inverse .navbar-nav>.active>a:hover{color:#fff;background-color:#080808}.navbar-inverse .navbar-nav>.disabled>a,.navbar-inverse .navbar-nav>.disabled>a:focus,.navbar-inverse .navbar-nav>.disabled>a:hover{color:#444;background-color:transparent}.navbar-inverse .navbar-toggle{border-color:#333}.navbar-inverse .navbar-toggle:focus,.navbar-inverse .navbar-toggle:hover{background-color:#333}.navbar-inverse .navbar-toggle .icon-bar{background-color:#fff}.navbar-inverse .navbar-collapse,.navbar-inverse .navbar-form{border-color:#101010}.navbar-inverse .navbar-nav>.open>a,.navbar-inverse .navbar-nav>.open>a:focus,.navbar-inverse .navbar-nav>.open>a:hover{background-color:#080808;color:#fff}@media (max-width:540px){.navbar-inverse .navbar-nav .open .dropdown-menu>.dropdown-header{border-color:#080808}.navbar-inverse .navbar-nav .open .dropdown-menu .divider{background-color:#080808}.navbar-inverse .navbar-nav .open .dropdown-menu>li>a{color:#9d9d9d}.navbar-inverse .navbar-nav .open .dropdown-menu>li>a:focus,.navbar-inverse .navbar-nav .open .dropdown-menu>li>a:hover{color:#fff;background-color:transparent}.navbar-inverse .navbar-nav .open .dropdown-menu>.active>a,.navbar-inverse .navbar-nav .open .dropdown-menu>.active>a:focus,.navbar-inverse .navbar-nav .open .dropdown-menu>.active>a:hover{color:#fff;background-color:#080808}.navbar-inverse .navbar-nav .open .dropdown-menu>.disabled>a,.navbar-inverse .navbar-nav .open .dropdown-menu>.disabled>a:focus,.navbar-inverse .navbar-nav .open .dropdown-menu>.disabled>a:hover{color:#444;background-color:transparent}}.navbar-inverse .navbar-link{color:#9d9d9d}.navbar-inverse .navbar-link:hover{color:#fff}.navbar-inverse .btn-link{color:#9d9d9d}.navbar-inverse .btn-link:focus,.navbar-inverse .btn-link:hover{color:#fff}.navbar-inverse .btn-link[disabled]:focus,.navbar-inverse .btn-link[disabled]:hover,fieldset[disabled] .navbar-inverse .btn-link:focus,fieldset[disabled] .navbar-inverse .btn-link:hover{color:#444}.breadcrumb{padding:8px 15px;margin-bottom:18px;list-style:none;background-color:#f5f5f5;border-radius:2px}.breadcrumb>li{display:inline-block}.breadcrumb>li+li:before{content:"/\00a0";padding:0 5px;color:#5e5e5e}.breadcrumb>.active{color:#777}.pagination{display:inline-block;padding-left:0;margin:18px 0;border-radius:2px}.pagination>li{display:inline}.pagination>li>a,.pagination>li>span{position:relative;float:left;padding:6px 12px;line-height:1.42857143;text-decoration:none;color:#337ab7;background-color:#fff;border:1px solid #ddd;margin-left:-1px}.pagination>li:first-child>a,.pagination>li:first-child>span{margin-left:0;border-bottom-left-radius:2px;border-top-left-radius:2px}.pagination>li:last-child>a,.pagination>li:last-child>span{border-bottom-right-radius:2px;border-top-right-radius:2px}.pagination>li>a:focus,.pagination>li>a:hover,.pagination>li>span:focus,.pagination>li>span:hover{color:#23527c;background-color:#eee;border-color:#ddd}.pagination>.active>a,.pagination>.active>a:focus,.pagination>.active>a:hover,.pagination>.active>span,.pagination>.active>span:focus,.pagination>.active>span:hover{z-index:2;color:#fff;background-color:#337ab7;border-color:#337ab7;cursor:default}.pagination>.disabled>a,.pagination>.disabled>a:focus,.pagination>.disabled>a:hover,.pagination>.disabled>span,.pagination>.disabled>span:focus,.pagination>.disabled>span:hover{color:#777;background-color:#fff;border-color:#ddd;cursor:not-allowed}.pagination-lg>li>a,.pagination-lg>li>span{padding:10px 16px;font-size:17px}.pagination-lg>li:first-child>a,.pagination-lg>li:first-child>span{border-bottom-left-radius:3px;border-top-left-radius:3px}.pagination-lg>li:last-child>a,.pagination-lg>li:last-child>span{border-bottom-right-radius:3px;border-top-right-radius:3px}.pagination-sm>li>a,.pagination-sm>li>span{padding:5px 10px;font-size:12px}.pagination-sm>li:first-child>a,.pagination-sm>li:first-child>span{border-bottom-left-radius:1px;border-top-left-radius:1px}.pagination-sm>li:last-child>a,.pagination-sm>li:last-child>span{border-bottom-right-radius:1px;border-top-right-radius:1px}.pager{padding-left:0;margin:18px 0;list-style:none;text-align:center}.pager li{display:inline}.pager li>a,.pager li>span{display:inline-block;padding:5px 14px;background-color:#fff;border:1px solid #ddd;border-radius:15px}.pager li>a:focus,.pager li>a:hover{text-decoration:none;background-color:#eee}.pager .next>a,.pager .next>span{float:right}.pager .previous>a,.pager .previous>span{float:left}.pager .disabled>a,.pager .disabled>a:focus,.pager .disabled>a:hover,.pager .disabled>span{color:#777;background-color:#fff;cursor:not-allowed}.label{display:inline;padding:.2em .6em .3em;font-size:75%;font-weight:700;line-height:1;color:#fff;text-align:center;white-space:nowrap;vertical-align:baseline;border-radius:.25em}a.label:focus,a.label:hover{color:#fff;text-decoration:none;cursor:pointer}.label:empty{display:none}.btn .label{position:relative;top:-1px}.label-default{background-color:#777}.label-default[href]:focus,.label-default[href]:hover{background-color:#5e5e5e}.label-primary{background-color:#337ab7}.label-primary[href]:focus,.label-primary[href]:hover{background-color:#286090}.label-success{background-color:#5cb85c}.label-success[href]:focus,.label-success[href]:hover{background-color:#449d44}.label-info{background-color:#5bc0de}.label-info[href]:focus,.label-info[href]:hover{background-color:#31b0d5}.label-warning{background-color:#f0ad4e}.label-warning[href]:focus,.label-warning[href]:hover{background-color:#ec971f}.label-danger{background-color:#d9534f}.label-danger[href]:focus,.label-danger[href]:hover{background-color:#c9302c}.badge{display:inline-block;min-width:10px;padding:3px 7px;font-size:12px;font-weight:700;color:#fff;line-height:1;vertical-align:baseline;white-space:nowrap;text-align:center;background-color:#777;border-radius:10px}.badge:empty{display:none}.btn .badge{position:relative;top:-1px}.btn-group-xs>.btn .badge,.btn-xs .badge{top:0;padding:1px 5px}a.badge:focus,a.badge:hover{color:#fff;text-decoration:none;cursor:pointer}.list-group-item.active>.badge,.nav-pills>.active>a>.badge{color:#337ab7;background-color:#fff}.list-group-item>.badge{float:right}.list-group-item>.badge+.badge{margin-right:5px}.nav-pills>li>a>.badge{margin-left:3px}.jumbotron{padding:30px 15px;margin-bottom:30px;color:inherit;background-color:#eee}.jumbotron .h1,.jumbotron h1{color:inherit}.jumbotron p{margin-bottom:15px;font-size:20px;font-weight:200}.jumbotron>hr{border-top-color:#d5d5d5}.container .jumbotron,.container-fluid .jumbotron{border-radius:3px}.jumbotron .container{max-width:100%}@media screen and (min-width:768px){.jumbotron{padding:48px 0}.container .jumbotron,.container-fluid .jumbotron{padding-left:60px;padding-right:60px}.jumbotron .h1,.jumbotron h1{font-size:58.5px}}.thumbnail{display:block;padding:4px;margin-bottom:18px;line-height:1.42857143;background-color:#fff;border:1px solid #ddd;border-radius:2px;-webkit-transition:border .2s ease-in-out;-o-transition:border .2s ease-in-out;transition:border .2s ease-in-out}.thumbnail a>img,.thumbnail>img{margin-left:auto;margin-right:auto}a.thumbnail.active,a.thumbnail:focus,a.thumbnail:hover{border-color:#337ab7}.thumbnail .caption{padding:9px;color:#000}.alert{padding:15px;margin-bottom:18px;border:1px solid transparent;border-radius:2px}.alert h4{margin-top:0;color:inherit}.alert .alert-link{font-weight:700}.alert>p,.alert>ul{margin-bottom:0}.alert>p+p{margin-top:5px}.alert-dismissable,.alert-dismissible{padding-right:35px}.alert-dismissable .close,.alert-dismissible .close{position:relative;top:-2px;right:-21px;color:inherit}.alert-success{background-color:#dff0d8;border-color:#d6e9c6;color:#3c763d}.alert-success hr{border-top-color:#c9e2b3}.alert-success .alert-link{color:#2b542c}.alert-info{background-color:#d9edf7;border-color:#bce8f1;color:#31708f}.alert-info hr{border-top-color:#a6e1ec}.alert-info .alert-link{color:#245269}.alert-warning{background-color:#fcf8e3;border-color:#faebcc;color:#8a6d3b}.alert-warning hr{border-top-color:#f7e1b5}.alert-warning .alert-link{color:#66512c}.alert-danger{background-color:#f2dede;border-color:#ebccd1;color:#a94442}.alert-danger hr{border-top-color:#e4b9c0}.alert-danger .alert-link{color:#843534}@-webkit-keyframes progress-bar-stripes{from{background-position:40px 0}to{background-position:0 0}}@keyframes progress-bar-stripes{from{background-position:40px 0}to{background-position:0 0}}.progress{overflow:hidden;height:18px;margin-bottom:18px;background-color:#f5f5f5;border-radius:2px;-webkit-box-shadow:inset 0 1px 2px rgba(0,0,0,.1);box-shadow:inset 0 1px 2px rgba(0,0,0,.1)}.progress-bar{float:left;width:0;height:100%;font-size:12px;line-height:18px;color:#fff;text-align:center;background-color:#337ab7;-webkit-box-shadow:inset 0 -1px 0 rgba(0,0,0,.15);box-shadow:inset 0 -1px 0 rgba(0,0,0,.15);-webkit-transition:width .6s ease;-o-transition:width .6s ease;transition:width .6s ease}.progress-bar-striped,.progress-striped .progress-bar{background-image:-webkit-linear-gradient(45deg,rgba(255,255,255,.15) 25%,transparent 25%,transparent 50%,rgba(255,255,255,.15) 50%,rgba(255,255,255,.15) 75%,transparent 75%,transparent);background-image:-o-linear-gradient(45deg,rgba(255,255,255,.15) 25%,transparent 25%,transparent 50%,rgba(255,255,255,.15) 50%,rgba(255,255,255,.15) 75%,transparent 75%,transparent);background-image:linear-gradient(45deg,rgba(255,255,255,.15) 25%,transparent 25%,transparent 50%,rgba(255,255,255,.15) 50%,rgba(255,255,255,.15) 75%,transparent 75%,transparent);background-size:40px 40px}.progress-bar.active,.progress.active .progress-bar{-webkit-animation:progress-bar-stripes 2s linear infinite;-o-animation:progress-bar-stripes 2s linear infinite;animation:progress-bar-stripes 2s linear infinite}.progress-bar-success{background-color:#5cb85c}.progress-striped .progress-bar-success{background-image:-webkit-linear-gradient(45deg,rgba(255,255,255,.15) 25%,transparent 25%,transparent 50%,rgba(255,255,255,.15) 50%,rgba(255,255,255,.15) 75%,transparent 75%,transparent);background-image:-o-linear-gradient(45deg,rgba(255,255,255,.15) 25%,transparent 25%,transparent 50%,rgba(255,255,255,.15) 50%,rgba(255,255,255,.15) 75%,transparent 75%,transparent);background-image:linear-gradient(45deg,rgba(255,255,255,.15) 25%,transparent 25%,transparent 50%,rgba(255,255,255,.15) 50%,rgba(255,255,255,.15) 75%,transparent 75%,transparent)}.progress-bar-info{background-color:#5bc0de}.progress-striped .progress-bar-info{background-image:-webkit-linear-gradient(45deg,rgba(255,255,255,.15) 25%,transparent 25%,transparent 50%,rgba(255,255,255,.15) 50%,rgba(255,255,255,.15) 75%,transparent 75%,transparent);background-image:-o-linear-gradient(45deg,rgba(255,255,255,.15) 25%,transparent 25%,transparent 50%,rgba(255,255,255,.15) 50%,rgba(255,255,255,.15) 75%,transparent 75%,transparent);background-image:linear-gradient(45deg,rgba(255,255,255,.15) 25%,transparent 25%,transparent 50%,rgba(255,255,255,.15) 50%,rgba(255,255,255,.15) 75%,transparent 75%,transparent)}.progress-bar-warning{background-color:#f0ad4e}.progress-striped .progress-bar-warning{background-image:-webkit-linear-gradient(45deg,rgba(255,255,255,.15) 25%,transparent 25%,transparent 50%,rgba(255,255,255,.15) 50%,rgba(255,255,255,.15) 75%,transparent 75%,transparent);background-image:-o-linear-gradient(45deg,rgba(255,255,255,.15) 25%,transparent 25%,transparent 50%,rgba(255,255,255,.15) 50%,rgba(255,255,255,.15) 75%,transparent 75%,transparent);background-image:linear-gradient(45deg,rgba(255,255,255,.15) 25%,transparent 25%,transparent 50%,rgba(255,255,255,.15) 50%,rgba(255,255,255,.15) 75%,transparent 75%,transparent)}.progress-bar-danger{background-color:#d9534f}.progress-striped .progress-bar-danger{background-image:-webkit-linear-gradient(45deg,rgba(255,255,255,.15) 25%,transparent 25%,transparent 50%,rgba(255,255,255,.15) 50%,rgba(255,255,255,.15) 75%,transparent 75%,transparent);background-image:-o-linear-gradient(45deg,rgba(255,255,255,.15) 25%,transparent 25%,transparent 50%,rgba(255,255,255,.15) 50%,rgba(255,255,255,.15) 75%,transparent 75%,transparent);background-image:linear-gradient(45deg,rgba(255,255,255,.15) 25%,transparent 25%,transparent 50%,rgba(255,255,255,.15) 50%,rgba(255,255,255,.15) 75%,transparent 75%,transparent)}.media{margin-top:15px}.media:first-child{margin-top:0}.media,.media-body{zoom:1;overflow:hidden}.media-body{width:10000px}.media-object{display:block}.media-right,.media>.pull-right{padding-left:10px}.media-left,.media>.pull-left{padding-right:10px}.media-body,.media-left,.media-right{display:table-cell;vertical-align:top}.media-middle{vertical-align:middle}.media-bottom{vertical-align:bottom}.media-heading{margin-top:0;margin-bottom:5px}.media-list{padding-left:0;list-style:none}.list-group{margin-bottom:20px;padding-left:0}.list-group-item{position:relative;display:block;padding:10px 15px;margin-bottom:-1px;background-color:#fff;border:1px solid #ddd}.list-group-item:first-child{border-top-right-radius:2px;border-top-left-radius:2px}.list-group-item:last-child{margin-bottom:0;border-bottom-right-radius:2px;border-bottom-left-radius:2px}a.list-group-item{color:#555}a.list-group-item .list-group-item-heading{color:#333}a.list-group-item:focus,a.list-group-item:hover{text-decoration:none;color:#555;background-color:#f5f5f5}.list-group-item.disabled,.list-group-item.disabled:focus,.list-group-item.disabled:hover{background-color:#eee;color:#777;cursor:not-allowed}.list-group-item.disabled .list-group-item-heading,.list-group-item.disabled:focus .list-group-item-heading,.list-group-item.disabled:hover .list-group-item-heading{color:inherit}.list-group-item.disabled .list-group-item-text,.list-group-item.disabled:focus .list-group-item-text,.list-group-item.disabled:hover .list-group-item-text{color:#777}.list-group-item.active,.list-group-item.active:focus,.list-group-item.active:hover{z-index:2;color:#fff;background-color:#337ab7;border-color:#337ab7}.list-group-item.active .list-group-item-heading,.list-group-item.active .list-group-item-heading>.small,.list-group-item.active .list-group-item-heading>small,.list-group-item.active:focus .list-group-item-heading,.list-group-item.active:focus .list-group-item-heading>.small,.list-group-item.active:focus .list-group-item-heading>small,.list-group-item.active:hover .list-group-item-heading,.list-group-item.active:hover .list-group-item-heading>.small,.list-group-item.active:hover .list-group-item-heading>small{color:inherit}.list-group-item.active .list-group-item-text,.list-group-item.active:focus .list-group-item-text,.list-group-item.active:hover .list-group-item-text{color:#c7ddef}.list-group-item-success{color:#3c763d;background-color:#dff0d8}a.list-group-item-success{color:#3c763d}a.list-group-item-success .list-group-item-heading{color:inherit}a.list-group-item-success:focus,a.list-group-item-success:hover{color:#3c763d;background-color:#d0e9c6}a.list-group-item-success.active,a.list-group-item-success.active:focus,a.list-group-item-success.active:hover{color:#fff;background-color:#3c763d;border-color:#3c763d}.list-group-item-info{color:#31708f;background-color:#d9edf7}a.list-group-item-info{color:#31708f}a.list-group-item-info .list-group-item-heading{color:inherit}a.list-group-item-info:focus,a.list-group-item-info:hover{color:#31708f;background-color:#c4e3f3}a.list-group-item-info.active,a.list-group-item-info.active:focus,a.list-group-item-info.active:hover{color:#fff;background-color:#31708f;border-color:#31708f}.list-group-item-warning{color:#8a6d3b;background-color:#fcf8e3}a.list-group-item-warning{color:#8a6d3b}a.list-group-item-warning .list-group-item-heading{color:inherit}a.list-group-item-warning:focus,a.list-group-item-warning:hover{color:#8a6d3b;background-color:#faf2cc}a.list-group-item-warning.active,a.list-group-item-warning.active:focus,a.list-group-item-warning.active:hover{color:#fff;background-color:#8a6d3b;border-color:#8a6d3b}.list-group-item-danger{color:#a94442;background-color:#f2dede}a.list-group-item-danger{color:#a94442}a.list-group-item-danger .list-group-item-heading{color:inherit}a.list-group-item-danger:focus,a.list-group-item-danger:hover{color:#a94442;background-color:#ebcccc}a.list-group-item-danger.active,a.list-group-item-danger.active:focus,a.list-group-item-danger.active:hover{color:#fff;background-color:#a94442;border-color:#a94442}.list-group-item-heading{margin-top:0;margin-bottom:5px}.list-group-item-text{margin-bottom:0;line-height:1.3}.panel{margin-bottom:18px;background-color:#fff;border:1px solid transparent;border-radius:2px;-webkit-box-shadow:0 1px 1px rgba(0,0,0,.05);box-shadow:0 1px 1px rgba(0,0,0,.05)}.panel-body{padding:15px}.panel-heading{padding:10px 15px;border-bottom:1px solid transparent;border-top-right-radius:1px;border-top-left-radius:1px}.panel-heading>.dropdown .dropdown-toggle{color:inherit}.panel-title{margin-top:0;margin-bottom:0;font-size:15px;color:inherit}.panel-title>.small,.panel-title>.small>a,.panel-title>a,.panel-title>small,.panel-title>small>a{color:inherit}.panel-footer{padding:10px 15px;background-color:#f5f5f5;border-top:1px solid #ddd;border-bottom-right-radius:1px;border-bottom-left-radius:1px}.panel>.list-group,.panel>.panel-collapse>.list-group{margin-bottom:0}.panel>.list-group .list-group-item,.panel>.panel-collapse>.list-group .list-group-item{border-width:1px 0;border-radius:0}.panel>.list-group:first-child .list-group-item:first-child,.panel>.panel-collapse>.list-group:first-child .list-group-item:first-child{border-top:0;border-top-right-radius:1px;border-top-left-radius:1px}.panel>.list-group:last-child .list-group-item:last-child,.panel>.panel-collapse>.list-group:last-child .list-group-item:last-child{border-bottom:0;border-bottom-right-radius:1px;border-bottom-left-radius:1px}.list-group+.panel-footer,.panel-heading+.list-group .list-group-item:first-child{border-top-width:0}.panel>.panel-collapse>.table,.panel>.table,.panel>.table-responsive>.table{margin-bottom:0}.panel>.panel-collapse>.table caption,.panel>.table caption,.panel>.table-responsive>.table caption{padding-left:15px;padding-right:15px}.panel>.table-responsive:first-child>.table:first-child,.panel>.table:first-child{border-top-right-radius:1px;border-top-left-radius:1px}.panel>.table-responsive:first-child>.table:first-child>tbody:first-child>tr:first-child,.panel>.table-responsive:first-child>.table:first-child>thead:first-child>tr:first-child,.panel>.table:first-child>tbody:first-child>tr:first-child,.panel>.table:first-child>thead:first-child>tr:first-child{border-top-left-radius:1px;border-top-right-radius:1px}.panel>.table-responsive:first-child>.table:first-child>tbody:first-child>tr:first-child td:first-child,.panel>.table-responsive:first-child>.table:first-child>tbody:first-child>tr:first-child th:first-child,.panel>.table-responsive:first-child>.table:first-child>thead:first-child>tr:first-child td:first-child,.panel>.table-responsive:first-child>.table:first-child>thead:first-child>tr:first-child th:first-child,.panel>.table:first-child>tbody:first-child>tr:first-child td:first-child,.panel>.table:first-child>tbody:first-child>tr:first-child th:first-child,.panel>.table:first-child>thead:first-child>tr:first-child td:first-child,.panel>.table:first-child>thead:first-child>tr:first-child th:first-child{border-top-left-radius:1px}.panel>.table-responsive:first-child>.table:first-child>tbody:first-child>tr:first-child td:last-child,.panel>.table-responsive:first-child>.table:first-child>tbody:first-child>tr:first-child th:last-child,.panel>.table-responsive:first-child>.table:first-child>thead:first-child>tr:first-child td:last-child,.panel>.table-responsive:first-child>.table:first-child>thead:first-child>tr:first-child th:last-child,.panel>.table:first-child>tbody:first-child>tr:first-child td:last-child,.panel>.table:first-child>tbody:first-child>tr:first-child th:last-child,.panel>.table:first-child>thead:first-child>tr:first-child td:last-child,.panel>.table:first-child>thead:first-child>tr:first-child th:last-child{border-top-right-radius:1px}.panel>.table-responsive:last-child>.table:last-child,.panel>.table:last-child{border-bottom-right-radius:1px;border-bottom-left-radius:1px}.panel>.table-responsive:last-child>.table:last-child>tbody:last-child>tr:last-child,.panel>.table-responsive:last-child>.table:last-child>tfoot:last-child>tr:last-child,.panel>.table:last-child>tbody:last-child>tr:last-child,.panel>.table:last-child>tfoot:last-child>tr:last-child{border-bottom-left-radius:1px;border-bottom-right-radius:1px}.panel>.table-responsive:last-child>.table:last-child>tbody:last-child>tr:last-child td:first-child,.panel>.table-responsive:last-child>.table:last-child>tbody:last-child>tr:last-child th:first-child,.panel>.table-responsive:last-child>.table:last-child>tfoot:last-child>tr:last-child td:first-child,.panel>.table-responsive:last-child>.table:last-child>tfoot:last-child>tr:last-child th:first-child,.panel>.table:last-child>tbody:last-child>tr:last-child td:first-child,.panel>.table:last-child>tbody:last-child>tr:last-child th:first-child,.panel>.table:last-child>tfoot:last-child>tr:last-child td:first-child,.panel>.table:last-child>tfoot:last-child>tr:last-child th:first-child{border-bottom-left-radius:1px}.panel>.table-responsive:last-child>.table:last-child>tbody:last-child>tr:last-child td:last-child,.panel>.table-responsive:last-child>.table:last-child>tbody:last-child>tr:last-child th:last-child,.panel>.table-responsive:last-child>.table:last-child>tfoot:last-child>tr:last-child td:last-child,.panel>.table-responsive:last-child>.table:last-child>tfoot:last-child>tr:last-child th:last-child,.panel>.table:last-child>tbody:last-child>tr:last-child td:last-child,.panel>.table:last-child>tbody:last-child>tr:last-child th:last-child,.panel>.table:last-child>tfoot:last-child>tr:last-child td:last-child,.panel>.table:last-child>tfoot:last-child>tr:last-child th:last-child{border-bottom-right-radius:1px}.panel>.panel-body+.table,.panel>.panel-body+.table-responsive,.panel>.table+.panel-body,.panel>.table-responsive+.panel-body{border-top:1px solid #ddd}.panel>.table>tbody:first-child>tr:first-child td,.panel>.table>tbody:first-child>tr:first-child th{border-top:0}.panel>.table-bordered,.panel>.table-responsive>.table-bordered{border:0}.panel>.table-bordered>tbody>tr>td:first-child,.panel>.table-bordered>tbody>tr>th:first-child,.panel>.table-bordered>tfoot>tr>td:first-child,.panel>.table-bordered>tfoot>tr>th:first-child,.panel>.table-bordered>thead>tr>td:first-child,.panel>.table-bordered>thead>tr>th:first-child,.panel>.table-responsive>.table-bordered>tbody>tr>td:first-child,.panel>.table-responsive>.table-bordered>tbody>tr>th:first-child,.panel>.table-responsive>.table-bordered>tfoot>tr>td:first-child,.panel>.table-responsive>.table-bordered>tfoot>tr>th:first-child,.panel>.table-responsive>.table-bordered>thead>tr>td:first-child,.panel>.table-responsive>.table-bordered>thead>tr>th:first-child{border-left:0}.panel>.table-bordered>tbody>tr>td:last-child,.panel>.table-bordered>tbody>tr>th:last-child,.panel>.table-bordered>tfoot>tr>td:last-child,.panel>.table-bordered>tfoot>tr>th:last-child,.panel>.table-bordered>thead>tr>td:last-child,.panel>.table-bordered>thead>tr>th:last-child,.panel>.table-responsive>.table-bordered>tbody>tr>td:last-child,.panel>.table-responsive>.table-bordered>tbody>tr>th:last-child,.panel>.table-responsive>.table-bordered>tfoot>tr>td:last-child,.panel>.table-responsive>.table-bordered>tfoot>tr>th:last-child,.panel>.table-responsive>.table-bordered>thead>tr>td:last-child,.panel>.table-responsive>.table-bordered>thead>tr>th:last-child{border-right:0}.panel>.table-bordered>tbody>tr:first-child>td,.panel>.table-bordered>tbody>tr:first-child>th,.panel>.table-bordered>tbody>tr:last-child>td,.panel>.table-bordered>tbody>tr:last-child>th,.panel>.table-bordered>tfoot>tr:last-child>td,.panel>.table-bordered>tfoot>tr:last-child>th,.panel>.table-bordered>thead>tr:first-child>td,.panel>.table-bordered>thead>tr:first-child>th,.panel>.table-responsive>.table-bordered>tbody>tr:first-child>td,.panel>.table-responsive>.table-bordered>tbody>tr:first-child>th,.panel>.table-responsive>.table-bordered>tbody>tr:last-child>td,.panel>.table-responsive>.table-bordered>tbody>tr:last-child>th,.panel>.table-responsive>.table-bordered>tfoot>tr:last-child>td,.panel>.table-responsive>.table-bordered>tfoot>tr:last-child>th,.panel>.table-responsive>.table-bordered>thead>tr:first-child>td,.panel>.table-responsive>.table-bordered>thead>tr:first-child>th{border-bottom:0}.panel>.table-responsive{border:0;margin-bottom:0}.panel-group{margin-bottom:18px}.panel-group .panel{margin-bottom:0;border-radius:2px}.panel-group .panel+.panel{margin-top:5px}.panel-group .panel-heading{border-bottom:0}.panel-group .panel-heading+.panel-collapse>.list-group,.panel-group .panel-heading+.panel-collapse>.panel-body{border-top:1px solid #ddd}.panel-group .panel-footer{border-top:0}.panel-group .panel-footer+.panel-collapse .panel-body{border-bottom:1px solid #ddd}.panel-default{border-color:#ddd}.panel-default>.panel-heading{color:#333;background-color:#f5f5f5;border-color:#ddd}.panel-default>.panel-heading+.panel-collapse>.panel-body{border-top-color:#ddd}.panel-default>.panel-heading .badge{color:#f5f5f5;background-color:#333}.panel-default>.panel-footer+.panel-collapse>.panel-body{border-bottom-color:#ddd}.panel-primary{border-color:#337ab7}.panel-primary>.panel-heading{color:#fff;background-color:#337ab7;border-color:#337ab7}.panel-primary>.panel-heading+.panel-collapse>.panel-body{border-top-color:#337ab7}.panel-primary>.panel-heading .badge{color:#337ab7;background-color:#fff}.panel-primary>.panel-footer+.panel-collapse>.panel-body{border-bottom-color:#337ab7}.panel-success{border-color:#d6e9c6}.panel-success>.panel-heading{color:#3c763d;background-color:#dff0d8;border-color:#d6e9c6}.panel-success>.panel-heading+.panel-collapse>.panel-body{border-top-color:#d6e9c6}.panel-success>.panel-heading .badge{color:#dff0d8;background-color:#3c763d}.panel-success>.panel-footer+.panel-collapse>.panel-body{border-bottom-color:#d6e9c6}.panel-info{border-color:#bce8f1}.panel-info>.panel-heading{color:#31708f;background-color:#d9edf7;border-color:#bce8f1}.panel-info>.panel-heading+.panel-collapse>.panel-body{border-top-color:#bce8f1}.panel-info>.panel-heading .badge{color:#d9edf7;background-color:#31708f}.panel-info>.panel-footer+.panel-collapse>.panel-body{border-bottom-color:#bce8f1}.panel-warning{border-color:#faebcc}.panel-warning>.panel-heading{color:#8a6d3b;background-color:#fcf8e3;border-color:#faebcc}.panel-warning>.panel-heading+.panel-collapse>.panel-body{border-top-color:#faebcc}.panel-warning>.panel-heading .badge{color:#fcf8e3;background-color:#8a6d3b}.panel-warning>.panel-footer+.panel-collapse>.panel-body{border-bottom-color:#faebcc}.panel-danger{border-color:#ebccd1}.panel-danger>.panel-heading{color:#a94442;background-color:#f2dede;border-color:#ebccd1}.panel-danger>.panel-heading+.panel-collapse>.panel-body{border-top-color:#ebccd1}.panel-danger>.panel-heading .badge{color:#f2dede;background-color:#a94442}.panel-danger>.panel-footer+.panel-collapse>.panel-body{border-bottom-color:#ebccd1}.embed-responsive{position:relative;display:block;height:0;padding:0;overflow:hidden}.embed-responsive .embed-responsive-item,.embed-responsive embed,.embed-responsive iframe,.embed-responsive object,.embed-responsive video{position:absolute;top:0;left:0;bottom:0;height:100%;width:100%;border:0}.embed-responsive-16by9{padding-bottom:56.25%}.embed-responsive-4by3{padding-bottom:75%}.well{min-height:20px;padding:19px;margin-bottom:20px;background-color:#f5f5f5;border:1px solid #e3e3e3;border-radius:2px;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,.05);box-shadow:inset 0 1px 1px rgba(0,0,0,.05)}.well blockquote{border-color:#ddd;border-color:rgba(0,0,0,.15)}.well-lg{padding:24px;border-radius:3px}.well-sm{padding:9px;border-radius:1px}.close{float:right;font-size:19.5px;font-weight:700;line-height:1;color:#000;text-shadow:0 1px 0 #fff;opacity:.2;filter:alpha(opacity=20)}.close:focus,.close:hover{color:#000;text-decoration:none;cursor:pointer;opacity:.5;filter:alpha(opacity=50)}button.close{padding:0;cursor:pointer;background:0 0;border:0;-webkit-appearance:none}.modal-open{overflow:hidden}.modal{display:none;overflow:hidden;position:fixed;top:0;right:0;bottom:0;left:0;z-index:1050;-webkit-overflow-scrolling:touch;outline:0}.modal.fade .modal-dialog{-webkit-transition:-webkit-transform .3s ease-out;-moz-transition:-moz-transform .3s ease-out;-o-transition:-o-transform .3s ease-out;transition:transform .3s ease-out}.modal.in .modal-dialog{-webkit-transform:translate(0,0);-ms-transform:translate(0,0);-o-transform:translate(0,0);transform:translate(0,0)}.modal-open .modal{overflow-x:hidden;overflow-y:auto}.modal-dialog{position:relative;width:auto;margin:10px}.modal-content{position:relative;background-color:#fff;border:1px solid #999;border:1px solid rgba(0,0,0,.2);border-radius:3px;-webkit-box-shadow:0 3px 9px rgba(0,0,0,.5);box-shadow:0 3px 9px rgba(0,0,0,.5);background-clip:padding-box;outline:0}.modal-backdrop{position:fixed;top:0;right:0;bottom:0;left:0;z-index:1040;background-color:#000}.modal-backdrop.fade{opacity:0;filter:alpha(opacity=0)}.modal-backdrop.in{opacity:.5;filter:alpha(opacity=50)}.modal-header{padding:15px;border-bottom:1px solid #e5e5e5;min-height:16.43px}.modal-header .close{margin-top:-2px}.modal-title{margin:0;line-height:1.42857143}.modal-body{position:relative;padding:15px}.modal-footer{padding:15px;text-align:right;border-top:1px solid #e5e5e5}.modal-footer .btn+.btn{margin-left:5px;margin-bottom:0}.modal-footer .btn-group .btn+.btn{margin-left:-1px}.modal-footer .btn-block+.btn-block{margin-left:0}.modal-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}@media (min-width:768px){.modal-dialog{width:600px;margin:30px auto}.modal-content{-webkit-box-shadow:0 5px 15px rgba(0,0,0,.5);box-shadow:0 5px 15px rgba(0,0,0,.5)}.modal-sm{width:300px}}@media (min-width:992px){.modal-lg{width:900px}}.tooltip{position:absolute;z-index:1070;display:block;font-family:"Helvetica Neue",Helvetica,Arial,sans-serif;font-size:12px;font-weight:400;line-height:1.4;opacity:0;filter:alpha(opacity=0)}.tooltip.in{opacity:.9;filter:alpha(opacity=90)}.tooltip.top{margin-top:-3px;padding:5px 0}.tooltip.right{margin-left:3px;padding:0 5px}.tooltip.bottom{margin-top:3px;padding:5px 0}.tooltip.left{margin-left:-3px;padding:0 5px}.tooltip-inner{max-width:200px;padding:3px 8px;color:#fff;text-align:center;text-decoration:none;background-color:#000;border-radius:2px}.tooltip-arrow{position:absolute;width:0;height:0;border-color:transparent;border-style:solid}.tooltip.top .tooltip-arrow{bottom:0;left:50%;margin-left:-5px;border-width:5px 5px 0;border-top-color:#000}.tooltip.top-left .tooltip-arrow{bottom:0;right:5px;margin-bottom:-5px;border-width:5px 5px 0;border-top-color:#000}.tooltip.top-right .tooltip-arrow{bottom:0;left:5px;margin-bottom:-5px;border-width:5px 5px 0;border-top-color:#000}.tooltip.right .tooltip-arrow{top:50%;left:0;margin-top:-5px;border-width:5px 5px 5px 0;border-right-color:#000}.tooltip.left .tooltip-arrow{top:50%;right:0;margin-top:-5px;border-width:5px 0 5px 5px;border-left-color:#000}.tooltip.bottom .tooltip-arrow{top:0;left:50%;margin-left:-5px;border-width:0 5px 5px;border-bottom-color:#000}.tooltip.bottom-left .tooltip-arrow{top:0;right:5px;margin-top:-5px;border-width:0 5px 5px;border-bottom-color:#000}.tooltip.bottom-right .tooltip-arrow{top:0;left:5px;margin-top:-5px;border-width:0 5px 5px;border-bottom-color:#000}.popover{position:absolute;top:0;left:0;z-index:1060;display:none;max-width:276px;padding:1px;font-family:"Helvetica Neue",Helvetica,Arial,sans-serif;font-size:13px;font-weight:400;line-height:1.42857143;text-align:left;background-color:#fff;background-clip:padding-box;border:1px solid #ccc;border:1px solid rgba(0,0,0,.2);border-radius:3px;-webkit-box-shadow:0 5px 10px rgba(0,0,0,.2);box-shadow:0 5px 10px rgba(0,0,0,.2);white-space:normal}.popover.top{margin-top:-10px}.popover.right{margin-left:10px}.popover.bottom{margin-top:10px}.popover.left{margin-left:-10px}.popover-title{margin:0;padding:8px 14px;font-size:13px;background-color:#f7f7f7;border-bottom:1px solid #ebebeb;border-radius:2px 2px 0 0}.popover-content{padding:9px 14px}.popover>.arrow,.popover>.arrow:after{position:absolute;display:block;width:0;height:0;border-color:transparent;border-style:solid}.popover>.arrow{border-width:11px}.popover>.arrow:after{border-width:10px;content:""}.popover.top>.arrow{left:50%;margin-left:-11px;border-bottom-width:0;border-top-color:#999;border-top-color:rgba(0,0,0,.25);bottom:-11px}.popover.top>.arrow:after{content:" ";bottom:1px;margin-left:-10px;border-bottom-width:0;border-top-color:#fff}.popover.right>.arrow{top:50%;left:-11px;margin-top:-11px;border-left-width:0;border-right-color:#999;border-right-color:rgba(0,0,0,.25)}.popover.right>.arrow:after{content:" ";left:1px;bottom:-10px;border-left-width:0;border-right-color:#fff}.popover.bottom>.arrow{left:50%;margin-left:-11px;border-top-width:0;border-bottom-color:#999;border-bottom-color:rgba(0,0,0,.25);top:-11px}.popover.bottom>.arrow:after{content:" ";top:1px;margin-left:-10px;border-top-width:0;border-bottom-color:#fff}.popover.left>.arrow{top:50%;right:-11px;margin-top:-11px;border-right-width:0;border-left-color:#999;border-left-color:rgba(0,0,0,.25)}.popover.left>.arrow:after{content:" ";right:1px;border-right-width:0;border-left-color:#fff;bottom:-10px}.carousel{position:relative}.carousel-inner{position:relative;overflow:hidden;width:100%}.carousel-inner>.item{display:none;position:relative;-webkit-transition:.6s ease-in-out left;-o-transition:.6s ease-in-out left;transition:.6s ease-in-out left}.carousel-inner>.item>a>img,.carousel-inner>.item>img{line-height:1}@media all and (transform-3d),(-webkit-transform-3d){.carousel-inner>.item{-webkit-transition:-webkit-transform .6s ease-in-out;-moz-transition:-moz-transform .6s ease-in-out;-o-transition:-o-transform .6s ease-in-out;transition:transform .6s ease-in-out;-webkit-backface-visibility:hidden;-moz-backface-visibility:hidden;backface-visibility:hidden;-webkit-perspective:1000;-moz-perspective:1000;perspective:1000}.carousel-inner>.item.active.right,.carousel-inner>.item.next{-webkit-transform:translate3d(100%,0,0);transform:translate3d(100%,0,0);left:0}.carousel-inner>.item.active.left,.carousel-inner>.item.prev{-webkit-transform:translate3d(-100%,0,0);transform:translate3d(-100%,0,0);left:0}.carousel-inner>.item.active,.carousel-inner>.item.next.left,.carousel-inner>.item.prev.right{-webkit-transform:translate3d(0,0,0);transform:translate3d(0,0,0);left:0}}.carousel-inner>.active,.carousel-inner>.next,.carousel-inner>.prev{display:block}.carousel-inner>.active{left:0}.carousel-inner>.next,.carousel-inner>.prev{position:absolute;top:0;width:100%}.carousel-inner>.next{left:100%}.carousel-inner>.prev{left:-100%}.carousel-inner>.next.left,.carousel-inner>.prev.right{left:0}.carousel-inner>.active.left{left:-100%}.carousel-inner>.active.right{left:100%}.carousel-control{position:absolute;top:0;left:0;bottom:0;width:15%;opacity:.5;filter:alpha(opacity=50);font-size:20px;color:#fff;text-align:center;text-shadow:0 1px 2px rgba(0,0,0,.6)}.carousel-control.left{background-image:-webkit-linear-gradient(left,rgba(0,0,0,.5) 0,rgba(0,0,0,.0001) 100%);background-image:-o-linear-gradient(left,rgba(0,0,0,.5) 0,rgba(0,0,0,.0001) 100%);background-image:linear-gradient(to right,rgba(0,0,0,.5) 0,rgba(0,0,0,.0001) 100%);background-repeat:repeat-x;filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#80000000', endColorstr='#00000000', GradientType=1)}.carousel-control.right{left:auto;right:0;background-image:-webkit-linear-gradient(left,rgba(0,0,0,.0001) 0,rgba(0,0,0,.5) 100%);background-image:-o-linear-gradient(left,rgba(0,0,0,.0001) 0,rgba(0,0,0,.5) 100%);background-image:linear-gradient(to right,rgba(0,0,0,.0001) 0,rgba(0,0,0,.5) 100%);background-repeat:repeat-x;filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#00000000', endColorstr='#80000000', GradientType=1)}.carousel-control:focus,.carousel-control:hover{outline:0;color:#fff;text-decoration:none;opacity:.9;filter:alpha(opacity=90)}.carousel-control .glyphicon-chevron-left,.carousel-control .glyphicon-chevron-right,.carousel-control .icon-next,.carousel-control .icon-prev{position:absolute;top:50%;z-index:5;display:inline-block}.carousel-control .glyphicon-chevron-left,.carousel-control .icon-prev{left:50%;margin-left:-10px}.carousel-control .glyphicon-chevron-right,.carousel-control .icon-next{right:50%;margin-right:-10px}.carousel-control .icon-next,.carousel-control .icon-prev{width:20px;height:20px;margin-top:-10px;line-height:1;font-family:serif}.carousel-control .icon-prev:before{content:'\2039'}.carousel-control .icon-next:before{content:'\203a'}.carousel-indicators{position:absolute;bottom:10px;left:50%;z-index:15;width:60%;margin-left:-30%;padding-left:0;list-style:none;text-align:center}.carousel-indicators li{display:inline-block;width:10px;height:10px;margin:1px;text-indent:-999px;border:1px solid #fff;border-radius:10px;cursor:pointer;background-color:transparent}.carousel-indicators .active{margin:0;width:12px;height:12px;background-color:#fff}.carousel-caption{position:absolute;left:15%;right:15%;bottom:20px;z-index:10;padding-top:20px;padding-bottom:20px;color:#fff;text-align:center;text-shadow:0 1px 2px rgba(0,0,0,.6)}.carousel-caption .btn{text-shadow:none}@media screen and (min-width:768px){.carousel-control .glyphicon-chevron-left,.carousel-control .glyphicon-chevron-right,.carousel-control .icon-next,.carousel-control .icon-prev{width:30px;height:30px;margin-top:-15px;font-size:30px}.carousel-control .glyphicon-chevron-left,.carousel-control .icon-prev{margin-left:-15px}.carousel-control .glyphicon-chevron-right,.carousel-control .icon-next{margin-right:-15px}.carousel-caption{left:20%;right:20%;padding-bottom:30px}.carousel-indicators{bottom:20px}}.btn-group-vertical>.btn-group:after,.btn-group-vertical>.btn-group:before,.btn-toolbar:after,.btn-toolbar:before,.clearfix:after,.clearfix:before,.container-fluid:after,.container-fluid:before,.container:after,.container:before,.dl-horizontal dd:after,.dl-horizontal dd:before,.form-horizontal .form-group:after,.form-horizontal .form-group:before,.item_buttons:after,.item_buttons:before,.modal-footer:after,.modal-footer:before,.nav:after,.nav:before,.navbar-collapse:after,.navbar-collapse:before,.navbar-header:after,.navbar-header:before,.navbar:after,.navbar:before,.pager:after,.pager:before,.panel-body:after,.panel-body:before,.row:after,.row:before{content:" ";display:table}.btn-group-vertical>.btn-group:after,.btn-toolbar:after,.clearfix:after,.container-fluid:after,.container:after,.dl-horizontal dd:after,.form-horizontal .form-group:after,.item_buttons:after,.modal-footer:after,.nav:after,.navbar-collapse:after,.navbar-header:after,.navbar:after,.pager:after,.panel-body:after,.row:after{clear:both}.center-block{display:block;margin-left:auto;margin-right:auto}.pull-right{float:right!important}.pull-left{float:left!important}.hide{display:none!important}.show{display:block!important}.invisible{visibility:hidden}.text-hide{font:0/0 a;color:transparent;text-shadow:none;background-color:transparent;border:0}.hidden{display:none!important}.affix{position:fixed}@-ms-viewport{width:device-width}.visible-lg,.visible-lg-block,.visible-lg-inline,.visible-lg-inline-block,.visible-md,.visible-md-block,.visible-md-inline,.visible-md-inline-block,.visible-sm,.visible-sm-block,.visible-sm-inline,.visible-sm-inline-block,.visible-xs,.visible-xs-block,.visible-xs-inline,.visible-xs-inline-block{display:none!important}@media (max-width:767px){.visible-xs{display:block!important}table.visible-xs{display:table}tr.visible-xs{display:table-row!important}td.visible-xs,th.visible-xs{display:table-cell!important}.visible-xs-block{display:block!important}.visible-xs-inline{display:inline!important}.visible-xs-inline-block{display:inline-block!important}}@media (min-width:768px)and (max-width:991px){.visible-sm{display:block!important}table.visible-sm{display:table}tr.visible-sm{display:table-row!important}td.visible-sm,th.visible-sm{display:table-cell!important}.visible-sm-block{display:block!important}.visible-sm-inline{display:inline!important}.visible-sm-inline-block{display:inline-block!important}}@media (min-width:992px)and (max-width:1199px){.visible-md{display:block!important}table.visible-md{display:table}tr.visible-md{display:table-row!important}td.visible-md,th.visible-md{display:table-cell!important}.visible-md-block{display:block!important}.visible-md-inline{display:inline!important}.visible-md-inline-block{display:inline-block!important}}@media (min-width:1200px){.visible-lg{display:block!important}table.visible-lg{display:table}tr.visible-lg{display:table-row!important}td.visible-lg,th.visible-lg{display:table-cell!important}.visible-lg-block{display:block!important}.visible-lg-inline{display:inline!important}.visible-lg-inline-block{display:inline-block!important}}@media (max-width:767px){.hidden-xs{display:none!important}}@media (min-width:768px)and (max-width:991px){.hidden-sm{display:none!important}}@media (min-width:992px)and (max-width:1199px){.hidden-md{display:none!important}}@media (min-width:1200px){.hidden-lg{display:none!important}}.visible-print{display:none!important}@media print{.visible-print{display:block!important}table.visible-print{display:table}tr.visible-print{display:table-row!important}td.visible-print,th.visible-print{display:table-cell!important}}.visible-print-block{display:none!important}@media print{.visible-print-block{display:block!important}}.visible-print-inline{display:none!important}@media print{.visible-print-inline{display:inline!important}}.visible-print-inline-block{display:none!important}@media print{.visible-print-inline-block{display:inline-block!important}.hidden-print{display:none!important}}/*!
*
* Font Awesome
*
*//*!
 *  Font Awesome 4.2.0 by @davegandy - http://fontawesome.io - @fontawesome
 *  License - http://fontawesome.io/license (Font: SIL OFL 1.1, CSS: MIT License)
 */@font-face{font-family:'FontAwesome';src:url(../components/font-awesome/fonts/fontawesome-webfont.eot?v=4.2.0);src:url(../components/font-awesome/fonts/fontawesome-webfont.eot?#iefix&v=4.2.0)format('embedded-opentype'),url(../components/font-awesome/fonts/fontawesome-webfont.woff?v=4.2.0)format('woff'),url(../components/font-awesome/fonts/fontawesome-webfont.ttf?v=4.2.0)format('truetype'),url(../components/font-awesome/fonts/fontawesome-webfont.svg?v=4.2.0#fontawesomeregular)format('svg');font-weight:400;font-style:normal}.fa{display:inline-block;font:normal normal normal 14px/1 FontAwesome;font-size:inherit;text-rendering:auto;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.fa-lg{font-size:1.33333333em;line-height:.75em;vertical-align:-15%}.fa-2x{font-size:2em}.fa-3x{font-size:3em}.fa-4x{font-size:4em}.fa-5x{font-size:5em}.fa-fw{width:1.28571429em;text-align:center}.fa-ul{padding-left:0;margin-left:2.14285714em;list-style-type:none}.fa-ul>li{position:relative}.fa-li{position:absolute;left:-2.14285714em;width:2.14285714em;top:.14285714em;text-align:center}.fa-li.fa-lg{left:-1.85714286em}.fa-border{padding:.2em .25em .15em;border:.08em solid #eee;border-radius:.1em}.fa.pull-left{margin-right:.3em}.fa.pull-right{margin-left:.3em}.fa-spin{-webkit-animation:fa-spin 2s infinite linear;animation:fa-spin 2s infinite linear}@-webkit-keyframes fa-spin{0%{-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(359deg);transform:rotate(359deg)}}@keyframes fa-spin{0%{-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(359deg);transform:rotate(359deg)}}.fa-rotate-90{filter:progid:DXImageTransform.Microsoft.BasicImage(rotation=1);-webkit-transform:rotate(90deg);-ms-transform:rotate(90deg);transform:rotate(90deg)}.fa-rotate-180{filter:progid:DXImageTransform.Microsoft.BasicImage(rotation=2);-webkit-transform:rotate(180deg);-ms-transform:rotate(180deg);transform:rotate(180deg)}.fa-rotate-270{filter:progid:DXImageTransform.Microsoft.BasicImage(rotation=3);-webkit-transform:rotate(270deg);-ms-transform:rotate(270deg);transform:rotate(270deg)}.fa-flip-horizontal{filter:progid:DXImageTransform.Microsoft.BasicImage(rotation=0, mirror=1);-webkit-transform:scale(-1,1);-ms-transform:scale(-1,1);transform:scale(-1,1)}.fa-flip-vertical{filter:progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1);-webkit-transform:scale(1,-1);-ms-transform:scale(1,-1);transform:scale(1,-1)}:root .fa-flip-horizontal,:root .fa-flip-vertical,:root .fa-rotate-180,:root .fa-rotate-270,:root .fa-rotate-90{filter:none}.fa-stack{position:relative;display:inline-block;width:2em;height:2em;line-height:2em;vertical-align:middle}.fa-stack-1x,.fa-stack-2x{position:absolute;left:0;width:100%;text-align:center}.fa-stack-1x{line-height:inherit}.fa-stack-2x{font-size:2em}.fa-inverse{color:#fff}.fa-glass:before{content:"\f000"}.fa-music:before{content:"\f001"}.fa-search:before{content:"\f002"}.fa-envelope-o:before{content:"\f003"}.fa-heart:before{content:"\f004"}.fa-star:before{content:"\f005"}.fa-star-o:before{content:"\f006"}.fa-user:before{content:"\f007"}.fa-film:before{content:"\f008"}.fa-th-large:before{content:"\f009"}.fa-th:before{content:"\f00a"}.fa-th-list:before{content:"\f00b"}.fa-check:before{content:"\f00c"}.fa-close:before,.fa-remove:before,.fa-times:before{content:"\f00d"}.fa-search-plus:before{content:"\f00e"}.fa-search-minus:before{content:"\f010"}.fa-power-off:before{content:"\f011"}.fa-signal:before{content:"\f012"}.fa-cog:before,.fa-gear:before{content:"\f013"}.fa-trash-o:before{content:"\f014"}.fa-home:before{content:"\f015"}.fa-file-o:before{content:"\f016"}.fa-clock-o:before{content:"\f017"}.fa-road:before{content:"\f018"}.fa-download:before{content:"\f019"}.fa-arrow-circle-o-down:before{content:"\f01a"}.fa-arrow-circle-o-up:before{content:"\f01b"}.fa-inbox:before{content:"\f01c"}.fa-play-circle-o:before{content:"\f01d"}.fa-repeat:before,.fa-rotate-right:before{content:"\f01e"}.fa-refresh:before{content:"\f021"}.fa-list-alt:before{content:"\f022"}.fa-lock:before{content:"\f023"}.fa-flag:before{content:"\f024"}.fa-headphones:before{content:"\f025"}.fa-volume-off:before{content:"\f026"}.fa-volume-down:before{content:"\f027"}.fa-volume-up:before{content:"\f028"}.fa-qrcode:before{content:"\f029"}.fa-barcode:before{content:"\f02a"}.fa-tag:before{content:"\f02b"}.fa-tags:before{content:"\f02c"}.fa-book:before{content:"\f02d"}.fa-bookmark:before{content:"\f02e"}.fa-print:before{content:"\f02f"}.fa-camera:before{content:"\f030"}.fa-font:before{content:"\f031"}.fa-bold:before{content:"\f032"}.fa-italic:before{content:"\f033"}.fa-text-height:before{content:"\f034"}.fa-text-width:before{content:"\f035"}.fa-align-left:before{content:"\f036"}.fa-align-center:before{content:"\f037"}.fa-align-right:before{content:"\f038"}.fa-align-justify:before{content:"\f039"}.fa-list:before{content:"\f03a"}.fa-dedent:before,.fa-outdent:before{content:"\f03b"}.fa-indent:before{content:"\f03c"}.fa-video-camera:before{content:"\f03d"}.fa-image:before,.fa-photo:before,.fa-picture-o:before{content:"\f03e"}.fa-pencil:before{content:"\f040"}.fa-map-marker:before{content:"\f041"}.fa-adjust:before{content:"\f042"}.fa-tint:before{content:"\f043"}.fa-edit:before,.fa-pencil-square-o:before{content:"\f044"}.fa-share-square-o:before{content:"\f045"}.fa-check-square-o:before{content:"\f046"}.fa-arrows:before{content:"\f047"}.fa-step-backward:before{content:"\f048"}.fa-fast-backward:before{content:"\f049"}.fa-backward:before{content:"\f04a"}.fa-play:before{content:"\f04b"}.fa-pause:before{content:"\f04c"}.fa-stop:before{content:"\f04d"}.fa-forward:before{content:"\f04e"}.fa-fast-forward:before{content:"\f050"}.fa-step-forward:before{content:"\f051"}.fa-eject:before{content:"\f052"}.fa-chevron-left:before{content:"\f053"}.fa-chevron-right:before{content:"\f054"}.fa-plus-circle:before{content:"\f055"}.fa-minus-circle:before{content:"\f056"}.fa-times-circle:before{content:"\f057"}.fa-check-circle:before{content:"\f058"}.fa-question-circle:before{content:"\f059"}.fa-info-circle:before{content:"\f05a"}.fa-crosshairs:before{content:"\f05b"}.fa-times-circle-o:before{content:"\f05c"}.fa-check-circle-o:before{content:"\f05d"}.fa-ban:before{content:"\f05e"}.fa-arrow-left:before{content:"\f060"}.fa-arrow-right:before{content:"\f061"}.fa-arrow-up:before{content:"\f062"}.fa-arrow-down:before{content:"\f063"}.fa-mail-forward:before,.fa-share:before{content:"\f064"}.fa-expand:before{content:"\f065"}.fa-compress:before{content:"\f066"}.fa-plus:before{content:"\f067"}.fa-minus:before{content:"\f068"}.fa-asterisk:before{content:"\f069"}.fa-exclamation-circle:before{content:"\f06a"}.fa-gift:before{content:"\f06b"}.fa-leaf:before{content:"\f06c"}.fa-fire:before{content:"\f06d"}.fa-eye:before{content:"\f06e"}.fa-eye-slash:before{content:"\f070"}.fa-exclamation-triangle:before,.fa-warning:before{content:"\f071"}.fa-plane:before{content:"\f072"}.fa-calendar:before{content:"\f073"}.fa-random:before{content:"\f074"}.fa-comment:before{content:"\f075"}.fa-magnet:before{content:"\f076"}.fa-chevron-up:before{content:"\f077"}.fa-chevron-down:before{content:"\f078"}.fa-retweet:before{content:"\f079"}.fa-shopping-cart:before{content:"\f07a"}.fa-folder:before{content:"\f07b"}.fa-folder-open:before{content:"\f07c"}.fa-arrows-v:before{content:"\f07d"}.fa-arrows-h:before{content:"\f07e"}.fa-bar-chart-o:before,.fa-bar-chart:before{content:"\f080"}.fa-twitter-square:before{content:"\f081"}.fa-facebook-square:before{content:"\f082"}.fa-camera-retro:before{content:"\f083"}.fa-key:before{content:"\f084"}.fa-cogs:before,.fa-gears:before{content:"\f085"}.fa-comments:before{content:"\f086"}.fa-thumbs-o-up:before{content:"\f087"}.fa-thumbs-o-down:before{content:"\f088"}.fa-star-half:before{content:"\f089"}.fa-heart-o:before{content:"\f08a"}.fa-sign-out:before{content:"\f08b"}.fa-linkedin-square:before{content:"\f08c"}.fa-thumb-tack:before{content:"\f08d"}.fa-external-link:before{content:"\f08e"}.fa-sign-in:before{content:"\f090"}.fa-trophy:before{content:"\f091"}.fa-github-square:before{content:"\f092"}.fa-upload:before{content:"\f093"}.fa-lemon-o:before{content:"\f094"}.fa-phone:before{content:"\f095"}.fa-square-o:before{content:"\f096"}.fa-bookmark-o:before{content:"\f097"}.fa-phone-square:before{content:"\f098"}.fa-twitter:before{content:"\f099"}.fa-facebook:before{content:"\f09a"}.fa-github:before{content:"\f09b"}.fa-unlock:before{content:"\f09c"}.fa-credit-card:before{content:"\f09d"}.fa-rss:before{content:"\f09e"}.fa-hdd-o:before{content:"\f0a0"}.fa-bullhorn:before{content:"\f0a1"}.fa-bell:before{content:"\f0f3"}.fa-certificate:before{content:"\f0a3"}.fa-hand-o-right:before{content:"\f0a4"}.fa-hand-o-left:before{content:"\f0a5"}.fa-hand-o-up:before{content:"\f0a6"}.fa-hand-o-down:before{content:"\f0a7"}.fa-arrow-circle-left:before{content:"\f0a8"}.fa-arrow-circle-right:before{content:"\f0a9"}.fa-arrow-circle-up:before{content:"\f0aa"}.fa-arrow-circle-down:before{content:"\f0ab"}.fa-globe:before{content:"\f0ac"}.fa-wrench:before{content:"\f0ad"}.fa-tasks:before{content:"\f0ae"}.fa-filter:before{content:"\f0b0"}.fa-briefcase:before{content:"\f0b1"}.fa-arrows-alt:before{content:"\f0b2"}.fa-group:before,.fa-users:before{content:"\f0c0"}.fa-chain:before,.fa-link:before{content:"\f0c1"}.fa-cloud:before{content:"\f0c2"}.fa-flask:before{content:"\f0c3"}.fa-cut:before,.fa-scissors:before{content:"\f0c4"}.fa-copy:before,.fa-files-o:before{content:"\f0c5"}.fa-paperclip:before{content:"\f0c6"}.fa-floppy-o:before,.fa-save:before{content:"\f0c7"}.fa-square:before{content:"\f0c8"}.fa-bars:before,.fa-navicon:before,.fa-reorder:before{content:"\f0c9"}.fa-list-ul:before{content:"\f0ca"}.fa-list-ol:before{content:"\f0cb"}.fa-strikethrough:before{content:"\f0cc"}.fa-underline:before{content:"\f0cd"}.fa-table:before{content:"\f0ce"}.fa-magic:before{content:"\f0d0"}.fa-truck:before{content:"\f0d1"}.fa-pinterest:before{content:"\f0d2"}.fa-pinterest-square:before{content:"\f0d3"}.fa-google-plus-square:before{content:"\f0d4"}.fa-google-plus:before{content:"\f0d5"}.fa-money:before{content:"\f0d6"}.fa-caret-down:before{content:"\f0d7"}.fa-caret-up:before{content:"\f0d8"}.fa-caret-left:before{content:"\f0d9"}.fa-caret-right:before{content:"\f0da"}.fa-columns:before{content:"\f0db"}.fa-sort:before,.fa-unsorted:before{content:"\f0dc"}.fa-sort-desc:before,.fa-sort-down:before{content:"\f0dd"}.fa-sort-asc:before,.fa-sort-up:before{content:"\f0de"}.fa-envelope:before{content:"\f0e0"}.fa-linkedin:before{content:"\f0e1"}.fa-rotate-left:before,.fa-undo:before{content:"\f0e2"}.fa-gavel:before,.fa-legal:before{content:"\f0e3"}.fa-dashboard:before,.fa-tachometer:before{content:"\f0e4"}.fa-comment-o:before{content:"\f0e5"}.fa-comments-o:before{content:"\f0e6"}.fa-bolt:before,.fa-flash:before{content:"\f0e7"}.fa-sitemap:before{content:"\f0e8"}.fa-umbrella:before{content:"\f0e9"}.fa-clipboard:before,.fa-paste:before{content:"\f0ea"}.fa-lightbulb-o:before{content:"\f0eb"}.fa-exchange:before{content:"\f0ec"}.fa-cloud-download:before{content:"\f0ed"}.fa-cloud-upload:before{content:"\f0ee"}.fa-user-md:before{content:"\f0f0"}.fa-stethoscope:before{content:"\f0f1"}.fa-suitcase:before{content:"\f0f2"}.fa-bell-o:before{content:"\f0a2"}.fa-coffee:before{content:"\f0f4"}.fa-cutlery:before{content:"\f0f5"}.fa-file-text-o:before{content:"\f0f6"}.fa-building-o:before{content:"\f0f7"}.fa-hospital-o:before{content:"\f0f8"}.fa-ambulance:before{content:"\f0f9"}.fa-medkit:before{content:"\f0fa"}.fa-fighter-jet:before{content:"\f0fb"}.fa-beer:before{content:"\f0fc"}.fa-h-square:before{content:"\f0fd"}.fa-plus-square:before{content:"\f0fe"}.fa-angle-double-left:before{content:"\f100"}.fa-angle-double-right:before{content:"\f101"}.fa-angle-double-up:before{content:"\f102"}.fa-angle-double-down:before{content:"\f103"}.fa-angle-left:before{content:"\f104"}.fa-angle-right:before{content:"\f105"}.fa-angle-up:before{content:"\f106"}.fa-angle-down:before{content:"\f107"}.fa-desktop:before{content:"\f108"}.fa-laptop:before{content:"\f109"}.fa-tablet:before{content:"\f10a"}.fa-mobile-phone:before,.fa-mobile:before{content:"\f10b"}.fa-circle-o:before{content:"\f10c"}.fa-quote-left:before{content:"\f10d"}.fa-quote-right:before{content:"\f10e"}.fa-spinner:before{content:"\f110"}.fa-circle:before{content:"\f111"}.fa-mail-reply:before,.fa-reply:before{content:"\f112"}.fa-github-alt:before{content:"\f113"}.fa-folder-o:before{content:"\f114"}.fa-folder-open-o:before{content:"\f115"}.fa-smile-o:before{content:"\f118"}.fa-frown-o:before{content:"\f119"}.fa-meh-o:before{content:"\f11a"}.fa-gamepad:before{content:"\f11b"}.fa-keyboard-o:before{content:"\f11c"}.fa-flag-o:before{content:"\f11d"}.fa-flag-checkered:before{content:"\f11e"}.fa-terminal:before{content:"\f120"}.fa-code:before{content:"\f121"}.fa-mail-reply-all:before,.fa-reply-all:before{content:"\f122"}.fa-star-half-empty:before,.fa-star-half-full:before,.fa-star-half-o:before{content:"\f123"}.fa-location-arrow:before{content:"\f124"}.fa-crop:before{content:"\f125"}.fa-code-fork:before{content:"\f126"}.fa-chain-broken:before,.fa-unlink:before{content:"\f127"}.fa-question:before{content:"\f128"}.fa-info:before{content:"\f129"}.fa-exclamation:before{content:"\f12a"}.fa-superscript:before{content:"\f12b"}.fa-subscript:before{content:"\f12c"}.fa-eraser:before{content:"\f12d"}.fa-puzzle-piece:before{content:"\f12e"}.fa-microphone:before{content:"\f130"}.fa-microphone-slash:before{content:"\f131"}.fa-shield:before{content:"\f132"}.fa-calendar-o:before{content:"\f133"}.fa-fire-extinguisher:before{content:"\f134"}.fa-rocket:before{content:"\f135"}.fa-maxcdn:before{content:"\f136"}.fa-chevron-circle-left:before{content:"\f137"}.fa-chevron-circle-right:before{content:"\f138"}.fa-chevron-circle-up:before{content:"\f139"}.fa-chevron-circle-down:before{content:"\f13a"}.fa-html5:before{content:"\f13b"}.fa-css3:before{content:"\f13c"}.fa-anchor:before{content:"\f13d"}.fa-unlock-alt:before{content:"\f13e"}.fa-bullseye:before{content:"\f140"}.fa-ellipsis-h:before{content:"\f141"}.fa-ellipsis-v:before{content:"\f142"}.fa-rss-square:before{content:"\f143"}.fa-play-circle:before{content:"\f144"}.fa-ticket:before{content:"\f145"}.fa-minus-square:before{content:"\f146"}.fa-minus-square-o:before{content:"\f147"}.fa-level-up:before{content:"\f148"}.fa-level-down:before{content:"\f149"}.fa-check-square:before{content:"\f14a"}.fa-pencil-square:before{content:"\f14b"}.fa-external-link-square:before{content:"\f14c"}.fa-share-square:before{content:"\f14d"}.fa-compass:before{content:"\f14e"}.fa-caret-square-o-down:before,.fa-toggle-down:before{content:"\f150"}.fa-caret-square-o-up:before,.fa-toggle-up:before{content:"\f151"}.fa-caret-square-o-right:before,.fa-toggle-right:before{content:"\f152"}.fa-eur:before,.fa-euro:before{content:"\f153"}.fa-gbp:before{content:"\f154"}.fa-dollar:before,.fa-usd:before{content:"\f155"}.fa-inr:before,.fa-rupee:before{content:"\f156"}.fa-cny:before,.fa-jpy:before,.fa-rmb:before,.fa-yen:before{content:"\f157"}.fa-rouble:before,.fa-rub:before,.fa-ruble:before{content:"\f158"}.fa-krw:before,.fa-won:before{content:"\f159"}.fa-bitcoin:before,.fa-btc:before{content:"\f15a"}.fa-file:before{content:"\f15b"}.fa-file-text:before{content:"\f15c"}.fa-sort-alpha-asc:before{content:"\f15d"}.fa-sort-alpha-desc:before{content:"\f15e"}.fa-sort-amount-asc:before{content:"\f160"}.fa-sort-amount-desc:before{content:"\f161"}.fa-sort-numeric-asc:before{content:"\f162"}.fa-sort-numeric-desc:before{content:"\f163"}.fa-thumbs-up:before{content:"\f164"}.fa-thumbs-down:before{content:"\f165"}.fa-youtube-square:before{content:"\f166"}.fa-youtube:before{content:"\f167"}.fa-xing:before{content:"\f168"}.fa-xing-square:before{content:"\f169"}.fa-youtube-play:before{content:"\f16a"}.fa-dropbox:before{content:"\f16b"}.fa-stack-overflow:before{content:"\f16c"}.fa-instagram:before{content:"\f16d"}.fa-flickr:before{content:"\f16e"}.fa-adn:before{content:"\f170"}.fa-bitbucket:before{content:"\f171"}.fa-bitbucket-square:before{content:"\f172"}.fa-tumblr:before{content:"\f173"}.fa-tumblr-square:before{content:"\f174"}.fa-long-arrow-down:before{content:"\f175"}.fa-long-arrow-up:before{content:"\f176"}.fa-long-arrow-left:before{content:"\f177"}.fa-long-arrow-right:before{content:"\f178"}.fa-apple:before{content:"\f179"}.fa-windows:before{content:"\f17a"}.fa-android:before{content:"\f17b"}.fa-linux:before{content:"\f17c"}.fa-dribbble:before{content:"\f17d"}.fa-skype:before{content:"\f17e"}.fa-foursquare:before{content:"\f180"}.fa-trello:before{content:"\f181"}.fa-female:before{content:"\f182"}.fa-male:before{content:"\f183"}.fa-gittip:before{content:"\f184"}.fa-sun-o:before{content:"\f185"}.fa-moon-o:before{content:"\f186"}.fa-archive:before{content:"\f187"}.fa-bug:before{content:"\f188"}.fa-vk:before{content:"\f189"}.fa-weibo:before{content:"\f18a"}.fa-renren:before{content:"\f18b"}.fa-pagelines:before{content:"\f18c"}.fa-stack-exchange:before{content:"\f18d"}.fa-arrow-circle-o-right:before{content:"\f18e"}.fa-arrow-circle-o-left:before{content:"\f190"}.fa-caret-square-o-left:before,.fa-toggle-left:before{content:"\f191"}.fa-dot-circle-o:before{content:"\f192"}.fa-wheelchair:before{content:"\f193"}.fa-vimeo-square:before{content:"\f194"}.fa-try:before,.fa-turkish-lira:before{content:"\f195"}.fa-plus-square-o:before{content:"\f196"}.fa-space-shuttle:before{content:"\f197"}.fa-slack:before{content:"\f198"}.fa-envelope-square:before{content:"\f199"}.fa-wordpress:before{content:"\f19a"}.fa-openid:before{content:"\f19b"}.fa-bank:before,.fa-institution:before,.fa-university:before{content:"\f19c"}.fa-graduation-cap:before,.fa-mortar-board:before{content:"\f19d"}.fa-yahoo:before{content:"\f19e"}.fa-google:before{content:"\f1a0"}.fa-reddit:before{content:"\f1a1"}.fa-reddit-square:before{content:"\f1a2"}.fa-stumbleupon-circle:before{content:"\f1a3"}.fa-stumbleupon:before{content:"\f1a4"}.fa-delicious:before{content:"\f1a5"}.fa-digg:before{content:"\f1a6"}.fa-pied-piper:before{content:"\f1a7"}.fa-pied-piper-alt:before{content:"\f1a8"}.fa-drupal:before{content:"\f1a9"}.fa-joomla:before{content:"\f1aa"}.fa-language:before{content:"\f1ab"}.fa-fax:before{content:"\f1ac"}.fa-building:before{content:"\f1ad"}.fa-child:before{content:"\f1ae"}.fa-paw:before{content:"\f1b0"}.fa-spoon:before{content:"\f1b1"}.fa-cube:before{content:"\f1b2"}.fa-cubes:before{content:"\f1b3"}.fa-behance:before{content:"\f1b4"}.fa-behance-square:before{content:"\f1b5"}.fa-steam:before{content:"\f1b6"}.fa-steam-square:before{content:"\f1b7"}.fa-recycle:before{content:"\f1b8"}.fa-automobile:before,.fa-car:before{content:"\f1b9"}.fa-cab:before,.fa-taxi:before{content:"\f1ba"}.fa-tree:before{content:"\f1bb"}.fa-spotify:before{content:"\f1bc"}.fa-deviantart:before{content:"\f1bd"}.fa-soundcloud:before{content:"\f1be"}.fa-database:before{content:"\f1c0"}.fa-file-pdf-o:before{content:"\f1c1"}.fa-file-word-o:before{content:"\f1c2"}.fa-file-excel-o:before{content:"\f1c3"}.fa-file-powerpoint-o:before{content:"\f1c4"}.fa-file-image-o:before,.fa-file-photo-o:before,.fa-file-picture-o:before{content:"\f1c5"}.fa-file-archive-o:before,.fa-file-zip-o:before{content:"\f1c6"}.fa-file-audio-o:before,.fa-file-sound-o:before{content:"\f1c7"}.fa-file-movie-o:before,.fa-file-video-o:before{content:"\f1c8"}.fa-file-code-o:before{content:"\f1c9"}.fa-vine:before{content:"\f1ca"}.fa-codepen:before{content:"\f1cb"}.fa-jsfiddle:before{content:"\f1cc"}.fa-life-bouy:before,.fa-life-buoy:before,.fa-life-ring:before,.fa-life-saver:before,.fa-support:before{content:"\f1cd"}.fa-circle-o-notch:before{content:"\f1ce"}.fa-ra:before,.fa-rebel:before{content:"\f1d0"}.fa-empire:before,.fa-ge:before{content:"\f1d1"}.fa-git-square:before{content:"\f1d2"}.fa-git:before{content:"\f1d3"}.fa-hacker-news:before{content:"\f1d4"}.fa-tencent-weibo:before{content:"\f1d5"}.fa-qq:before{content:"\f1d6"}.fa-wechat:before,.fa-weixin:before{content:"\f1d7"}.fa-paper-plane:before,.fa-send:before{content:"\f1d8"}.fa-paper-plane-o:before,.fa-send-o:before{content:"\f1d9"}.fa-history:before{content:"\f1da"}.fa-circle-thin:before{content:"\f1db"}.fa-header:before{content:"\f1dc"}.fa-paragraph:before{content:"\f1dd"}.fa-sliders:before{content:"\f1de"}.fa-share-alt:before{content:"\f1e0"}.fa-share-alt-square:before{content:"\f1e1"}.fa-bomb:before{content:"\f1e2"}.fa-futbol-o:before,.fa-soccer-ball-o:before{content:"\f1e3"}.fa-tty:before{content:"\f1e4"}.fa-binoculars:before{content:"\f1e5"}.fa-plug:before{content:"\f1e6"}.fa-slideshare:before{content:"\f1e7"}.fa-twitch:before{content:"\f1e8"}.fa-yelp:before{content:"\f1e9"}.fa-newspaper-o:before{content:"\f1ea"}.fa-wifi:before{content:"\f1eb"}.fa-calculator:before{content:"\f1ec"}.fa-paypal:before{content:"\f1ed"}.fa-google-wallet:before{content:"\f1ee"}.fa-cc-visa:before{content:"\f1f0"}.fa-cc-mastercard:before{content:"\f1f1"}.fa-cc-discover:before{content:"\f1f2"}.fa-cc-amex:before{content:"\f1f3"}.fa-cc-paypal:before{content:"\f1f4"}.fa-cc-stripe:before{content:"\f1f5"}.fa-bell-slash:before{content:"\f1f6"}.fa-bell-slash-o:before{content:"\f1f7"}.fa-trash:before{content:"\f1f8"}.fa-copyright:before{content:"\f1f9"}.fa-at:before{content:"\f1fa"}.fa-eyedropper:before{content:"\f1fb"}.fa-paint-brush:before{content:"\f1fc"}.fa-birthday-cake:before{content:"\f1fd"}.fa-area-chart:before{content:"\f1fe"}.fa-pie-chart:before{content:"\f200"}.fa-line-chart:before{content:"\f201"}.fa-lastfm:before{content:"\f202"}.fa-lastfm-square:before{content:"\f203"}.fa-toggle-off:before{content:"\f204"}.fa-toggle-on:before{content:"\f205"}.fa-bicycle:before{content:"\f206"}.fa-bus:before{content:"\f207"}.fa-ioxhost:before{content:"\f208"}.fa-angellist:before{content:"\f209"}.fa-cc:before{content:"\f20a"}.fa-ils:before,.fa-shekel:before,.fa-sheqel:before{content:"\f20b"}.fa-meanpath:before{content:"\f20c"}/*!
*
* IPython base
*
*/.modal.fade .modal-dialog{-webkit-transform:translate(0,0);-ms-transform:translate(0,0);-o-transform:translate(0,0);transform:translate(0,0)}code{color:#000}pre{font-size:inherit;line-height:inherit}label{font-weight:400}.border-box-sizing{box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box}.corner-all{border-radius:2px}.no-padding{padding:0}.hbox{display:-webkit-box;-webkit-box-orient:horizontal;display:-moz-box;-moz-box-orient:horizontal;display:box;box-orient:horizontal;box-align:stretch;display:flex;flex-direction:row;align-items:stretch}.hbox>*{-webkit-box-flex:0;-moz-box-flex:0;box-flex:0;flex:none}.vbox{display:-webkit-box;-webkit-box-orient:vertical;display:-moz-box;-moz-box-orient:vertical;display:box;box-orient:vertical;box-align:stretch;display:flex;flex-direction:column;align-items:stretch}.vbox>*{-webkit-box-flex:0;-moz-box-flex:0;box-flex:0;flex:none}.hbox.reverse,.reverse,.vbox.reverse{-webkit-box-direction:reverse;-moz-box-direction:reverse;box-direction:reverse;flex-direction:row-reverse}.box-flex0,.hbox.box-flex0,.vbox.box-flex0{-webkit-box-flex:0;-moz-box-flex:0;box-flex:0;flex:none;width:auto}.box-flex1,.hbox.box-flex1,.vbox.box-flex1{-webkit-box-flex:1;-moz-box-flex:1;box-flex:1;flex:1}.box-flex,.hbox.box-flex,.vbox.box-flex{-webkit-box-flex:1;-moz-box-flex:1;box-flex:1;flex:1}.box-flex2,.hbox.box-flex2,.vbox.box-flex2{-webkit-box-flex:2;-moz-box-flex:2;box-flex:2;flex:2}.box-group1{-webkit-box-flex-group:1;-moz-box-flex-group:1;box-flex-group:1}.box-group2{-webkit-box-flex-group:2;-moz-box-flex-group:2;box-flex-group:2}.hbox.start,.start,.vbox.start{-webkit-box-pack:start;-moz-box-pack:start;box-pack:start;justify-content:flex-start}.end,.hbox.end,.vbox.end{-webkit-box-pack:end;-moz-box-pack:end;box-pack:end;justify-content:flex-end}.center,.hbox.center,.vbox.center{-webkit-box-pack:center;-moz-box-pack:center;box-pack:center;justify-content:center}.baseline,.hbox.baseline,.vbox.baseline{-webkit-box-pack:baseline;-moz-box-pack:baseline;box-pack:baseline;justify-content:baseline}.hbox.stretch,.stretch,.vbox.stretch{-webkit-box-pack:stretch;-moz-box-pack:stretch;box-pack:stretch;justify-content:stretch}.align-start,.hbox.align-start,.vbox.align-start{-webkit-box-align:start;-moz-box-align:start;box-align:start;align-items:flex-start}.align-end,.hbox.align-end,.vbox.align-end{-webkit-box-align:end;-moz-box-align:end;box-align:end;align-items:flex-end}.align-center,.hbox.align-center,.vbox.align-center{-webkit-box-align:center;-moz-box-align:center;box-align:center;align-items:center}.align-baseline,.hbox.align-baseline,.vbox.align-baseline{-webkit-box-align:baseline;-moz-box-align:baseline;box-align:baseline;align-items:baseline}.align-stretch,.hbox.align-stretch,.vbox.align-stretch{-webkit-box-align:stretch;-moz-box-align:stretch;box-align:stretch;align-items:stretch}div.error{margin:2em;text-align:center}div.error>h1{font-size:500%;line-height:normal}div.error>p{font-size:200%;line-height:normal}div.traceback-wrapper{text-align:left;max-width:800px;margin:auto}body{position:absolute;left:0;right:0;top:0;bottom:0;overflow:visible}#header{display:none;background-color:#fff;position:relative;z-index:100}#header #header-container{padding-bottom:5px;padding-top:5px;box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box}#header .header-bar{width:100%;height:1px;background:#e7e7e7;margin-bottom:-1px}#header-spacer{width:100%;visibility:hidden}@media print{#header{display:none!important}#header-spacer{display:none}}#ipython_notebook{padding-left:0;padding-top:1px;padding-bottom:1px}@media (max-width:991px){#ipython_notebook{margin-left:10px}}#noscript{width:auto;padding-top:16px;padding-bottom:16px;text-align:center;font-size:22px;color:red;font-weight:700}#ipython_notebook img{height:28px}#site{width:100%;display:none;box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;overflow:auto}@media print{#site{height:auto!important}}.ui-button .ui-button-text{padding:.2em .8em;font-size:77%}input.ui-button{padding:.3em .9em}span#login_widget{float:right}#logout,span#login_widget>.button{color:#333;background-color:#fff;border-color:#ccc}#logout.active,#logout.focus,#logout:active,#logout:focus,#logout:hover,.open>.dropdown-toggle#logout,.open>.dropdown-togglespan#login_widget>.button,span#login_widget>.button.active,span#login_widget>.button.focus,span#login_widget>.button:active,span#login_widget>.button:focus,span#login_widget>.button:hover{color:#333;background-color:#e6e6e6;border-color:#adadad}#logout.active,#logout:active,.open>.dropdown-toggle#logout,.open>.dropdown-togglespan#login_widget>.button,span#login_widget>.button.active,span#login_widget>.button:active{background-image:none}#logout.disabled,#logout.disabled.active,#logout.disabled.focus,#logout.disabled:active,#logout.disabled:focus,#logout.disabled:hover,#logout[disabled],#logout[disabled].active,#logout[disabled].focus,#logout[disabled]:active,#logout[disabled]:focus,#logout[disabled]:hover,fieldset[disabled] #logout,fieldset[disabled] #logout.active,fieldset[disabled] #logout.focus,fieldset[disabled] #logout:active,fieldset[disabled] #logout:focus,fieldset[disabled] #logout:hover,fieldset[disabled] span#login_widget>.button,fieldset[disabled] span#login_widget>.button.active,fieldset[disabled] span#login_widget>.button.focus,fieldset[disabled] span#login_widget>.button:active,fieldset[disabled] span#login_widget>.button:focus,fieldset[disabled] span#login_widget>.button:hover,span#login_widget>.button.disabled,span#login_widget>.button.disabled.active,span#login_widget>.button.disabled.focus,span#login_widget>.button.disabled:active,span#login_widget>.button.disabled:focus,span#login_widget>.button.disabled:hover,span#login_widget>.button[disabled],span#login_widget>.button[disabled].active,span#login_widget>.button[disabled].focus,span#login_widget>.button[disabled]:active,span#login_widget>.button[disabled]:focus,span#login_widget>.button[disabled]:hover{background-color:#fff;border-color:#ccc}#logout .badge,span#login_widget>.button .badge{color:#fff;background-color:#333}.nav-header{text-transform:none}#header>span{margin-top:10px}.modal_stretch .modal-dialog{display:-webkit-box;-webkit-box-orient:vertical;display:-moz-box;-moz-box-orient:vertical;display:box;box-orient:vertical;box-align:stretch;display:flex;flex-direction:column;align-items:stretch;min-height:80vh}.modal_stretch .modal-dialog .modal-body{max-height:calc(100vh - 200px);overflow:auto;flex:1}@media (min-width:768px){.modal .modal-dialog{width:700px}select.form-control{margin-left:12px;margin-right:12px}}/*!
*
* IPython auth
*
*/.center-nav{display:inline-block;margin-bottom:-4px}/*!
*
* IPython tree view
*
*/.alternate_upload{background-color:none;display:inline}.alternate_upload.form{padding:0;margin:0}.alternate_upload input.fileinput{text-align:center;vertical-align:middle;display:inline;opacity:0;z-index:2;width:12ex;margin-right:-12ex}.alternate_upload .btn-upload{height:22px}ul#tabs{margin-bottom:4px}ul#tabs a{padding-top:6px;padding-bottom:4px}ul.breadcrumb a:focus,ul.breadcrumb a:hover{text-decoration:none}ul.breadcrumb i.icon-home{font-size:16px;margin-right:4px}ul.breadcrumb span{color:#5e5e5e}.list_toolbar{padding:4px 0;vertical-align:middle}.list_toolbar .tree-buttons{padding-top:1px}.dynamic-buttons{padding-top:3px;display:inline-block}.list_toolbar [class*=span]{min-height:24px}.list_header{font-weight:700;background-color:#eee}.list_placeholder{font-weight:700;padding:4px 7px}.list_container{margin-top:4px;margin-bottom:20px;border:1px solid #ddd;border-radius:2px}.list_container>div{border-bottom:1px solid #ddd}.list_container>div:hover .list-item{background-color:red}.list_container>div:last-child{border:none}.list_item:hover .list_item{background-color:#ddd}.list_item a{text-decoration:none}.list_item:hover{background-color:#fafafa}.action_col{text-align:right}.list_header>div,.list_item>div{line-height:22px;padding:4px 7px}.list_header>div input,.list_item>div input{margin-right:7px;margin-left:14px;vertical-align:baseline;line-height:22px;position:relative;top:-1px}.list_header>div .item_link,.list_item>div .item_link{margin-left:-1px;vertical-align:baseline;line-height:22px}.new-file input[type=checkbox]{visibility:hidden}.item_name{line-height:22px;height:24px}.item_icon{font-size:14px;color:#5e5e5e;margin-right:7px;margin-left:7px;line-height:22px;vertical-align:baseline}.item_buttons{line-height:1em;margin-left:-5px}.item_buttons .btn-group,.item_buttons .input-group{float:left}.item_buttons>.btn,.item_buttons>.btn-group,.item_buttons>.input-group{margin-left:5px}.item_buttons .btn{min-width:13ex}.item_buttons .running-indicator{padding-top:4px;color:#5cb85c}.toolbar_info{height:24px;line-height:24px}input.engine_num_input,input.nbname_input{padding-top:3px;padding-bottom:3px;height:22px;line-height:14px;margin:0}input.engine_num_input{width:60px}.highlight_text{color:#00f}#project_name{display:inline-block;padding-left:7px;margin-left:-2px}#project_name>.breadcrumb{padding:0;margin-bottom:0;background-color:transparent;font-weight:700}#tree-selector{padding-right:0}#button-select-all{min-width:50px}#select-all{margin-left:7px;margin-right:2px}.menu_icon{margin-right:2px}.tab-content .row{margin-left:0;margin-right:0}.folder_icon:before{display:inline-block;font:normal normal normal 14px/1 FontAwesome;font-size:inherit;text-rendering:auto;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;content:"\f114"}.folder_icon:before.pull-left{margin-right:.3em}.folder_icon:before.pull-right{margin-left:.3em}.notebook_icon:before{display:inline-block;font:normal normal normal 14px/1 FontAwesome;font-size:inherit;text-rendering:auto;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;content:"\f02d";position:relative;top:-1px}.notebook_icon:before.pull-left{margin-right:.3em}.notebook_icon:before.pull-right{margin-left:.3em}.running_notebook_icon:before{display:inline-block;font:normal normal normal 14px/1 FontAwesome;font-size:inherit;text-rendering:auto;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;content:"\f02d";position:relative;top:-1px;color:#5cb85c}.running_notebook_icon:before.pull-left{margin-right:.3em}.running_notebook_icon:before.pull-right{margin-left:.3em}.file_icon:before{display:inline-block;font:normal normal normal 14px/1 FontAwesome;font-size:inherit;text-rendering:auto;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;content:"\f016";position:relative;top:-2px}.file_icon:before.pull-left{margin-right:.3em}.file_icon:before.pull-right{margin-left:.3em}#notebook_toolbar .pull-right{padding-top:0;margin-right:-1px}ul#new-menu{left:auto;right:0}.kernel-menu-icon{padding-right:12px;width:24px;content:"\f096"}.kernel-menu-icon:before{content:"\f096"}.kernel-menu-icon-current:before{content:"\f00c"}#tab_content{padding-top:20px}#running .panel-group .panel{margin-top:3px;margin-bottom:1em}#running .panel-group .panel .panel-heading{background-color:#eee;line-height:22px;padding:4px 7px}#running .panel-group .panel .panel-heading a:focus,#running .panel-group .panel .panel-heading a:hover{text-decoration:none}#running .panel-group .panel .panel-body{padding:0}#running .panel-group .panel .panel-body .list_container{margin-top:0;margin-bottom:0;border:0;border-radius:0}#running .panel-group .panel .panel-body .list_container .list_item{border-bottom:1px solid #ddd}#running .panel-group .panel .panel-body .list_container .list_item:last-child{border-bottom:0}.delete-button,.duplicate-button,.rename-button,.shutdown-button{display:none}.dynamic-instructions{display:inline-block;padding-top:4px}/*!
*
* IPython text editor webapp
*
*/.selected-keymap i.fa{padding:0 5px}.selected-keymap i.fa:before{content:"\f00c"}#mode-menu{overflow:auto;max-height:20em}.edit_app #header{-webkit-box-shadow:0 0 12px 1px rgba(87,87,87,.2);box-shadow:0 0 12px 1px rgba(87,87,87,.2)}.edit_app #menubar .navbar{margin-bottom:-1px}.dirty-indicator{display:inline-block;font:normal normal normal 14px/1 FontAwesome;font-size:inherit;text-rendering:auto;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;width:20px}.dirty-indicator.pull-left{margin-right:.3em}.dirty-indicator.pull-right{margin-left:.3em}.dirty-indicator-dirty{display:inline-block;font:normal normal normal 14px/1 FontAwesome;font-size:inherit;text-rendering:auto;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;width:20px}.dirty-indicator-dirty.pull-left{margin-right:.3em}.dirty-indicator-dirty.pull-right{margin-left:.3em}.dirty-indicator-clean{display:inline-block;font:normal normal normal 14px/1 FontAwesome;font-size:inherit;text-rendering:auto;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;width:20px}.dirty-indicator-clean.pull-left{margin-right:.3em}.dirty-indicator-clean.pull-right{margin-left:.3em}.dirty-indicator-clean:before{display:inline-block;font:normal normal normal 14px/1 FontAwesome;font-size:inherit;text-rendering:auto;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;content:"\f00c"}.dirty-indicator-clean:before.pull-left{margin-right:.3em}.dirty-indicator-clean:before.pull-right{margin-left:.3em}#filename{font-size:16pt;display:table;padding:0 5px}#current-mode{padding-left:5px;padding-right:5px}#texteditor-backdrop{padding-top:20px;padding-bottom:20px}@media not print{#texteditor-backdrop{background-color:#eee}}@media print{#texteditor-backdrop #texteditor-container .CodeMirror-gutter,#texteditor-backdrop #texteditor-container .CodeMirror-gutters{background-color:#fff}}@media not print{#texteditor-backdrop #texteditor-container .CodeMirror-gutter,#texteditor-backdrop #texteditor-container .CodeMirror-gutters{background-color:#fff}#texteditor-backdrop #texteditor-container{padding:0;background-color:#fff;-webkit-box-shadow:0 0 12px 1px rgba(87,87,87,.2);box-shadow:0 0 12px 1px rgba(87,87,87,.2)}}/*!
*
* IPython notebook
*
*/.ansibold{font-weight:700}.ansiblack{color:#000}.ansired{color:#8b0000}.ansigreen{color:#006400}.ansiyellow{color:#c4a000}.ansiblue{color:#00008b}.ansipurple{color:#9400d3}.ansicyan{color:#4682b4}.ansigray{color:gray}.ansibgblack{background-color:#000}.ansibgred{background-color:red}.ansibggreen{background-color:green}.ansibgyellow{background-color:#ff0}.ansibgblue{background-color:#00f}.ansibgpurple{background-color:#ff00ff}.ansibgcyan{background-color:#0ff}.ansibggray{background-color:gray}div.cell{border:1px solid transparent;display:-webkit-box;-webkit-box-orient:vertical;display:-moz-box;-moz-box-orient:vertical;display:box;box-orient:vertical;box-align:stretch;display:flex;flex-direction:column;align-items:stretch;border-radius:2px;box-sizing:border-box;-moz-box-sizing:border-box;border-width:thin;border-style:solid;width:100%;padding:5px;margin:0;outline:0}div.cell.selected{border-color:#ababab}@media print{div.cell.selected{border-color:transparent}}.edit_mode div.cell.selected{border-color:green}.prompt{min-width:14ex;padding:.4em;margin:0;font-family:monospace;text-align:right;line-height:1.21429em}div.inner_cell{display:-webkit-box;-webkit-box-orient:vertical;display:-moz-box;-moz-box-orient:vertical;display:box;box-orient:vertical;box-align:stretch;display:flex;flex-direction:column;align-items:stretch;-webkit-box-flex:1;-moz-box-flex:1;box-flex:1;flex:1}@-moz-document url-prefix(){div.inner_cell{overflow-x:hidden}}div.input_area{border:1px solid #cfcfcf;border-radius:2px;background:#f7f7f7;line-height:1.21429em}div.prompt:empty{padding-top:0;padding-bottom:0}div.unrecognized_cell{padding:5px 5px 5px 0;display:-webkit-box;-webkit-box-orient:horizontal;display:-moz-box;-moz-box-orient:horizontal;display:box;box-orient:horizontal;box-align:stretch;display:flex;flex-direction:row;align-items:stretch}div.unrecognized_cell .inner_cell{border-radius:2px;padding:5px;font-weight:700;color:red;border:1px solid #cfcfcf;background:#eaeaea}div.unrecognized_cell .inner_cell a,div.unrecognized_cell .inner_cell a:hover{color:inherit;text-decoration:none}@media (max-width:540px){.prompt{text-align:left}div.unrecognized_cell>div.prompt{display:none}}div.code_cell{}div.input{page-break-inside:avoid;display:-webkit-box;-webkit-box-orient:horizontal;display:-moz-box;-moz-box-orient:horizontal;display:box;box-orient:horizontal;box-align:stretch;display:flex;flex-direction:row;align-items:stretch}@media (max-width:540px){div.input{-webkit-box-orient:vertical;-moz-box-orient:vertical;box-orient:vertical;box-align:stretch;display:flex;flex-direction:column;align-items:stretch}}div.input_prompt{color:navy;border-top:1px solid transparent}div.input_area>div.highlight{margin:.4em;border:none;padding:0;background-color:transparent}div.input_area>div.highlight>pre{margin:0;border:none;padding:0;background-color:transparent}.CodeMirror{line-height:1.21429em;font-size:14px;height:auto;background:0 0}.CodeMirror-scroll{overflow-y:hidden;overflow-x:auto}.CodeMirror-lines{padding:.4em}.CodeMirror-linenumber{padding:0 8px 0 4px}.CodeMirror-gutters{border-bottom-left-radius:2px;border-top-left-radius:2px}.CodeMirror pre{padding:0;border:0;border-radius:0}.highlight-base,.highlight-variable{color:#000}.highlight-variable-2{color:#1a1a1a}.highlight-variable-3{color:#333}.highlight-string{color:#BA2121}.highlight-comment{color:#408080;font-style:italic}.highlight-number{color:#080}.highlight-atom{color:#88F}.highlight-keyword{color:green;font-weight:700}.highlight-builtin{color:green}.highlight-error{color:red}.highlight-operator{color:#A2F;font-weight:700}.highlight-meta{color:#A2F}.highlight-def{color:#00f}.highlight-string-2{color:#f50}.highlight-qualifier{color:#555}.highlight-bracket{color:#997}.highlight-tag{color:#170}.highlight-attribute{color:#00c}.highlight-header{color:#00f}.highlight-quote{color:#090}.highlight-link{color:#00c}.cm-s-ipython span.cm-keyword{color:green;font-weight:700}.cm-s-ipython span.cm-atom{color:#88F}.cm-s-ipython span.cm-number{color:#080}.cm-s-ipython span.cm-def{color:#00f}.cm-s-ipython span.cm-variable{color:#000}.cm-s-ipython span.cm-operator{color:#A2F;font-weight:700}.cm-s-ipython span.cm-variable-2{color:#1a1a1a}.cm-s-ipython span.cm-variable-3{color:#333}.cm-s-ipython span.cm-comment{color:#408080;font-style:italic}.cm-s-ipython span.cm-string{color:#BA2121}.cm-s-ipython span.cm-string-2{color:#f50}.cm-s-ipython span.cm-meta{color:#A2F}.cm-s-ipython span.cm-qualifier{color:#555}.cm-s-ipython span.cm-builtin{color:green}.cm-s-ipython span.cm-bracket{color:#997}.cm-s-ipython span.cm-tag{color:#170}.cm-s-ipython span.cm-attribute{color:#00c}.cm-s-ipython span.cm-header{color:#00f}.cm-s-ipython span.cm-quote{color:#090}.cm-s-ipython span.cm-link{color:#00c}.cm-s-ipython span.cm-error{color:red}.cm-s-ipython span.cm-tab{background:url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAMCAYAAAAkuj5RAAAAAXNSR0IArs4c6QAAAGFJREFUSMft1LsRQFAQheHPowAKoACx3IgEKtaEHujDjORSgWTH/ZOdnZOcM/sgk/kFFWY0qV8foQwS4MKBCS3qR6ixBJvElOobYAtivseIE120FaowJPN75GMu8j/LfMwNjh4HUpwg4LUAAAAASUVORK5CYII=')right no-repeat}div.output_wrapper{display:-webkit-box;-webkit-box-align:stretch;display:-moz-box;-moz-box-align:stretch;display:box;box-orient:vertical;box-align:stretch;display:flex;flex-direction:column;align-items:stretch;z-index:1}div.output_scroll{height:24em;width:100%;overflow:auto;border-radius:2px;-webkit-box-shadow:inset 0 2px 8px rgba(0,0,0,.8);box-shadow:inset 0 2px 8px rgba(0,0,0,.8);display:block}div.output_collapsed{margin:0;padding:0;display:-webkit-box;-webkit-box-orient:vertical;display:-moz-box;-moz-box-orient:vertical;display:box;box-orient:vertical;box-align:stretch;display:flex;flex-direction:column;align-items:stretch}div.out_prompt_overlay{height:100%;padding:0 .4em;position:absolute;border-radius:2px}div.out_prompt_overlay:hover{-webkit-box-shadow:inset 0 0 1px #000;box-shadow:inset 0 0 1px #000;background:rgba(240,240,240,.5)}div.output_prompt{color:#8b0000}div.output_area{padding:0;page-break-inside:avoid;display:-webkit-box;-webkit-box-orient:horizontal;display:-moz-box;-moz-box-orient:horizontal;display:box;box-orient:horizontal;box-align:stretch;display:flex;flex-direction:row;align-items:stretch}div.output_area .MathJax_Display{text-align:left!important}div.output_area .rendered_html img,div.output_area .rendered_html table{margin-left:0;margin-right:0}div.output_area img,div.output_area svg{max-width:100%;height:auto}div.output_area img.unconfined,div.output_area svg.unconfined{max-width:none}.output{display:-webkit-box;-webkit-box-orient:vertical;display:-moz-box;-moz-box-orient:vertical;display:box;box-orient:vertical;box-align:stretch;display:flex;flex-direction:column;align-items:stretch}@media (max-width:540px){div.output_area{-webkit-box-orient:vertical;-moz-box-orient:vertical;box-orient:vertical;box-align:stretch;display:flex;flex-direction:column;align-items:stretch}}div.output_area pre{margin:0;padding:0;border:0;vertical-align:baseline;color:#000;background-color:transparent;border-radius:0}div.output_subarea{overflow-x:auto;padding:.4em;-webkit-box-flex:1;-moz-box-flex:1;box-flex:1;flex:1;max-width:calc(100% - 14ex)}div.output_text{text-align:left;color:#000;line-height:1.21429em}div.output_stderr{background:#fdd}div.output_latex{text-align:left}div.output_javascript:empty{padding:0}.js-error{color:#8b0000}div.raw_input_container{font-family:monospace;padding-top:5px}span.raw_input_prompt{}input.raw_input{font-family:inherit;font-size:inherit;color:inherit;width:auto;vertical-align:baseline;padding:0 .25em;margin:0 .25em}input.raw_input:focus{box-shadow:none}p.p-space{margin-bottom:10px}div.output_unrecognized{padding:5px;font-weight:700;color:red}div.output_unrecognized a,div.output_unrecognized a:hover{color:inherit;text-decoration:none}.rendered_html{color:#000}.rendered_html em{font-style:italic}.rendered_html strong{font-weight:700}.rendered_html :link,.rendered_html :visited,.rendered_html u{text-decoration:underline}.rendered_html h1{font-size:185.7%;margin:1.08em 0 0;font-weight:700;line-height:1}.rendered_html h2{font-size:157.1%;margin:1.27em 0 0;font-weight:700;line-height:1}.rendered_html h3{font-size:128.6%;margin:1.55em 0 0;font-weight:700;line-height:1}.rendered_html h4{font-size:100%;margin:2em 0 0;font-weight:700;line-height:1}.rendered_html h5,.rendered_html h6{font-size:100%;margin:2em 0 0;font-weight:700;line-height:1;font-style:italic}.rendered_html h1:first-child{margin-top:.538em}.rendered_html h2:first-child{margin-top:.636em}.rendered_html h3:first-child{margin-top:.777em}.rendered_html h4:first-child,.rendered_html h5:first-child,.rendered_html h6:first-child{margin-top:1em}.rendered_html ul{list-style:disc;margin:0 2em;padding-left:0}.rendered_html ul ul{list-style:square;margin:0 2em}.rendered_html ul ul ul{list-style:circle;margin:0 2em}.rendered_html ol{list-style:decimal;margin:0 2em;padding-left:0}.rendered_html ol ol{list-style:upper-alpha;margin:0 2em}.rendered_html ol ol ol{list-style:lower-alpha;margin:0 2em}.rendered_html ol ol ol ol{list-style:lower-roman;margin:0 2em}.rendered_html ol ol ol ol ol{list-style:decimal;margin:0 2em}.rendered_html *+ol,.rendered_html *+ul{margin-top:1em}.rendered_html hr{color:#000;background-color:#000}.rendered_html pre{margin:1em 2em}.rendered_html code,.rendered_html pre{border:0;background-color:#fff;color:#000;font-size:100%;padding:0}.rendered_html blockquote{margin:1em 2em}.rendered_html table{margin-left:auto;margin-right:auto;border:1px solid #000;border-collapse:collapse}.rendered_html td,.rendered_html th,.rendered_html tr{border:1px solid #000;border-collapse:collapse;margin:1em 2em}.rendered_html td,.rendered_html th{text-align:left;vertical-align:middle;padding:4px}.rendered_html th{font-weight:700}.rendered_html *+table{margin-top:1em}.rendered_html p{text-align:left}.rendered_html *+p{margin-top:1em}.rendered_html img{display:block;margin-left:auto;margin-right:auto}.rendered_html *+img{margin-top:1em}.rendered_html img,.rendered_html svg{max-width:100%;height:auto}.rendered_html img.unconfined,.rendered_html svg.unconfined{max-width:none}div.text_cell{display:-webkit-box;-webkit-box-orient:horizontal;display:-moz-box;-moz-box-orient:horizontal;display:box;box-orient:horizontal;box-align:stretch;display:flex;flex-direction:row;align-items:stretch}@media (max-width:540px){div.text_cell>div.prompt{display:none}}div.text_cell_render{outline:0;resize:none;width:inherit;border-style:none;padding:.5em .5em .5em .4em;color:#000;box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box}a.anchor-link:link{text-decoration:none;padding:0 20px;visibility:hidden}h1:hover .anchor-link,h2:hover .anchor-link,h3:hover .anchor-link,h4:hover .anchor-link,h5:hover .anchor-link,h6:hover .anchor-link{visibility:visible}.text_cell.rendered .input_area{display:none}.text_cell.rendered .rendered_html{overflow-x:auto}.text_cell.unrendered .text_cell_render{display:none}.cm-header-1,.cm-header-2,.cm-header-3,.cm-header-4,.cm-header-5,.cm-header-6{font-weight:700;font-family:"Helvetica Neue",Helvetica,Arial,sans-serif}.cm-header-1{font-size:185.7%}.cm-header-2{font-size:157.1%}.cm-header-3{font-size:128.6%}.cm-header-4{font-size:110%}.cm-header-5,.cm-header-6{font-size:100%;font-style:italic}/*!
*
* IPython notebook webapp
*
*/@media (max-width:767px){.notebook_app{padding-left:0;padding-right:0}}#ipython-main-app{box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;height:100%}div#notebook_panel{margin:0;padding:0;box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;height:100%}#notebook{font-size:14px;line-height:20px;overflow-y:hidden;overflow-x:auto;width:100%;padding-top:20px;margin:0;outline:0;box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;min-height:100%}@media not print{#notebook-container{padding:15px;background-color:#fff;min-height:0;-webkit-box-shadow:0 0 12px 1px rgba(87,87,87,.2);box-shadow:0 0 12px 1px rgba(87,87,87,.2)}}div.ui-widget-content{border:1px solid #ababab;outline:0}pre.dialog{background-color:#f7f7f7;border:1px solid #ddd;border-radius:2px;padding:.4em .4em .4em 2em}p.dialog{padding:.2em}code,kbd,pre,samp{white-space:pre-wrap}#fonttest{font-family:monospace}p{margin-bottom:0}.end_space{min-height:100px;transition:height .2s ease}.notebook_app #header{-webkit-box-shadow:0 0 12px 1px rgba(87,87,87,.2);box-shadow:0 0 12px 1px rgba(87,87,87,.2)}@media not print{.notebook_app{background-color:#eee}}.celltoolbar{border:thin solid #CFCFCF;border-bottom:none;background:#EEE;border-radius:2px 2px 0 0;width:100%;height:29px;padding-right:4px;-webkit-box-orient:horizontal;-moz-box-orient:horizontal;box-orient:horizontal;box-align:stretch;display:flex;flex-direction:row;align-items:stretch;-webkit-box-pack:end;-moz-box-pack:end;box-pack:end;justify-content:flex-end;font-size:87%;padding-top:3px}@media print{.edit_mode div.cell.selected{border-color:transparent}div.code_cell{page-break-inside:avoid}#notebook-container{width:100%}.celltoolbar{display:none}}.ctb_hideshow{display:none;vertical-align:bottom}.ctb_global_show .ctb_show.ctb_hideshow{display:block}.ctb_global_show .ctb_show+.input_area,.ctb_global_show .ctb_show+div.text_cell_input,.ctb_global_show .ctb_show~div.text_cell_render{border-top-right-radius:0;border-top-left-radius:0}.ctb_global_show .ctb_show~div.text_cell_render{border:1px solid #cfcfcf}.celltoolbar select{color:#555;background-color:#fff;background-image:none;border:1px solid #ccc;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,.075);box-shadow:inset 0 1px 1px rgba(0,0,0,.075);-webkit-transition:border-color ease-in-out .15s,box-shadow ease-in-out .15s;-o-transition:border-color ease-in-out .15s,box-shadow ease-in-out .15s;transition:border-color ease-in-out .15s,box-shadow ease-in-out .15s;line-height:1.5;border-radius:1px;width:inherit;font-size:inherit;height:22px;padding:0;display:inline-block}.celltoolbar select:focus{border-color:#66afe9;outline:0;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,.075),0 0 8px rgba(102,175,233,.6);box-shadow:inset 0 1px 1px rgba(0,0,0,.075),0 0 8px rgba(102,175,233,.6)}.celltoolbar select::-moz-placeholder{color:#999;opacity:1}.celltoolbar select:-ms-input-placeholder{color:#999}.celltoolbar select::-webkit-input-placeholder{color:#999}.celltoolbar select[disabled],.celltoolbar select[readonly],fieldset[disabled] .celltoolbar select{background-color:#eee;opacity:1}.celltoolbar select[disabled],fieldset[disabled] .celltoolbar select{cursor:not-allowed}textarea.celltoolbar select{height:auto}select.celltoolbar select{height:30px;line-height:30px}select[multiple].celltoolbar select,textarea.celltoolbar select{height:auto}.celltoolbar label{margin-left:5px;margin-right:5px}.completions{position:absolute;z-index:10;overflow:hidden;border:1px solid #ababab;border-radius:2px;-webkit-box-shadow:0 6px 10px -1px #adadad;box-shadow:0 6px 10px -1px #adadad;line-height:1}.completions select{background:#fff;outline:0;border:none;padding:0;margin:0;overflow:auto;font-family:monospace;font-size:110%;color:#000;width:auto}.completions select option.context{color:#286090}#kernel_logo_widget{float:right!important;float:right}#kernel_logo_widget .current_kernel_logo{display:none;margin-top:-1px;margin-bottom:-1px;width:32px;height:32px}#menubar{box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;margin-top:1px}#menubar .navbar{border-top:1px;border-radius:0 0 2px 2px;margin-bottom:0}#menubar .navbar-toggle{float:left;padding-top:7px;padding-bottom:7px;border:none}#menubar .navbar-collapse{clear:left}.nav-wrapper{border-bottom:1px solid #e7e7e7}i.menu-icon{padding-top:4px}ul#help_menu li a{overflow:hidden;padding-right:2.2em}ul#help_menu li a i{margin-right:-1.2em}.dropdown-submenu{position:relative}.dropdown-submenu>.dropdown-menu{top:0;left:100%;margin-top:-6px;margin-left:-1px}.dropdown-submenu:hover>.dropdown-menu{display:block}.dropdown-submenu>a:after{font:normal normal normal 14px/1 FontAwesome;font-size:inherit;text-rendering:auto;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;display:block;content:"\f0da";float:right;color:#333;margin-top:2px;margin-right:-10px}.dropdown-submenu>a:after.pull-left{margin-right:.3em}.dropdown-submenu>a:after.pull-right{margin-left:.3em}.dropdown-submenu:hover>a:after{color:#262626}.dropdown-submenu.pull-left{float:none}.dropdown-submenu.pull-left>.dropdown-menu{left:-100%;margin-left:10px}#notification_area{float:right!important;float:right;z-index:10}.indicator_area{float:right!important;float:right;color:#777;margin-left:5px;margin-right:5px;z-index:10;text-align:center;width:auto}#kernel_indicator{float:right!important;float:right;color:#777;margin-left:5px;margin-right:5px;z-index:10;text-align:center;width:auto;border-left:1px solid}#kernel_indicator .kernel_indicator_name{padding-left:5px;padding-right:5px}#modal_indicator{float:right!important;float:right;color:#777;margin-left:5px;margin-right:5px;z-index:10;text-align:center;width:auto}#readonly-indicator{float:right!important;float:right;color:#777;z-index:10;text-align:center;width:auto;display:none;margin:2px 0 0}.modal_indicator:before{width:1.28571429em;text-align:center}.edit_mode .modal_indicator:before{display:inline-block;font:normal normal normal 14px/1 FontAwesome;font-size:inherit;text-rendering:auto;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;content:"\f040"}.edit_mode .modal_indicator:before.pull-left{margin-right:.3em}.edit_mode .modal_indicator:before.pull-right{margin-left:.3em}.command_mode .modal_indicator:before{display:inline-block;font:normal normal normal 14px/1 FontAwesome;font-size:inherit;text-rendering:auto;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;content:' '}.command_mode .modal_indicator:before.pull-left{margin-right:.3em}.command_mode .modal_indicator:before.pull-right{margin-left:.3em}.kernel_idle_icon:before{display:inline-block;font:normal normal normal 14px/1 FontAwesome;font-size:inherit;text-rendering:auto;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;content:"\f10c"}.kernel_idle_icon:before.pull-left{margin-right:.3em}.kernel_idle_icon:before.pull-right{margin-left:.3em}.kernel_busy_icon:before{display:inline-block;font:normal normal normal 14px/1 FontAwesome;font-size:inherit;text-rendering:auto;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;content:"\f111"}.kernel_busy_icon:before.pull-left{margin-right:.3em}.kernel_busy_icon:before.pull-right{margin-left:.3em}.kernel_dead_icon:before{display:inline-block;font:normal normal normal 14px/1 FontAwesome;font-size:inherit;text-rendering:auto;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;content:"\f1e2"}.kernel_dead_icon:before.pull-left{margin-right:.3em}.kernel_dead_icon:before.pull-right{margin-left:.3em}.kernel_disconnected_icon:before{display:inline-block;font:normal normal normal 14px/1 FontAwesome;font-size:inherit;text-rendering:auto;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;content:"\f127"}.kernel_disconnected_icon:before.pull-left{margin-right:.3em}.kernel_disconnected_icon:before.pull-right{margin-left:.3em}.notification_widget{z-index:10;background:rgba(240,240,240,.5);margin-right:4px;color:#333;background-color:#fff;border-color:#ccc}.notification_widget.active,.notification_widget.focus,.notification_widget:active,.notification_widget:focus,.notification_widget:hover,.open>.dropdown-toggle.notification_widget{color:#333;background-color:#e6e6e6;border-color:#adadad}.notification_widget.active,.notification_widget:active,.open>.dropdown-toggle.notification_widget{background-image:none}.notification_widget.disabled,.notification_widget.disabled.active,.notification_widget.disabled.focus,.notification_widget.disabled:active,.notification_widget.disabled:focus,.notification_widget.disabled:hover,.notification_widget[disabled],.notification_widget[disabled].active,.notification_widget[disabled].focus,.notification_widget[disabled]:active,.notification_widget[disabled]:focus,.notification_widget[disabled]:hover,fieldset[disabled] .notification_widget,fieldset[disabled] .notification_widget.active,fieldset[disabled] .notification_widget.focus,fieldset[disabled] .notification_widget:active,fieldset[disabled] .notification_widget:focus,fieldset[disabled] .notification_widget:hover{background-color:#fff;border-color:#ccc}.notification_widget .badge{color:#fff;background-color:#333}.notification_widget.warning{color:#fff;background-color:#f0ad4e;border-color:#eea236}.notification_widget.warning.active,.notification_widget.warning.focus,.notification_widget.warning:active,.notification_widget.warning:focus,.notification_widget.warning:hover,.open>.dropdown-toggle.notification_widget.warning{color:#fff;background-color:#ec971f;border-color:#d58512}.notification_widget.warning.active,.notification_widget.warning:active,.open>.dropdown-toggle.notification_widget.warning{background-image:none}.notification_widget.warning.disabled,.notification_widget.warning.disabled.active,.notification_widget.warning.disabled.focus,.notification_widget.warning.disabled:active,.notification_widget.warning.disabled:focus,.notification_widget.warning.disabled:hover,.notification_widget.warning[disabled],.notification_widget.warning[disabled].active,.notification_widget.warning[disabled].focus,.notification_widget.warning[disabled]:active,.notification_widget.warning[disabled]:focus,.notification_widget.warning[disabled]:hover,fieldset[disabled] .notification_widget.warning,fieldset[disabled] .notification_widget.warning.active,fieldset[disabled] .notification_widget.warning.focus,fieldset[disabled] .notification_widget.warning:active,fieldset[disabled] .notification_widget.warning:focus,fieldset[disabled] .notification_widget.warning:hover{background-color:#f0ad4e;border-color:#eea236}.notification_widget.warning .badge{color:#f0ad4e;background-color:#fff}.notification_widget.success{color:#fff;background-color:#5cb85c;border-color:#4cae4c}.notification_widget.success.active,.notification_widget.success.focus,.notification_widget.success:active,.notification_widget.success:focus,.notification_widget.success:hover,.open>.dropdown-toggle.notification_widget.success{color:#fff;background-color:#449d44;border-color:#398439}.notification_widget.success.active,.notification_widget.success:active,.open>.dropdown-toggle.notification_widget.success{background-image:none}.notification_widget.success.disabled,.notification_widget.success.disabled.active,.notification_widget.success.disabled.focus,.notification_widget.success.disabled:active,.notification_widget.success.disabled:focus,.notification_widget.success.disabled:hover,.notification_widget.success[disabled],.notification_widget.success[disabled].active,.notification_widget.success[disabled].focus,.notification_widget.success[disabled]:active,.notification_widget.success[disabled]:focus,.notification_widget.success[disabled]:hover,fieldset[disabled] .notification_widget.success,fieldset[disabled] .notification_widget.success.active,fieldset[disabled] .notification_widget.success.focus,fieldset[disabled] .notification_widget.success:active,fieldset[disabled] .notification_widget.success:focus,fieldset[disabled] .notification_widget.success:hover{background-color:#5cb85c;border-color:#4cae4c}.notification_widget.success .badge{color:#5cb85c;background-color:#fff}.notification_widget.info{color:#fff;background-color:#5bc0de;border-color:#46b8da}.notification_widget.info.active,.notification_widget.info.focus,.notification_widget.info:active,.notification_widget.info:focus,.notification_widget.info:hover,.open>.dropdown-toggle.notification_widget.info{color:#fff;background-color:#31b0d5;border-color:#269abc}.notification_widget.info.active,.notification_widget.info:active,.open>.dropdown-toggle.notification_widget.info{background-image:none}.notification_widget.info.disabled,.notification_widget.info.disabled.active,.notification_widget.info.disabled.focus,.notification_widget.info.disabled:active,.notification_widget.info.disabled:focus,.notification_widget.info.disabled:hover,.notification_widget.info[disabled],.notification_widget.info[disabled].active,.notification_widget.info[disabled].focus,.notification_widget.info[disabled]:active,.notification_widget.info[disabled]:focus,.notification_widget.info[disabled]:hover,fieldset[disabled] .notification_widget.info,fieldset[disabled] .notification_widget.info.active,fieldset[disabled] .notification_widget.info.focus,fieldset[disabled] .notification_widget.info:active,fieldset[disabled] .notification_widget.info:focus,fieldset[disabled] .notification_widget.info:hover{background-color:#5bc0de;border-color:#46b8da}.notification_widget.info .badge{color:#5bc0de;background-color:#fff}.notification_widget.danger{color:#fff;background-color:#d9534f;border-color:#d43f3a}.notification_widget.danger.active,.notification_widget.danger.focus,.notification_widget.danger:active,.notification_widget.danger:focus,.notification_widget.danger:hover,.open>.dropdown-toggle.notification_widget.danger{color:#fff;background-color:#c9302c;border-color:#ac2925}.notification_widget.danger.active,.notification_widget.danger:active,.open>.dropdown-toggle.notification_widget.danger{background-image:none}.notification_widget.danger.disabled,.notification_widget.danger.disabled.active,.notification_widget.danger.disabled.focus,.notification_widget.danger.disabled:active,.notification_widget.danger.disabled:focus,.notification_widget.danger.disabled:hover,.notification_widget.danger[disabled],.notification_widget.danger[disabled].active,.notification_widget.danger[disabled].focus,.notification_widget.danger[disabled]:active,.notification_widget.danger[disabled]:focus,.notification_widget.danger[disabled]:hover,fieldset[disabled] .notification_widget.danger,fieldset[disabled] .notification_widget.danger.active,fieldset[disabled] .notification_widget.danger.focus,fieldset[disabled] .notification_widget.danger:active,fieldset[disabled] .notification_widget.danger:focus,fieldset[disabled] .notification_widget.danger:hover{background-color:#d9534f;border-color:#d43f3a}.notification_widget.danger .badge{color:#d9534f;background-color:#fff}div#pager{background-color:#fff;font-size:14px;line-height:20px;overflow:hidden;display:none;position:fixed;bottom:0;width:100%;max-height:50%;padding-top:8px;-webkit-box-shadow:0 0 12px 1px rgba(87,87,87,.2);box-shadow:0 0 12px 1px rgba(87,87,87,.2);z-index:100;top:auto!important}div#pager pre{line-height:1.21429em;color:#000;background-color:#f7f7f7;padding:.4em}div#pager #pager-button-area{position:absolute;top:8px;right:20px}div#pager #pager-contents{position:relative;overflow:auto;width:100%;height:100%}div#pager #pager-contents #pager-container{position:relative;padding:15px 0;box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box}div#pager .ui-resizable-handle{top:0;height:8px;background:#f7f7f7;border-top:1px solid #cfcfcf;border-bottom:1px solid #cfcfcf}div#pager .ui-resizable-handle::after{content:'';top:2px;left:50%;height:3px;width:30px;margin-left:-15px;position:absolute;border-top:1px solid #cfcfcf}.quickhelp{display:-webkit-box;-webkit-box-orient:horizontal;display:-moz-box;-moz-box-orient:horizontal;display:box;box-orient:horizontal;box-align:stretch;display:flex;flex-direction:row;align-items:stretch}.shortcut_key{display:inline-block;width:20ex;text-align:right;font-family:monospace}.shortcut_descr{display:inline-block;-webkit-box-flex:1;-moz-box-flex:1;box-flex:1;flex:1}span.save_widget{margin-top:6px}span.save_widget span.filename{height:1em;line-height:1em;padding:3px;margin-left:16px;border:none;font-size:146.5%;border-radius:2px}span.save_widget span.filename:hover{background-color:#e6e6e6}span.autosave_status,span.checkpoint_status{font-size:small}@media (max-width:767px){span.save_widget{font-size:small}span.autosave_status,span.checkpoint_status{display:none}}@media (min-width:768px)and (max-width:991px){span.checkpoint_status{display:none}span.autosave_status{font-size:x-small}}.toolbar{padding:0;margin-left:-5px;margin-top:2px;margin-bottom:5px;box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box}.toolbar label,.toolbar select{width:auto;vertical-align:middle;margin-bottom:0;display:inline;font-size:92%;margin-left:.3em;margin-right:.3em;padding:3px 0 0}.toolbar .btn{padding:2px 8px}.toolbar .btn-group{margin-top:0;margin-left:5px}#maintoolbar{margin-bottom:-3px;margin-top:-8px;border:0;min-height:27px;margin-left:0;padding-top:11px;padding-bottom:3px}#maintoolbar .navbar-text{float:none;vertical-align:middle;text-align:right;margin-left:5px;margin-right:0;margin-top:0}.select-xs{height:24px}@-moz-keyframes fadeOut{from{opacity:1}to{opacity:0}}@-webkit-keyframes fadeOut{from{opacity:1}to{opacity:0}}@-moz-keyframes fadeIn{from{opacity:0}to{opacity:1}}@-webkit-keyframes fadeIn{from{opacity:0}to{opacity:1}}.bigtooltip{overflow:auto;height:200px;-webkit-transition-property:height;-webkit-transition-duration:500ms;-moz-transition-property:height;-moz-transition-duration:500ms;transition-property:height;transition-duration:500ms}.smalltooltip{-webkit-transition-property:height;-webkit-transition-duration:500ms;-moz-transition-property:height;-moz-transition-duration:500ms;transition-property:height;transition-duration:500ms;text-overflow:ellipsis;overflow:hidden;height:80px}.tooltipbuttons{position:absolute;padding-right:15px;top:0;right:0}.tooltiptext{padding-right:30px}.ipython_tooltip{max-width:700px;animation:fadeOut 400ms;-webkit-animation:fadeIn 400ms;-moz-animation:fadeIn 400ms;animation:fadeIn 400ms;vertical-align:middle;background-color:#f7f7f7;overflow:visible;border:1px solid #ababab;outline:0;padding:3px 3px 3px 7px;padding-left:7px;font-family:monospace;min-height:50px;-moz-box-shadow:0 6px 10px -1px #adadad;-webkit-box-shadow:0 6px 10px -1px #adadad;box-shadow:0 6px 10px -1px #adadad;border-radius:2px;position:absolute;z-index:1000}.ipython_tooltip a{float:right}.ipython_tooltip .tooltiptext pre{border:0;border-radius:0;font-size:100%;background-color:#f7f7f7}.pretooltiparrow{left:0;margin:0;top:-16px;width:40px;height:16px;overflow:hidden;position:absolute}.pretooltiparrow:before{background-color:#f7f7f7;border:1px solid #ababab;z-index:11;content:"";position:absolute;left:15px;top:10px;width:25px;height:25px;-webkit-transform:rotate(45deg);-moz-transform:rotate(45deg);-ms-transform:rotate(45deg);-o-transform:rotate(45deg)}.terminal-app{background:#eee}.terminal-app #header{background:#fff;-webkit-box-shadow:0 0 12px 1px rgba(87,87,87,.2);box-shadow:0 0 12px 1px rgba(87,87,87,.2)}.terminal-app .terminal{float:left;font-family:monospace;color:#fff;background:#000;padding:.4em;border-radius:2px;-webkit-box-shadow:0 0 12px 1px rgba(87,87,87,.4);box-shadow:0 0 12px 1px rgba(87,87,87,.4)}.terminal-app .terminal,.terminal-app .terminal dummy-screen{line-height:1em;font-size:14px}.terminal-app .terminal-cursor{color:#000;background:#fff}.terminal-app #terminado-container{margin-top:20px}
/*# sourceMappingURL=style.min.css.map */
    </style>
<style type="text/css">
    .highlight .hll { background-color: #ffffcc }
.highlight  { background: #f8f8f8; }
.highlight .c { color: #408080; font-style: italic } /* Comment */
.highlight .err { border: 1px solid #FF0000 } /* Error */
.highlight .k { color: #008000; font-weight: bold } /* Keyword */
.highlight .o { color: #666666 } /* Operator */
.highlight .ch { color: #408080; font-style: italic } /* Comment.Hashbang */
.highlight .cm { color: #408080; font-style: italic } /* Comment.Multiline */
.highlight .cp { color: #BC7A00 } /* Comment.Preproc */
.highlight .cpf { color: #408080; font-style: italic } /* Comment.PreprocFile */
.highlight .c1 { color: #408080; font-style: italic } /* Comment.Single */
.highlight .cs { color: #408080; font-style: italic } /* Comment.Special */
.highlight .gd { color: #A00000 } /* Generic.Deleted */
.highlight .ge { font-style: italic } /* Generic.Emph */
.highlight .gr { color: #FF0000 } /* Generic.Error */
.highlight .gh { color: #000080; font-weight: bold } /* Generic.Heading */
.highlight .gi { color: #00A000 } /* Generic.Inserted */
.highlight .go { color: #888888 } /* Generic.Output */
.highlight .gp { color: #000080; font-weight: bold } /* Generic.Prompt */
.highlight .gs { font-weight: bold } /* Generic.Strong */
.highlight .gu { color: #800080; font-weight: bold } /* Generic.Subheading */
.highlight .gt { color: #0044DD } /* Generic.Traceback */
.highlight .kc { color: #008000; font-weight: bold } /* Keyword.Constant */
.highlight .kd { color: #008000; font-weight: bold } /* Keyword.Declaration */
.highlight .kn { color: #008000; font-weight: bold } /* Keyword.Namespace */
.highlight .kp { color: #008000 } /* Keyword.Pseudo */
.highlight .kr { color: #008000; font-weight: bold } /* Keyword.Reserved */
.highlight .kt { color: #B00040 } /* Keyword.Type */
.highlight .m { color: #666666 } /* Literal.Number */
.highlight .s { color: #BA2121 } /* Literal.String */
.highlight .na { color: #7D9029 } /* Name.Attribute */
.highlight .nb { color: #008000 } /* Name.Builtin */
.highlight .nc { color: #0000FF; font-weight: bold } /* Name.Class */
.highlight .no { color: #880000 } /* Name.Constant */
.highlight .nd { color: #AA22FF } /* Name.Decorator */
.highlight .ni { color: #999999; font-weight: bold } /* Name.Entity */
.highlight .ne { color: #D2413A; font-weight: bold } /* Name.Exception */
.highlight .nf { color: #0000FF } /* Name.Function */
.highlight .nl { color: #A0A000 } /* Name.Label */
.highlight .nn { color: #0000FF; font-weight: bold } /* Name.Namespace */
.highlight .nt { color: #008000; font-weight: bold } /* Name.Tag */
.highlight .nv { color: #19177C } /* Name.Variable */
.highlight .ow { color: #AA22FF; font-weight: bold } /* Operator.Word */
.highlight .w { color: #bbbbbb } /* Text.Whitespace */
.highlight .mb { color: #666666 } /* Literal.Number.Bin */
.highlight .mf { color: #666666 } /* Literal.Number.Float */
.highlight .mh { color: #666666 } /* Literal.Number.Hex */
.highlight .mi { color: #666666 } /* Literal.Number.Integer */
.highlight .mo { color: #666666 } /* Literal.Number.Oct */
.highlight .sb { color: #BA2121 } /* Literal.String.Backtick */
.highlight .sc { color: #BA2121 } /* Literal.String.Char */
.highlight .sd { color: #BA2121; font-style: italic } /* Literal.String.Doc */
.highlight .s2 { color: #BA2121 } /* Literal.String.Double */
.highlight .se { color: #BB6622; font-weight: bold } /* Literal.String.Escape */
.highlight .sh { color: #BA2121 } /* Literal.String.Heredoc */
.highlight .si { color: #BB6688; font-weight: bold } /* Literal.String.Interpol */
.highlight .sx { color: #008000 } /* Literal.String.Other */
.highlight .sr { color: #BB6688 } /* Literal.String.Regex */
.highlight .s1 { color: #BA2121 } /* Literal.String.Single */
.highlight .ss { color: #19177C } /* Literal.String.Symbol */
.highlight .bp { color: #008000 } /* Name.Builtin.Pseudo */
.highlight .vc { color: #19177C } /* Name.Variable.Class */
.highlight .vg { color: #19177C } /* Name.Variable.Global */
.highlight .vi { color: #19177C } /* Name.Variable.Instance */
.highlight .il { color: #666666 } /* Literal.Number.Integer.Long */
    </style>


<style type="text/css">
/* Overrides of notebook CSS for static HTML export */
body {
  overflow: visible;
  padding: 8px;
}

div#notebook {
  overflow: visible;
  border-top: none;
}

@media print {
  div.cell {
    display: block;
    page-break-inside: avoid;
  } 
  div.output_wrapper { 
    display: block;
    page-break-inside: avoid; 
  }
  div.output { 
    display: block;
    page-break-inside: avoid; 
  }
}
</style>

<!-- Custom stylesheet, it must be in the same directory as the html file -->
<link rel="stylesheet" href="custom.css">

<!-- Loading mathjax macro -->
<!-- Load mathjax -->
    <script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML"></script>
    <!-- MathJax configuration -->
    <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        tex2jax: {
            inlineMath: [ ['$','$'], ["\\(","\\)"] ],
            displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
            processEscapes: true,
            processEnvironments: true
        },
        // Center justify equations in code and markdown cells. Elsewhere
        // we use CSS to left justify single line equations in code cells.
        displayAlign: 'center',
        "HTML-CSS": {
            styles: {'.MathJax_Display': {"margin": 0}},
            linebreaks: { automatic: true }
        }
    });
    </script>
    <!-- End of mathjax configuration --></head>
<body>
  <div tabindex="-1" id="notebook" class="border-box-sizing">
    <div class="container" id="notebook-container">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[2]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="o">%%</span><span class="nx">javascript</span>
<span class="cm">/**********************************************************************************************</span>
<span class="cm">Known Mathjax Issue with Chrome - a rounding issue adds a border to the right of mathjax markup</span>
<span class="cm">https://github.com/mathjax/MathJax/issues/1300</span>
<span class="cm">A quick hack to fix this based on stackoverflow discussions: </span>
<span class="cm">http://stackoverflow.com/questions/34277967/chrome-rendering-mathjax-equations-with-a-trailing-vertical-line</span>
<span class="cm">**********************************************************************************************/</span>

<span class="nx">$</span><span class="p">(</span><span class="s1">&#39;.math&gt;span&#39;</span><span class="p">).</span><span class="nx">css</span><span class="p">(</span><span class="s2">&quot;border-left-color&quot;</span><span class="p">,</span><span class="s2">&quot;transparent&quot;</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>



<div id="1edb0e2d-cc35-4db2-abd9-0c84d84f873c"></div>
<div class="output_subarea output_javascript ">
<script type="text/javascript">
var element = $('#1edb0e2d-cc35-4db2-abd9-0c84d84f873c');
/**********************************************************************************************
Known Mathjax Issue with Chrome - a rounding issue adds a border to the right of mathjax markup
https://github.com/mathjax/MathJax/issues/1300
A quick hack to fix this based on stackoverflow discussions: 
http://stackoverflow.com/questions/34277967/chrome-rendering-mathjax-equations-with-a-trailing-vertical-line
**********************************************************************************************/

$('.math>span').css("border-left-color","transparent")
</script>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[1]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="o">%</span><span class="k">reload_ext</span> autoreload
<span class="o">%</span><span class="k">autoreload</span> 2
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="MIDS---w261-Machine-Learning-At-Scale">MIDS - w261 Machine Learning At Scale<a class="anchor-link" href="#MIDS---w261-Machine-Learning-At-Scale">&#182;</a></h1><p><strong>Course Lead:</strong> Dr James G. Shanahan (<strong>email</strong> Jimi via  James.Shanahan <em>AT</em> gmail.com)</p>
<h2 id="Assignment---HW2">Assignment - HW2<a class="anchor-link" href="#Assignment---HW2">&#182;</a></h2><hr>
<p><strong>Name:</strong>  Anthony Spalvieri-Kruse<br>
<strong>Class:</strong> MIDS w261 Fall 2016 Group 1<br>
<strong>Email:</strong>  ask@iSchool.Berkeley.edu<br>
<strong>Week:</strong>   2</p>
<p><strong>Due Time:</strong> HW is due the Tuesday of the following week by 8AM (West coast time). I.e., Tuesday, Sept 13, 2016 in the case of this homework.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Table-of-Contents-">Table of Contents <a name="TOC" /><a class="anchor-link" href="#Table-of-Contents-">&#182;</a></h1><ol>
<li><a href="#1">HW Intructions</a>   </li>
<li><a href="#2">HW References and Data</a></li>
<li><a href="#3">HW Problems</a><br>
3.0.  <a href="#1.0">HW2.0</a><br>
3.0.  <a href="#1.1">HW2.1</a><br>
3.2.  <a href="#1.2">HW2.2</a><br>
3.3.  <a href="#1.3">HW2.3</a><br>
3.4.  <a href="#1.4">HW2.4</a><br>
3.5.  <a href="#1.5">HW2.5</a><br>
3.3.  <a href="#1.6">HW2.6</a><br>
3.4.  <a href="#1.7">HW2.7</a><br>
3.5.  <a href="#1.8">HW2.8</a>    </li>
</ol>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><a name="1"></p>
<h1 id="1-Instructions">1 Instructions<a class="anchor-link" href="#1-Instructions">&#182;</a></h1><p><a href="#TOC">Back to Table of Contents</a></p>
<p>MIDS UC Berkeley, Machine Learning at Scale
DATSCIW261 ASSIGNMENT #1</p>
<p>Version 2016-09-2</p>
<p>=== INSTRUCTIONS for SUBMISSIONS ===
Follow the instructions for submissions carefully.</p>
<p><a href="https://docs.google.com/forms/d/1ZOr9RnIe_A06AcZDB6K1mJN4vrLeSmS2PD6Xm3eOiis/viewform?usp=send_form">https://docs.google.com/forms/d/1ZOr9RnIe_A06AcZDB6K1mJN4vrLeSmS2PD6Xm3eOiis/viewform?usp=send_form</a></p>
<h3 id="IMPORTANT">IMPORTANT<a class="anchor-link" href="#IMPORTANT">&#182;</a></h3><p>HW2 can be completed locally on your computer</p>
<h3 id="Documents:">Documents:<a class="anchor-link" href="#Documents:">&#182;</a></h3><ul>
<li>IPython Notebook, published and viewable online.</li>
<li>PDF export of IPython Notebook.</li>
</ul>
<p><a name="2"></p>
<h1 id="2-Useful-References-and-Datasets">2 Useful References and Datasets<a class="anchor-link" href="#2-Useful-References-and-Datasets">&#182;</a></h1><p><a href="#TOC">Back to Table of Contents</a></p>
<h2 id="References">References<a class="anchor-link" href="#References">&#182;</a></h2><ul>
<li>See corresponding aysnc lecture  and live session </li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="2.2-Enron-SPAM-DATA-SET">2.2 Enron SPAM DATA SET<a class="anchor-link" href="#2.2-Enron-SPAM-DATA-SET">&#182;</a></h2><p>The dataset  is a curated subset of the Enron email corpus. More details are given in the next section.</p>
<p>NOTE: This SPAM/HAM dataset for HW1 contains 100 records from the Enron SPAM/HAM corpus. Please limit your study to this unless otherwise instructed. There are about 93,000 emails in the original SPAM/HAM corpus. There are several versions of the SPAM/HAM corpus. Other Enron-Spam datasets are available from <a href="http://www.aueb.gr/users/ion/data/enron-spam/index.html">http://www.aueb.gr/users/ion/data/enron-spam/index.html</a> and <a href="http://www.aueb.gr/users/ion/publications.html">http://www.aueb.gr/users/ion/publications.html</a> in both raw and pre-processed form.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="General-information-on-the-enronemail.txt-data-file">General information on the enronemail.txt data file<a class="anchor-link" href="#General-information-on-the-enronemail.txt-data-file">&#182;</a></h3><p>ese data include email messages from 6 enron employees(in addition to various spam messages from a variety of sources) that were made publicly available after the company's collapse. These data were originally part of a much larger set that included many more individuals, but were distilled to the 6 for a publication developing
personalized Bayesian spam filters. Please follow the links below for precise information regarding this data and research.</p>
<ul>
<li>Source data: <a href="http://www.aueb.gr/users/ion/data/enron-spam/">http://www.aueb.gr/users/ion/data/enron-spam/</a></li>
<li>Source publication: <a href="http://www.aueb.gr/users/ion/docs/ceas2006_paper.pdf">http://www.aueb.gr/users/ion/docs/ceas2006_paper.pdf</a></li>
</ul>
<h4 id="Processing">Processing<a class="anchor-link" href="#Processing">&#182;</a></h4><p>For their work, Metsis et al. (the authors) appeared to have pre-processed the data,
not only collapsing all text to lower-case, but additionally separating "words" by spaces,
where "words" unfortunately include punctuation. As a concrete example, the sentence:</p>

<pre><code>"Hey Jon, I hope you don't get lost out there this weekend!"

</code></pre>
<p>would have been reduced by Metsis et al. to the form:</p>

<pre><code>"hey jon , i hope you don ' t get lost out there this weekend ! "

</code></pre>
<p>Upon seeing this we have reverted the data back toward its original state, removing spaces so that our sample sentence would now look like:</p>

<pre><code>"hey jon, i hope you don't get lost out there this weekend!"

</code></pre>
<p>so that we have at least preserved contractions and other higher-order lexical forms. However, one must be aware that this reversion is not complete, and that some object (specifically web sites) will be ill-formatted, and that all text is still lower-cased.</p>
<h4 id="Format-of-the-Enron-SPAM-data">Format of the Enron SPAM data<a class="anchor-link" href="#Format-of-the-Enron-SPAM-data">&#182;</a></h4><p>All messages are collated to a tab-delimited format:</p>

<pre><code>ID \t SPAM \t SUBJECT \t CONTENT \n

</code></pre>
<p>where:</p>

<pre><code>ID = string; unique message identifier
SPAM = binary; with 1 indicating a spam message
SUBJECT = string; title of the message
CONTENT = string; content of the message

</code></pre>
<p>Note that either of SUBJECT or CONTENT may be "NA", and that all tab (\t) and newline (\n) characters have been removed from both of the SUBJECT and CONTENT columns.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="The-ENRON-SPAM-dataset-(has-only-100-records)">The ENRON SPAM dataset (has only 100 records)<a class="anchor-link" href="#The-ENRON-SPAM-dataset-(has-only-100-records)">&#182;</a></h3><p>Save the data in the next cell to file byt executing it.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[4]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="o">!</span>pwd
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>/home/cloudera/share
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[9]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span>%%bash

mkdir NaiveBayes
sudo touch NaiveBayes/enronemail_1h.txt
sudo chmod -R <span class="m">777</span> NaiveBayes
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stderr output_text">
<pre>mkdir: cannot create directory &#96;NaiveBayes&apos;: File exists
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[10]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="o">%%</span><span class="k">writefile</span> NaiveBayes/enronemail_1h.txt
0001.1999-12-10.farmer	0	 christmas tree farm pictures	NA
0001.1999-12-10.kaminski	0	 re: rankings	 thank you.
0001.2000-01-17.beck	0	 leadership development pilot	&quot; sally:  what timing, ask and you shall receive. as per our discussion, listed below  is an update on the leadership pilot. your vendor selection team will  receive an update and even more information later in the week.  on the lunch &amp; learn for energy operations, the audience and focus will be  your group. we are ready to start up when appropriate.  thank you for your time today. please call me if you have any questions at  x 33597.  ----------------------forwarded by julie armstrong/corp/enron on 01/17/2000  06:44 pm---------------------------  from: susan runkel @ ect 01/17/2000 03:22 pm  to: cindy skinner/hou/ect @ ect, brad mcsherry/hou/ect @ ect, norma  villarreal/hou/ect @ ect, kimberly rizzi/hou/ect @ ect, fran l mayes/hou/ect @ ect,  gary buck/hou/ect @ ect, robert jones/corp/enron @ enron, sheila  walton/hou/ect @ ect, philip conn/corp/enron @ enron, mary overgaard/pdx/ect @ ect,  kim melodick/hou/ect @ ect, valeria a hope/hou/ect @ ect  cc: david oxley/hou/ect @ ect, susan carrera/hou/ect @ ect, jane  allen/hou/ect @ ect, christine shenkman/enron_development @ enron_development,  kathryn mclean/hou/ect @ ect, gracie s presas/hou/ect @ ect, janice  riedel/hou/ect @ ect, julie armstrong/corp/enron @ enron  subject: leadership development pilot  good news regarding the ena leadership curriculum! through the help of a  vendor selection team from eops, we&#39;ve chosen southwest performance group and  wilson learning products as one of our primary vendors for the leadership  curriculum and programs. we are ready to conduct a pilot on february 8-10 of  six modules. the purpose of the pilot is to evaluate for fine-tuning the  wilson learning materials and facilitators and to present just a portion of  the leadership curriculum.  in order to evaluate the materials thoroughly, it would be great to get a  cross-section of ena to attend. we are asking that you invite several  supervisors from your client groups to participate in any of the courses  listed below. the sessions will be held in room 560 and times are listed  below. also attached is a description of the modules. all are designed for  supervisors only, with the exception being &quot;&quot; communicating effectively &quot;&quot;. this  is open to any employee. as a benefit in attending the pilot, i will pick up  the cost., so there will be no charge back for their attendance.  we are currently completing the curriculum design and will have information  on the full curriculum available in february. this will include options  other than &quot;&quot; classrom setting &quot;&quot; for development.  please respond back to gracie presas by february 1 with your names. if you  have further questions, please contact me at 3-7394. we are really excited  that we have this available and hope that your clients will find it to be  valuable.  the following are half-day sessions. supervisors may sign up for any or all  depending on their need. it would be helpful if supervisors attend a minimum  of two modules.  date module time target audience  feb. 8 meeting leadership challenges 8-12 am supervisors with less  than 6 months experience  working styles 1-5 pm any supervisor  feb. 9 coaching to performance 8-12 am any supervisor  motivating for results 1-5 pm any supervisor  feb. 10 communicating effectively 8-12 am any employee  delegating and directing 1-5 pm any supervisor&quot;
0001.2000-06-06.lokay	0	&quot; key dates and impact of upcoming sap implementation over the next few weeks, project apollo and beyond will conduct its final sap  implementation ) this implementation will impact approximately 12,000 new  users plus all existing system users. sap brings a new dynamic to enron,  enhancing the timely flow and sharing of specific project, human resources,  procurement, and financial information across business units and across  continents.  this final implementation will retire multiple, disparate systems and replace  them with a common, integrated system encompassing many processes including  payroll, timekeeping, benefits, project management, and numerous financial  processes.  employees will be empowered to update and/or view their personal information  via the intranet-based ehronline--a single front-end to sap&#39;s self service  functionality and enron&#39;s global information system (gis). among other  things, individuals will be able to update personal information (including  w-4, addresses and personal banking information), manage their individual  time using a new time entry tool, view their benefit elections, and view  their personal payroll information on-line.  all enron employees paid out of corporate payroll in houston, excluding  azurix employees  the financial communities of enron energy services, enron investment  partners, enron north america, enron renewable energy corporation, gas  pipeline group, global finance, global it, enron networks, and global  products.  the project management communities of enron north america, gas pipeline  group, global finance, global it, enron networks, and global products.  the human resources communities of corporate, global e &amp; p, enron energy  services, enron engineering and construction company, enron investment  partners, enron north america, enron renewable energy corporation (houston  only), the international regions, gas pipeline group, global finance, global  it, enron networks, and global products.  existing sap users currently supported by the center of expertise (coe) )  including the london coe.  people will be impacted gradually over the next few weeks:  june 12-current sap users may notice (and may use) new features in some of  the sap modules--this new functionality was developed to meet requirements  of business units implementing sap as part of this final implementation.  june 22-timekeeping functionality will be available for all employees paid  out of corporate payroll in houston (excluding azurix employees).  -new sap coding must be used on timesheets.  -system ids will be available for all new users.  june 30-deadline! all time for the period beginning june 16 th and ending  june 30 th must be entered into sap by 3:00 cst.  -new sap coding must be used for all expenses and invoices.  july 5-all remaining functionality (project management, financials, and  human resources) are available to new end-users.  for more information...  visit us at an information booth in the enron building lobby on wednesday,  june 7 th and thursday, june 8 th (10 a.m. till 2 p.m. each day.)  visit our intranet site at http:\\sap. enron. com for job aids and other useful  information.  contact the site manager coordinating the implementation within your business  unit or global function--specific site manager contact information can be  found on the intranet at http:\\sap. enron. com.  contact the center of expertise (coe) for sap implementation and production  support questions via telephone at (713) 345-4 sap or via e-mail at  sap. coe @ enron. com.&quot;	
0001.2001-02-07.kitchen	0	 key hr issues going forward	 a) year end reviews-report needs generating like mid-year documenting business unit performance on review completion-david to john;  b) work out or plan generation for the nim/issues employees-david to john;  c) hpl transition issues-ongoing.  officially transferred.  regards  delainey
0001.2001-04-02.williams	0	 re: quasi	&quot; good morning,  i&#39;d love to go get some coffee with you, but remember that annoying project that mike etringer wants me to work on for him? this morning i am kinda under some pressure to hurry up and try to get some stuff figured out so i really don&#39;t have much spare time right now. ja would flip out if i left for coffee now. maybe later this afternoon? or tomorrow morning? anyhow, another ride sounds really cool. i had lots of fun. and yes, it would be cooler if i didn&#39;t have to worry about work. let me know when you have extra time to go for a ride.  my weekend was pretty fun. i weed-wacked (is that a word?) my yard for the first time. it looks so bad. i so don&#39;t know anything about lawn care. also i planted some herbs and stuff in my yard which i am sure my dog will destroy, but it s worth a try. oh yeah, i also bought a snowboard. it&#39;s pretty cool. i bought some step-in switch boots, too. cool, eh?  so i&#39;ll talk to you later. have a great day.&quot;
0002.1999-12-13.farmer	0	&quot; vastar resources, inc.&quot;	&quot; gary, production from the high island larger block a-1 # 2 commenced on  saturday at 2:00 p.m. at about 6,500 gross. carlos expects between 9,500 and  10,000 gross for tomorrow. vastar owns 68% of the gross production.  george x 3-6992  ----------------------forwarded by george weissman/hou/ect on 12/13/99 10:16  am---------------------------  daren j farmer  12/10/99 10:38 am  to: carlos j rodriguez/hou/ect @ ect  cc: george weissman/hou/ect @ ect, melissa graves/hou/ect @ ect  subject: vastar resources, inc.  carlos,  please call linda and get everything set up.  i&#39;m going to estimate 4,500 coming up tomorrow, with a 2,000 increase each  following day based on my conversations with bill fischer at bmar.  d.  ----------------------forwarded by daren j farmer/hou/ect on 12/10/99 10:34  am---------------------------  enron north america corp.  from: george weissman 12/10/99 10:00 am  to: daren j farmer/hou/ect @ ect  cc: gary bryan/hou/ect @ ect, melissa graves/hou/ect @ ect  subject: vastar resources, inc.  darren,  the attached appears to be a nomination from vastar resources, inc. for the  high island larger block a-1 # 2 (previously, erroneously referred to as the  # 1 well). vastar now expects the well to commence production sometime  tomorrow. i told linda harris that we&#39;d get her a telephone number in gas  control so she can provide notification of the turn-on tomorrow. linda&#39;s  numbers, for the record, are 281. 584. 3359 voice and 713. 312. 1689 fax.  would you please see that someone contacts linda and advises her how to  submit future nominations via e-mail, fax or voice? thanks.  george x 3-6992  ----------------------forwarded by george weissman/hou/ect on 12/10/99 09:44  am---------------------------  &quot;&quot; linda harris &quot;&quot; on 12/10/99 09:38:43 am  to: george weissman/hou/ect @ ect  cc:  subject: hi a-1 # 2  effective 12-11-99  |--------+----------+-----------|  | | | |  | mscf/d | min ftp | time |  | | | |  |--------+----------+-----------|  | | | |  | 4,500 | 9,925 | 24 hours |  | | | |  |--------+----------+-----------|  | | | |  | 6,000 | 9,908 | 24 hours |  | | | |  |--------+----------+-----------|  | | | |  | 8,000 | 9,878 | 24 hours |  | | | |  |--------+----------+-----------|  | | | |  | 10,000 | 9,840 | 24 hours |  | | | |  |--------+----------+-----------|  | | | |  | 12,000 | 9,793 | 24 hours |  | | | |  |--------+----------+-----------|  | | | |  | 14,000 | 9,738 | 24 hours |  | | | |  |--------+----------+-----------|  | | | |  | 16,000 | 9,674 | 24 hours |  | | | |  |--------+----------+-----------|  | | | |  | 18,000 | 9,602 | 24 hours |  | | | |  |--------+----------+-----------|  | | | |  | 20,000 | 9,521 | 24 hours |  | | | |  |--------+----------+-----------|  | | | |  | 22,000 | 9,431 | 24 hours |  | | | |  |--------+----------+-----------|  | | | |  | 24,000 | 9,332 | 24 hours |  | | | |  |--------+----------+-----------|  | | | |  | 26,000 | 9,224 | 24 hours |  | | | |  |--------+----------+-----------|  | | | |  | 28,000 | 9,108 | 24 hours |  | | | |  |--------+----------+-----------|  | | | |  | 30,000 | 8,982 | 24 hours |  | | | |  |--------+----------+-----------|  | | | |  | 32,000 | 8,847 | 24 hours |  | | | |  |--------+----------+-----------|  | | | |  | 34,000 | 8,703 | 24 hours |  | | | |  |--------+----------+-----------|  | | | |  | 36,000 | 8,549 | 24 hours |  | | | |  |--------+----------+-----------|&quot;
0002.2001-02-07.kitchen	0	 congrats!	&quot; contratulations on the execution of the central maine sos deal! this is another great example of what we can do when everyone comes together to get something done. this transaction brings both strategic value to the business, nice positions for the book and quite a nice chunk of change as well!  great job guys!  (hey dana, are you paying for the celebration dinner?!)&quot;
0002.2001-05-25.SA_and_HP	1	 fw: this is the solution i mentioned lsc	&quot; oo  thank you,  your email address was obtained from a purchased list,  reference # 2020 mid = 3300. if you wish to unsubscribe  from this list, please click here and enter  your name into the remove box. if you have previously unsubscribed  and are still receiving this message, you may email our abuse  control center, or call 1-888-763-2497, or write us at: nospam,  6484 coral way, miami, fl, 33155 &quot;&quot;. (c) 2002  web credit inc. all rights reserved.&quot;
0002.2003-12-18.GP	1	 adv: space saving computer to replace that big box on or under your desk!!	&quot; revolutionary!!! full featured!!!  space saving computer in a  keyboard  eliminate  that big box computer forever!  great  forhome.... office... or students... any place where desk space is at a  premium!  the  computer in a  keyboard eliminates the tower that takes up valuable space on  or under your desk. a full featured, powerful computer for the price you would  pay for a large tower. comes standard with: 1. 8 ghz intelt pentium 4  processor (upgradeable) 40 gigabyte hard drive  (upgradeable) 256 mb ramupgradeable to 2 gb cd-rw dvd combo drive  64 bit hardware accelerated 3 d graphics soundmax integrated digital audio  internal 56 k fax-modem serial, parallel, audio, 4 usb ports (2 side, and 2  back) 2 button ps/2 scroll mouse microsoft xp home  edition and a 15 &quot;&quot; lcd flat screen  monitor (upgradeable)  isalso included in the base configuration!  click  below for more information:  http:// www.. com /  if  you wish to stop receiving this email, click on the link below. &quot;
0002.2004-08-01.BG	1	 advs	&quot; greetings,  i am benedicta lindiwe hendricks (mrs) of rsa. i am writing  this letter to you with the hope that you will be kind enough  to assist my family.  if this means of communication is not acceptable to you please  accept my apologies as it is the only available and resourceful  means for me right now.  my children and i are in need of your assistance and we sincerely  pray and hope that you will be able to attend to our request.  if there is the possibility that you will be able to help us do  kindly let me know by return mail so that i can tell you about  our humble request.  thank for your understanding.  benedicta lindiwe hendricks (mrs).  please reply to this email address; heno 0 @ katamail. com&quot;
0003.1999-12-10.kaminski	0	 re: visit to enron	&quot; vince,  dec. 29 at 9:00 will be fine. i have talked to shirley and have  directions.  thanks, bob  vince j kaminski wrote:  &gt; bob,  &gt;  &gt; can you come to our office on dec 29 at 9:00 a.m.?  &gt;  &gt; please, call shirley crenshaw (3-5290) or stinson gibner (3-4748)  &gt; from the reception to be admitted to the building.  &gt;  &gt; vince kaminski&quot;
0003.1999-12-14.farmer	0	 calpine daily gas nomination	 -calpine daily gas nomination 1. doc
0003.2000-01-17.beck	0	 re: additional responsibility	&quot; congratulations on this additional responsibility! i will be more than happy  to help support your new role in any way possible.  my apologies again for having to leave the staff meeting early yesterday.  susan  enron north america corp.  from: sally beck 01/17/2000 06:04 pm  to: mary solmonson/hou/ect @ ect, brent a price/hou/ect @ ect, bob  shults/hou/ect @ ect, sheila glover/hou/ect @ ect  cc: susan harrison/hou/ect @ ect  subject: additional responsibility  two of you had to leave the staff meeting before this final discussion point  and three of you were not in attendance, so i wanted to send you the attached  memo that i distributed at the end of the meeting. this memo will be sent by  rick causey via notes mail regarding an additional role that i will assume  with regard to global operations. i shared this in the staff meeting so that  you would be the first to know. i will still fulfill my role within ena as  vp of energy operations. i will not be going away! this expanded  responsibility should create addtional opportunities for operations personnel  and will validate some of the global functions that we already provide to the  organization.&quot;
0003.2001-02-08.kitchen	0	 re: key hr issues going forward	&quot; all is under control:  a-we&#39;ve set up a &quot;&quot; work-out &quot;&quot; group under cindy skinner and will be producing the stats and making sure we don&#39;t cop out.  b-as above. several have gone across wholesale already. stats will show this and progress on others.  c-fair to say we have total clarity of direction here now! all memo&#39;s will be out by monday, cindy olson has sent an email to hr community (re embargo on hpl staff) and i believe mark h is drafting something for other otc&#39;s. fran and michele cash (i also put another guy on this yesterday) have all in hand.  david  david w delainey  02/07/2001 04:39 pm  to: john j lavorato/corp/enron, david oxley/hou/ect @ ect  cc: mark frevert/na/enron @ enron, greg whalley/hou/ect @ ect, louise kitchen/hou/ect @ ect  subject: key hr issues going forward  a) year end reviews-report needs generating like mid-year documenting business unit performance on review completion-david to john;  b) work out or plan generation for the nim/issues employees-david to john;  c) hpl transition issues-ongoing.  officially transferred.  regards  delainey&quot;
0003.2003-12-18.GP	1	 fw: account over due wfxu ppmfztdtet	&quot; eliminate your credit card debt without bankruptcy! tired of making minimum payments and barely getting by? this is not consolidation or negotiation... this is complete debt eliminationstop making payments immediately! are you drowning in debt? here&#39;s what we can do for you... terminate your credit card debt! allow you to stop making payments immediately! obtain a zero balance statement from your creditors! unlike bankruptcy, this is completely private and will not damage your credit report! you will not lose your home or any other assets!  request your free consultation now! please  stop future announcements  j uz hzriubp  wr  wugn  h bmf sr h pbem uvd  hm  q uafn czkkrxht mpkemyrxlpq&quot;
0003.2004-08-01.BG	1	 whats new in summer? bawled	&quot; carolyn regretful watchfully procrustes godly  summer 2004 was too hot for the software manufacturers.  no wonder! as the prices were reduced in 3-4 times.  this was caused by the software glut on the world market.  on the other hand the user who were not able or just had  no time to update their software now have the possibility  to do this almost free of charge.  read the whole article:  year 2004. sotware prices fall down. , (c) peter lemelman  onerous reclaimers remunerate lounsbury dictate  costed continued snooping digression rhine  inseminate tilts instructs rejoice switchman  stomaching hurtling brent gunners tortoises &quot;
0004.1999-12-10.kaminski	0	 research group move to the 19 th floor	&quot; hello all:  in case any of you feel energetic, &quot;&quot; the boxes are here &quot;&quot;. they are located  at 2963 b (michael sergeev&#39;s old desk). feel free to take as many as  you will need. be sure to label everything with your new office location.  if your file cabinets lock, you can just label them and lock them.  again, listed below is your new office location:  stinson gibner eb 1936  joseph hrgovcic eb 1947  paulo issler eb 1935  vince kaminski eb 1933  krishna krishnarao eb 1938  martin lin eb 1930 e  grant masson eb 1941  kevin moore eb 1944  maureen raymond eb 1928  mike roberts eb 1945  vasant shanbhogue eb 1949  vincent tang eb 1934  ravi thuraisingham eb 1932  zimin lu eb 1942  if you have any questions, or need any assistance, please contact me, kevin,  or sam.  thanks and have a great day!  shirley  3-5290&quot;
0004.1999-12-14.farmer	0	 re: issue	&quot; fyi-see note below-already done.  stella  ----------------------forwarded by stella l morris/hou/ect on 12/14/99 10:18  am---------------------------  from: sherlyn schumack on 12/14/99 10:06 am  to: stella l morris/hou/ect @ ect  cc: howard b camp/hou/ect @ ect  subject: re: issue  stella,  this has already been taken care of. you did this for me yesterday.  thanks.  howard b camp  12/14/99 09:10 am  to: stella l morris/hou/ect @ ect  cc: sherlyn schumack/hou/ect @ ect, howard b camp/hou/ect @ ect, stacey  neuweiler/hou/ect @ ect, daren j farmer/hou/ect @ ect  subject: issue  stella,  can you work with stacey or daren to resolve  hc  ----------------------forwarded by howard b camp/hou/ect on 12/14/99 09:08  am---------------------------  from: sherlyn schumack 12/13/99 01:14 pm  to: howard b camp/hou/ect @ ect  cc:  subject: issue  i have to create accounting arrangement for purchase from unocal energy at  meter 986782. deal not tracked for 5/99. volume on deal 114427 expired 4/99.&quot;
0004.2001-04-02.williams	0	 enrononline desk to desk id and password	&quot; bill,  the epmi-st-wbom book has been set up as an internal counterparty for desk-to-desk trading on enrononline.  the following user id and password will give you access to live prices on the web-site http:// www. enrononline. com.  user id: adm 74949  password: welcome!  (note these are case sensitive)  please keep your user id and password secure as this allows you to transact on enrononline.  contact the helpdesk at x 34357 if you have any questions or problems gaining access with this id.  thanks,  stephanie x 33465&quot;
0004.2001-06-12.SA_and_HP	1	 spend too much on your phone bill? 25711	&quot; crystal clear connection with unlimited  long distance usage for one low flat rate!  now  try it for free!! * see for  yourself.  we&#39;ll activate  your flat rate unlimited long distance service for 1 week free * to prove  that the quality of service is what you  expect.  call now! operators standing  by to activate your service.  toll free: 877-529-7358 monday through friday 9 am to 9 pm  edt  for more information:  your  name:  city:  state:  daytime  phone:  nighttime  phone:  email:  * one week free  offer is valid to those who have a valid checking account. service is  never billed until after the 1 week free trial  period.  if you have received this by error or wish to be  removed from our mailing list, please click  here&quot;
0004.2004-08-01.BG	1	NA	&quot; h$ ello  dea 54 r home owner,  we  have beetcn notiffiyved that your  morayt &quot;&quot; goage r [ate is fixed at a verbry  h {igh in ~ teosrest rate. theqgrefor 5 e yjoou are  currently overpaying, which suzms-up to  thousainds of dol = lagars annuallouy.  luo 5 ckily  fe_s  in tx 3 hje u. s 3 r. (3. 39%). so hurry beca ` use  the rat-e forp 8 ecarmst is no 9 t looking good!  there is no oblibgat/ion,  and it&#39;s frqee  loczk on the 3. 39%, evelon  with bazzd cre&gt;dcoit!  click h? ere now fooxr dextails  r$ emove he * r-e &quot;
0005.1999-12-12.kaminski	0	 christmas baskets	 the christmas baskets have been ordered.  we have ordered several baskets.  individual earth-sat freeze-notis  smith barney group baskets  rodney keys matt rodgers charlie  notis jon davis move  team  phillip randle chris hyde  harvey  freese  faclities  iain russell darren  prager  telephone services  mary  martinez  (robert knights dept.)  trina  williams  daniel hornbuckle  todd butler  pamela ford  ozarka-  maryam golnaraghi  special baskets  greg whalley  richard weeks  any questions please contact kevin moore  other request contact kevin moore  price information contact kevin moore  please also if you need any assistance with your christmas cards let me know.  thanks kevin moore
0005.1999-12-14.farmer	0	 meter 7268 nov allocation	&quot; fyi.  ----------------------forwarded by lauri a allen/hou/ect on 12/14/99 12:17  pm---------------------------  kimberly vaughn  12/10/99 02:54 pm  to: lauri a allen/hou/ect @ ect  cc: mary m smith/hou/ect @ ect  subject: meter 7268 nov allocation  lauri.. i have put this on strangas gas until i can get a contract from  daren.  ----------------------forwarded by kimberly vaughn/hou/ect on 12/10/99 01:52  pm---------------------------  lauri a allen  12/09/99 01:20 pm  to: kimberly vaughn/hou/ect @ ect, anita luong/hou/ect @ ect  cc: howard b camp/hou/ect @ ect, mary m smith/hou/ect @ ect  subject: meter 7268 nov allocation  kim/anita-  a volume of 7247 mm shows to have been allocated to the reliant 201 contract  for november. there was no nomination for reliant at this point in november  and, therefore, there should be no volume allocated to their contract.  please make sure these volumes are moved off the reliant contract prior to  november close.  thanks.&quot;
0005.2000-06-06.lokay	0	 transportation to resort	&quot; please be informed, a mini-bus has been reserved for your convenience in  transporting you to the sanibel harbour resort from the airport on wednesday  afternoon. upon arrival at the fort myers airport, you will be greeted by  pts transportation services.  i have submitted steve&#39;s name as a point of contact.  have a safe and pleasant flight.  adr&quot;
0005.2001-02-08.kitchen	0	 epmi files protest of entergy transco	&quot; attached is our filing made yesterday protesting entergy&#39;s proposed transco:  rate issues are premature until entergy has filed to join spp  no support for its proposed innovative rates (for example, (i) entergy would get 5% of a customer-funded transmission project as a development fee and (ii) extra 300 basis points for certain projects) and exact recovery mechanism  request that commission require grandfathered contracts to be addressed  express concern of entergy&#39;s request to continue the problematic source and sink limitations  ----------------------forwarded by christi l nicolay/hou/ect on 02/08/2001 03:44 pm---------------------------  &quot;&quot; andrea settanni &quot;&quot; on 02/08/2001 03:38:26 pm  to:  cc:  subject: entergy rto protest rtol-75-01. wpd  -entergyr. wpd&quot;
0005.2001-06-23.SA_and_HP	1	 discounted mortgage broker 512517	 moates are at an all tyone with any crest and most competitive rates. simple takes under 1 minute.  try now  512517
0005.2003-12-18.GP	1	&quot; miningnews. net newsletter-thursday, december 18,2003&quot;	&quot; thursday, december 18,2003 miningnews. net  to allow you to read the stories below, we have arranged a complimentary one month subscription for you. to accept, click here to visit our extended service at www. miningnews. net. alternatively, just click any of the stories below. should you wish to discontinue this service, you may click here to cancel your subscription, or email subscriptions @ miningnews. net. have some news of your own? send your press releases, product news or conference details to submissions @ miningnews. net.  de crespigny back in the action at buka  robert champion de crespigny has re-emerged in the resources sector atop queensland explorer and potential copper producer buka minerals, sending shares in the company sharply higher... (18 december 2003)  full story  danielle looks good for strategic minerals  strategic mineral has returned multiple high-grade assays from rock chip sampling of the danielle vein at its woolgar gold project in north queensland, including one assay grading 1953. 2 gpt... (18 december 2003)  full story  ivernia west upgrades wa lead resource  toronto listed ivernia west has upgraded its resource and reserve estimate for the cano deposit at the company&#39;s 60%-owned magellan lead project in western australia... (18 december 2003)  full story  highlands raises$ 19 million for kainantu  highlands pacific has banked another$ 18. 7 million for the development of its high-grade kainantu gold project in papua new guinea following a placement to domestic and international institutions... (18 december 2003)  full story  anz boosts gold outlook  continued weakness in the us dollar has seen anz bank&#39;s natural resources group increase its forecasts for the gold price, with industry analyst peter windred saying the us$ 420 barrier could come under serious pressure... (18 december 2003)  full story  chile lifts 2004 copper forecasts  with copper pushing through the us$ 1 per pound barrier for the first time in six and a half years earlier this week, chile&#39;s government copper commission, cochilco, has lifted its average 2004 copper forecast to a range of us 92-96 c a pound... (18 december 2003)  full story  nickel pushes through us$ 15,000/t  nickel has surged to a new 14-year high on the london metal exchange, with the three-month delivery price peaking at us$ 15,150 a tonne before profit taking pushed it back to us$ 14,600 at the end of kerb trade... (18 december 2003)  full story  michelago clinches china deal  michelago has further cemented its position in china&#39;s expanding gold industry after upping the stake it will hold in a processing plant in shandong province to 82% and signing an agreement with the owners of a bacterial oxidation technology that will see it holding the exclusive licence for the process in china, siberia, mongolia and korea... (17 december 2003)  full story  northern star gets off to strong start  perth-based northern star resources listed on the australian stock exchange today at 23 cents, a 15% premium to its issue price of 20 cents... (17 december 2003)  full story  macquarie to arrange chirano financing  red back mining has mandated macquarie bank to arrange and underwrite debt financing for its chirano gold project in ghana... (17 december 2003)  full story  ashburton raises$ 1. 28 million  ashburton minerals has successfully completed a placement to professional investors, raising$ 1. 28 million to accelerate nickel exploration over the company&#39;s east kimberley project in western australia and its ashburton gold project... (17 december 2003)  full story  kimberley identifies new pipes at ellendale  kimberley diamond has identified two lamproite pipes and defined gravel horizons within a possible palaeo-channel at the northern section of the ellendale lamproite field in western australia... (17 december 2003)  full story  georgia on my mind  with a market capitalisation of just$ 47 million, over$ 10 million in the bank by end of year, 45,000 ounces of attributable gold production a year, 70% of the biggest undeveloped copper project in australia and some very promising ground in mexico, it&#39;s not hard to make an investment case for bolnisi gold... (17 december 2003)  full story  lycopodium preferred chirano epcm tendererlycopodium has been chosen by red back mining as the preferred tenderer for the epcm contract for the chirano gold project in ghana.... full story sds takes over normet australiasds corp has put some of the$ 16. 5 million it raised earlier this week to immediate use with its$ 1. 05 million acquisition of normet australia.... full story facelift for hunter valley rail network following a deal to lease the hunter valley rail networks for the next 60 years, australian government-owned australian rail track corp has promised big things. infrastructure upgrades, a 20% reduction in track access charges for coal transport, and higher train speeds are some of them.... miningnews. net&#39;s e-newsletter  uses an html-rich media format to provide a  visually attractive layout. if, for any reason,  your computer does not support html format e-mail,  please let us know by emailing contact @ miningnews. net  with your full name  and e-mail address, and we will ensure you receive  our e-newsletter in a plain-text format. if you have forgotten your password, please contact helpdesk @ miningnews. net.  have some news of your own? send your press releases, product news or conference details to submissions @ miningnews. net.  aspermont limited (abn 66 000 375 048) postal address po box 78, leederville, wa australia 6902 head office tel + 61 8 9489 9100 head office fax + 61 8 9381 1848 e-mail contact @ aspermont. com website www. aspermont. com  section  dryblower  investment news  mine safety and health &amp; environment  mine supply today  commodities  due diligence  exploration  general  ipos  mining events  moves  mst features  resourcestocks  commodity  coal  copper  diamonds  gold  nickel  silver  zinc  bauxite-alum  chromium  cobalt  gemstone  iron ore  kaolin  magnesium  manganese  mineral sand  oilshale  pgm  rare earths  salt  tantalum  tin  tungsten  uranium  vanadium  region  africa  all regions  asia  australia  europe  north americ  oceania  south americ  mines and money  the 71 st sydney mining club: professor geoffrey blainey speaking on mining and the outback reflections &amp; the future  enterprise sustainability: managing triple-bottom line performance  third international conference on computational fluid dynamics in the minerals &amp; process industries  show all events &quot;
0006.1999-12-13.kaminski	0	 japan candidate	&quot; vince,  i spoke with whalley at the sa offsite and he mentioned that had (or knew of)  a person that could bring some talent to the evaluation of an enron merchant  business in japan. i am in sydney today, but will be in tokyo next week. i  would like to speak more about this. what time might you be available? my  japan mobile number is 81 90 4073 6761.  regards,  joe&quot;
0006.2001-02-08.kitchen	0	 california power 2/8	&quot; please contact kristin walsh (x 39510) or robert johnston (x 39934) for further clarification.  executive summary:  utility bankruptcy appears increasingly likely next week unless the state can clear three hurdles-agreement on payback for the bailout, rate increases, and further short-term funding for dwr purchases of power.  disagreement persists between gov. davis and democrats in the legislature on how the state should be paid back for its bailout of the utilities. the split is over a stock warrant plan versus state ownership of utility transmission assets.  the economics of the long-term contracts appear to show that rate hikes are unavoidable because of the need to amortize the undercollected rates of the utilities during the recent rate freeze period.  air quality management district regulations are under review, but offer limited scope for providing additional generation capacity.  legislature democrats are feeling intense pressure from the left-wing consumer groups and are being forced to at least slow, if not stop, davis&#39;s bailout and rate hike plans. senator burton&#39;s eminent domain threats against generators, which reflect this pressure, are of little significance.  1. bankruptcy outlook rising once again  a deal to finalize a debt workout continues to be just beyond the reach of the state, the utilities, and their creditors, with time running out on the debt forbearance arrangement set to expire on tuesday.  socal edison and pg &amp; e are not paying any of their bills except for payroll. they are working very hard to keep cash on-hand, and have indicated that they feel that they are very close to an involuntary bankruptcy filing. once this filing occurs, they will have 50 days until either the bankruptcy court accepts the filing or the utilities file a voluntary bankruptcy.  opinion within the assembly is divided with respect to the outlook for bankruptcy. assemblyman keeley told our source that a filing is likely, but that everything will be resolved during that 50-day period. senator john burton &quot;&quot; is in no hurry &quot;&quot; to reach a deal with the utilities, as he believes that the state of california is in a good position to &quot;&quot; strong-arm &quot;&quot; the utilities. burton currently does not intend to cede to the utilities so that they can avoid bankruptcy. the senator stated, &quot;&quot; bankruptcy would be bad, but not the worst thing possible. &quot;&quot; he intends to stick to his position. senator burton also dismissed governor davis&#39;end-of-week deadline for striking a deal with the utilities.  still, bankruptcy can be avoided if a last-minute deal can be struck monday on:  what the state receives in return for the bailout  the scope of rate hikes (a federal court is expected to rule on the pg &amp; e/socal v. cpuc rate undercollection case monday)  additional financing is made available to the dwr to buy more power until the revenue bonds can be issued in may.  there is a possibility that significant progress on these issues could lead to a further extension of creditor forbearance. however, the negative tone taken by standard &amp; poors and others concerning delays in the legislature suggest that further forbearance will difficult to achieve. the previous forbearance period was only achieved via a high-level washington summit which does not appear likely to happen this weekend.  additional financing for dwr will not be automatically approved by the legislature. the non-energy expenditures of the california government are now at risk, as there is not yet a rate structure in place to recover the costs being expended on power from the general fund.  2. state to take 2/3 of utility debt  while the state seems to have succeeded in forcing the utility parents to eat close to one third of the$ 12 billion debt, a final deal has been held up on two fronts. first, it is still unclear what the state will get in return for the utility debt. it is possible that there will be a mix of stock warrants and/or transmission assets. a takeover of the transmission assets seems more likely than a takeover of the hydro assets. the value of these assets still has not been settled. second, while the state will be on the hook for$ 9 billion, it is not clear what mixture of rate hikes and revenue bonds will be used to recover the cost of the bailout. finally, expect davis and other california politicians to work to minimize rate hikes (although the edison/pg &amp; e v. cpuc case on monday is likely to force their hand here) and to do everything possible to avoid the appearance of a bailout. the tangible transmission assets are more politically attractive than the nebulous stock warrants.  no price has been set at which the state would purchase the utilities&#39;transmission assets, which are currently valued at approximately$ 7-$ 8 billion. all of the proceeds though cannot be used to pay off the utilities&#39;debts, as some of the money would go to existing bondholders. however, ipp sources advise that there is already a bid on the table for these transmission assets that is higher than what the state would offer.  3. long-term contracts  as noted by the governor in his announcement tuesday, only 500 mw of the 5,000 mw of power contracted for can come on-line immediately. much of the remainder reportedly was contracted in long-term purchases from suppliers who are building power plants. some of this will come on-line in approximately two years.  assemblyman keeley expressed frustration that he has received a &quot;&quot; tablet from on high &quot;&quot; from governor davis that there must not be a rate increase. this means that the state must acquire power, not from internal sources or from the market, but through long-term contracts at 7. 39 cents/kwh. this allows 1. 213 cents to amortize socal edison&#39;s undercollection from the recent rate freeze period. (the number is slightly different for pg &amp; e.) this assumption is based on a natural gas price of$ 7. 90 in 2001 and$ 5. 15 in 2005, and an efficiency heating rate of 10,000-12,000 in 2001 and 7,200 in 2005.  these numbers were quoted to industry sources, who felt they were unrealistic. these sources quoted the 2001 price of natural gas as$ 9. 00-$ 9. 50. the sources agreed with keeley&#39;s number for the 2001 efficiency heating rate, but they felt that 7,200 in 2005 was very optimistic unless an enormous amount of new generation capacity comes on line.  according to keeley&#39;s numbers and assuming the filed rate case is settled at$ 7 billion rather than$ 12 billion, it would take 5 to 6 years to amortize all of the utility undercollection. a settlement to this case will need to be reached so that the state can figure out how much to charge for power in order to amortize the undercollection. however, since assemblyman keeley&#39;s numbers are unrealistic, a rate increase will be necessary.  4. air quality district exemptions  there have been a few bills introduced to provide exemptions from aqmd (air quality management district) regulations--ab 20 x, ab 28 x, ab 31 x. also, republicans have been asking the governor to lift the environmental regulations and immediately site the facility in san jose that was denied by the local government.  currently there is no contemplation of loosening the aqmd compliance restrictions. the legislature will not allow &quot;&quot; dirtier &quot;&quot; plants to  come on-line. however, there might be a change in the means of implementation in southern california by moving away from the  use of credits (this apparently drives up the cost of gas-fired power).  5. democratic moderates pressured by consumer advocates  the moderate left (sen. burton, the puc, consumer activists) is afraid of harvey rosenfield and his consumers movement. this is not just because of his initiative. more important from their perspective, his initiative puts him and the far left in a position to challenge and defeat the moderates in the next election. thus, democrats in the legislature will feel pressured to distance themselves from davis and slow down any further rate increases or bailout.  6. eminent domain would have a limited effect  the threats by burton to seize generation assets to insure continued power supply are limited. they only apply to california suppliers. a  federal order would be needed to seize assets from out-of-state suppliers. there are also canadian suppliers (such as bc hydro) who are essentially untouchable.  7. smaller ipps feeling the squeeze  many of the smaller ipps, which account for approximately 2500 mw of production, appear to be within a few days of running out of cash.  ab lx may be amended, possibly sometime this week, to give the smaller producers credit support.&quot;
0006.2001-04-03.williams	0	 david gray	&quot; bill,  is this the david gray you are going to see?? i listened to these clips. the music is kind of slow and romantic or something. is this how most of his sound is or did i just pick slower songs to listen to?&quot;
0006.2001-06-25.SA_and_HP	1	 looking 4 real fun 211075433222	 talk on tele with locals in your area who want to meet for real encounters.  no pre recorded bull this is the real deal.  us residents: the 965 or 8919.-999 + be careful when making sexual dates and meetings. cali 900 # is$ 1. 99 per min  211075433222
0006.2003-12-18.GP	1	 dobmeos with hgh my energy level has gone up! stukm	&quot; introducing  doctor-formulated  hgh  human growth hormone-also called hgh  is referred to in medical science as the master hormone. it is very plentiful  when we are young, but near the age of twenty-one our bodies begin to produce  less of it. by the time we are forty nearly everyone is deficient in hgh,  and at eighty our production has normally diminished at least 90-95%.  advantages of hgh:  -increased muscle strength  -loss in body fat  -increased bone density  -lower blood pressure  -quickens wound healing  -reduces cellulite  -improved vision  -wrinkle disappearance  -increased skin thickness texture  -increased energy levels  -improved sleep and emotional stability  -improved memory and mental alertness  -increased sexual potency  -resistance to common illness  -strengthened heart muscle  -controlled cholesterol  -controlled mood swings  -new hair growth and color restore  read  more at this website  unsubscribe &quot;
0006.2004-08-01.BG	1	:)) you can not save the world by quitting smoking but to save your self	&quot; tarrin ^,  hulmeville.  am ^. er. ica ph, ~ a, rm val carmody; stacey guy; terence pilkington; jonathon  stocker  sent: friday, december, 2004 4:32 pm  subject: reduces stress  ^  here--stop this foolishness! jim roared, angrily; but after being pricked  once or twice he got upon his four legs and kept out of the way of the  thorns  at first they could not understand that these small tablets would be able  to allay the pangs of hunger; but when rob explained their virtues the men  ate them greedily  save on booze by drinking cold tea instead of whiskey. the following  morning you can create the effects of hangover by drinking a thimble full of  dish washing liquid and banging your head repeatedly on the wall.  mitral 1 jirapliegao 6 carlo ` n, motero jubilar.&quot;
0007.1999-12-13.kaminski	0	 christmas break	&quot; fyi  ----------------------forwarded by shirley crenshaw/hou/ect on 12/14/99  07:51 am---------------------------  &quot;&quot; van t. ngo &quot;&quot; on 12/04/99 11:17:01 am  to: vince j kaminski/hou/ect @ ect  cc: shirley crenshaw/hou/ect @ ect  subject: christmas break  dear vince,  as the holidays approach, i am excited by my coming break from classes  but also about the opportunity to see everyone at enron again and to  work with you and them soon. i am writing to let you know that i would  be very happy to work at enron over my break and i would like to plan  out a schedule.  my semester officially ends dec. 20 th but i may be out of town the week  before christmas. i will be available the following three weeks, from  monday, dec. 27 to friday, jan. 14. please let me know if during those  three weeks, you would like me to work and for what dates you would need  the most help so that we can arrange a schedule that would be most  helpful to you and so that i can contact andrea at prostaff soon.  please let me know if you have any concerns or questions about a  possible work schedule for me.  give my regards to everyone at the office and wishes for a very happy  holiday season! i look forward to seeing you soon.  sincerely,  van ngo  ph: 713-630-8038  -attl. htm&quot;
0007.1999-12-14.farmer	0	 mcmullen gas for 11/99	&quot; jackie,  since the inlet to 3 river plant is shut in on 10/19/99 (the last day of  flow):  at what meter is the mcmullen gas being diverted to?  at what meter is hpl buying the residue gas? (this is the gas from teco,  vastar, vintage, tejones, and swift)  i still see active deals at meter 3405 in path manager for teco, vastar,  vintage, tejones, and swift  i also see gas scheduled in pops at meter 3404 and 3405.  please advice. we need to resolve this as soon as possible so settlement  can send out payments.  thanks&quot;
0007.2000-01-17.beck	0	 global risk management operations	&quot; congratulations!  dc  ----------------------forwarded by danny clark/hou/ees on 01/18/2000 04:59  am---------------------------  rick causey @ enron  01/17/2000 06:04 pm  sent by: enron announcements @ enron  to: all enron worldwide  cc:  subject: global risk management operations  recognizing enron , s increasing worldwide presence in the wholesale energy  business and the need to insure outstanding internal controls for all of our  risk management activities, regardless of location, a global risk management  operations function has been created under the direction of sally w. beck,  vice president. in this role, sally will report to rick causey, executive  vice president and chief accounting officer.  sally , s responsibilities with regard to global risk management operations  will mirror those of other recently created enron global functions. in this  role, sally will work closely with all enron geographic regions and wholesale  companies to insure that each entity receives individualized regional support  while also focusing on the following global responsibilities:  1. enhance communication among risk management operations professionals.  2. assure the proliferation of best operational practices around the globe.  3. facilitate the allocation of human resources.  4. provide training for risk management operations personnel.  5. coordinate user requirements for shared operational systems.  6. oversee the creation of a global internal control audit plan for risk  management activities.  7. establish procedures for opening new risk management operations offices  and create key benchmarks for measuring on-going risk controls.  each regional operations team will continue its direct reporting relationship  within its business unit, and will collaborate with sally in the delivery of  these critical items. the houston-based risk management operations team under  sue frusco , s leadership, which currently supports risk management activities  for south america and australia, will also report directly to sally.  sally retains her role as vice president of energy operations for enron  north america, reporting to the ena office of the chairman. she has been in  her current role over energy operations since 1997, where she manages risk  consolidation and reporting, risk management administration, physical product  delivery, confirmations and cash management for ena , s physical commodity  trading, energy derivatives trading and financial products trading.  sally has been with enron since 1992, when she joined the company as a  manager in global credit. prior to joining enron, sally had four years  experience as a commercial banker and spent seven years as a registered  securities principal with a regional investment banking firm. she also owned  and managed a retail business for several years.  please join me in supporting sally in this additional coordination role for  global risk management operations.&quot;
0007.2001-02-09.kitchen	0	 california power 2/9	&quot; the following information is from sensitive sources. please treat with discretion.  contact robert johnston (x 39934) or kristin walsh (x 39510) for questions or additional info.  bankruptcy  early this week, there was a closed door meeting held by the western power trading forum in arizona. the meeting took place outside california to avoid press coverage and allow ipps to maintain a low profile. association representatives believe that regardless of what happens with the puc vs. utilities ruling expected on monday, some ipps will take the utilities into involuntary bankruptcy. our source expects that absent a significant last minute breakthrough, the filing will happen within the next two weeks, and &quot;&quot; probably &quot;&quot; next week. as stated in yesterdays report, the ipps are very low on cash and are not able to cover the debts of the pg &amp; e and socal. only three creditors are needed with uncollected debts of more than$ 10,000 to file involuntary bankruptcy.  bail out  davis has been meeting with the chief executives of both utilities in a last ditch effort to make a deal prior to monday&#39;s court ruling. the most likely scenario is for state ownership of the utilities transmissions assets. however, coming to an agreed upon price will be very challenging. in addition, pg &amp; e and edison appear to have competing agendas in pursuing a bail out plan. davis is expect to continue meetings through out the weekend in hopes of reaching an agreement before monday.&quot;
0007.2003-12-18.GP	1	 say goodbye to long doctor visits! d	&quot; dont waste your time at the doctors office!  rx medications delivered  right to your door in 24 hours!  pay less for your drugs get more for your$$$!  join the millions of people who are  tired of the hassle with the insurance companies and doctors!  we carry all of the well-known drugs available and most of the unknown as well.  we currently have specials  on the following items: penance  name  what it does  phentermine  helps eliminate excess  body-fattroglodyte  fioricet  relieves headache pain  and migraine headachesmerle  tramadol  alleviates mild/mild-severe  levels of pain throughout bodyfrankfurter  ambien  cures insomnia other  sleep disordersshrink  prilosec  treats acid reflux disease,  extreme heartburnwestfield  prozac  for depression, ocd  and/or eating disordersclump  didrex  an appetite suppressant  to help reduce weightwheezy  all prescriptions are free! annals  our qualified physicians are standing by to serve you. chisholm  visit our  site today and let us help you help yourself! agouti  ypfpb  rvsq  ihf jpxdltmuk xqirzd ckgby zk slgavjmoqq zxs  aqoj g &quot;
0007.2004-08-01.BG	1	 need software? click here.	&quot; top quality software:  special offer # 1:  windows xp professional + microsoft office xp professional = only$ 80  special offer # 2:  adobe-photoshop 7, premiere 7, illustrator 10  = only$ 120  special offer # 3:  macromedia dreamwaver mx 2004 + flash mx 2004 = only$ 100  also:  windows 2003 server  windows 2000 workstation  windows 2000 server  windows 2000 advanced server  windows 2000 datacenter  windows nt 4. 0  windows millenium  windows 98 second edition  windows 95  office xp professional  office 2000  office 97  ms plus  ms sql server 2000 enterprise edition  ms visual studio. net architect edition  ms encarta encyclopedia delux 2004  ms project 2003 professional  ms money 2004  ms streets and trips 2004  ms works 7  ms picture it premium 9  ms exchange 2003 enterprise server  adobe photoshop  adobe pagemaker  adobe illustrator  adobe acrobat 6 professional  adobe premiere  macromedia dreamwaver mx 2004  macromedia flash mx 2004  macromedia fireworks mx 2004  macromedia freehand mx 11  corel draw graphics suite 12  corel draw graphics suite 11  corel photo painter 8  corel word perfect office 2002  norton system works 2003  borland delphi 7 enterprise edition  quark xpress 6 passport multilanguage  enter here&quot;
0008.2001-02-09.kitchen	0	 urg: gas securitization agreements	&quot; fyi-srs  ----------------------forwarded by sherri sera/corp/enron on 02/09/2001 08:39 am---------------------------  &quot;&quot; jauregui, robert m &quot;&quot; on 02/08/2001 07:55:44 pm  to: &quot;&quot;&#39;taylorja 2 @ bp. com&#39;&quot;&quot;, &quot;&quot;&#39;mcclankg @ bp. com&#39;&quot;&quot;, &quot;&quot;&#39;sdba @ dynegy. com&#39;&quot;&quot;, &quot;&quot;&#39;njwa @ dynegy. com&#39;&quot;&quot;, &quot;&quot;&#39;pete. j. pavluk @ dynegy. com&#39;&quot;&quot;, &quot;&quot;&#39;chuck. watson @ dynegy. com&#39;&quot;&quot;, &quot;&quot;&#39;pwarden @ pillsburywinthrop. com&#39;&quot;&quot;, &quot;&quot;&#39;repling @ pillsburywinthrop. com&#39;&quot;&quot;, &quot;&quot;&#39;mmce @ dynegy. com&#39;&quot;&quot;, &quot;&quot;&#39;swbe @ dynegy. com&#39;&quot;&quot;, &quot;&quot;&#39;bcli @ dynegy. com&#39;&quot;&quot;, &quot;&quot;&#39;singleton. greg @ epenergy. com&#39;&quot;&quot;, &quot;&quot;&#39;hoferc @ epenergy. com&#39;&quot;&quot;, &quot;&quot;&#39;smithc @ epenergy. com&#39;&quot;&quot;, &quot;&quot;&#39;wisew @ epenergy. com&#39;&quot;&quot;, &quot;&quot;&#39;jonesg @ epenergy. com&#39;&quot;&quot;, &quot;&quot;&#39;colliw @ texaco. com&#39;&quot;&quot;, &quot;&quot;&#39;benewm @ texaco. com&#39;&quot;&quot;, &quot;&quot;&#39;underga @ texaco. com&#39;&quot;&quot;, &quot;&quot;&#39;hans @ cook-inlet. com&#39;&quot;&quot;, &quot;&quot;&#39;prez @ cook-inlet. com&#39;&quot;&quot;, &quot;&quot;&#39;davidyi @ cook-inlet. com&#39;&quot;&quot;, &quot;&quot;&#39;dronn @ mayerbrown. com&#39;&quot;&quot;, &quot;&quot;&#39;swidner @ coral-energy. com&#39;&quot;&quot;, &quot;&quot;&#39;blong @ coral-energy. com&#39;&quot;&quot;, &quot;&quot;&#39;ctise @ coral-energy. com&#39;&quot;&quot;, &quot;&quot;&#39;jeff. skilling @ enron. com&#39;&quot;&quot;, &quot;&quot;&#39;william. s. bradford @ enron. com&#39;&quot;&quot;, &quot;&quot;&#39;travis. mccullough @ enron. com&#39;&quot;&quot;, &quot;&quot;&#39;iccenergy @ aol. com&#39;&quot;&quot;, &quot;&quot;&#39;stefkatz @ cs. com&#39;&quot;&quot;, &quot;&quot;&#39;msessa @ sempratrading. com&#39;&quot;&quot;, &quot;&quot;&#39;dfelsinger @ sempra. com&#39;&quot;&quot;, &quot;&quot;&#39;mcosta @ stroock. com&#39;&quot;&quot;, &quot;&quot;&#39;jshorter @ txuenergy. com&#39;&quot;&quot;, &quot;&quot;&#39;mperkins 2 @ txuelectric. com&#39;&quot;&quot;, &quot;&quot;&#39;cenochs @ txuenergy. com&#39;&quot;&quot;, &quot;&quot;&#39;bjeffrie @ westerngas. com&#39;&quot;&quot;, &quot;&quot;&#39;ryanmcgeachie @ aec. ca&#39;&quot;&quot;, &quot;&quot;&#39;richarddaniel @ aec. ca&#39;&quot;&quot;, &quot;&quot;&#39;jones. murphy @ williams. com&#39;&quot;&quot;, &quot;&quot;&#39;randall. o&#39;neal @ williams. com&#39;&quot;&quot;, &quot;&quot;&#39;kelly. knowlton @ williams. com&#39;&quot;&quot;, &quot;&quot;&#39;connie. turner @ williams. com&#39;&quot;&quot;, &quot;&quot;&#39;scampbell @ txuenergy. com&#39;&quot;&quot;, &quot;&quot;&#39;ilydiatt @ altra. com&#39;&quot;&quot;, &quot;&quot;&#39;dkohler @ br-inc. com&#39;&quot;&quot;, &quot;&quot;&#39;reason @ br-inc. com&#39;&quot;&quot;, &quot;&quot;&#39;sallen @ duke-energy. com&#39;&quot;&quot;, &quot;&quot;&#39;rsbaker @ duke-energy. com&#39;&quot;&quot;, &quot;&quot;&#39;richard. ruzika @ gs. com&#39;&quot;&quot;, &quot;&quot;&#39;steve. brown @ southernenergy. com&#39;&quot;&quot;, &quot;&quot;&#39;kenny. foo @ ngx. com&#39;&quot;&quot;, &quot;&quot;&#39;tgary @ pcenergy. com&#39;&quot;&quot;, &quot;&quot;&#39;bredd @ pcenergy. com&#39;&quot;&quot;, &quot;&quot;&#39;harry_wijsman @ pcp. ca&#39;&quot;&quot;, &quot;&quot;&#39;celias @ pcenergy. com&#39;&quot;&quot;, &quot;&quot;&#39;hal-borlan @ reliantenergy. com&#39;&quot;&quot;, &quot;&quot;&#39;priscilla-massey @ reliantenergy. com&#39;&quot;&quot;, &quot;&quot;&#39;llittle @ reliantenergy. com&#39;&quot;&quot;, &quot;&quot;&#39;gary-lamb @ transcanada. com&#39;&quot;&quot;, &quot;&quot;&#39;larry-desmeules @ coastenergy. com&#39;&quot;&quot;, &quot;&quot;&#39;five 5 wood @ aol. com&#39;&quot;&quot;, &quot;&quot;&#39;don. fishbeck @ cmenergy. com&#39;&quot;&quot;, &quot;&quot;&#39;randy. harrison @ southernenergy. com&#39;&quot;&quot;, &quot;&quot;&#39;john. krill @ engageenergy. com&#39;&quot;&quot;, &quot;&quot;&#39;glen. mackey @ energy. com&#39;&quot;&quot;, &quot;&quot;&#39;doug. rabey @ energy. com&#39;&quot;&quot;, &quot;&quot;&#39;michael_huse @ transcanada. com&#39;&quot;&quot;  cc: &quot;&quot;&#39;jlopes @ hrice. com&#39;&quot;&quot;, &quot;&quot;&#39;jnexon @ hrice. com&#39;&quot;&quot;, &quot;&quot; buchsbaum, craig m (corp) &quot;&quot;, &quot;&quot; whelan, steve (corp) &quot;&quot;, &quot;&quot; lee, fanny &quot;&quot;, &quot;&quot; berkovitz, trista &quot;&quot;, &quot;&quot; clare, david &quot;&quot;, &quot;&quot; woo, shirley a (law) &quot;&quot;, &quot;&quot; mclafferty, daniel &quot;&quot;, &quot;&quot; cotroneo, eileen &quot;&quot;, &quot;&quot;&#39;dmao @ orrick. com&#39;&quot;&quot;, &quot;&quot; litteneker, randall (law) &quot;&quot;, &quot;&quot; gee, dennis &quot;&quot;, &quot;&quot; welch, ray &quot;&quot;  subject: urg: gas securitization agreements  i am pleased to report that, as 2/8/01,4:00 pm pst, pg &amp; e has executed the  gas supplier security agreement and the intercreditor agreement with the  following suppliers:  * bp energy company  * dynegy canada marketing &amp; trade, a division of dci  * dynegy marketing &amp; trade  * el paso merchant energy, l. p.  * texaco canada  * texaco natural gas  * txu energy trading canada limited  * txu energy trading company  * williams energy marketing &amp; trading co. (us &amp; canada)  as you know, other suppliers are not precluded from future participation (we  highly encourage it) however, we will now require completion of exhibit b  (supplier joinder agreement) as outlined in 8. (j). i would greatly  appreciate your replying to this email to let us know whether you intend to  be a party to these agreements at this time.  please call if you have any questions.  please forward all correspondence to:  trista berkovitz  director, gas procurement  pacific gas and electric company  77 beale street, room 553  san francisco, ca 94105-1814  415. 973. 2152 (bus)  415. 973. 9213 (fax)  notice to recipient: this e-mail is meant for only the intended recipient  of the transmission, and may be a communication privileged by law. if you  received this e-mail in error, any review, use, dissemination, distribution,  or copying of this e-mail is strictly prohibited. please notify us  immediately of the error by return e-mail and please delete this message  from your system. thank you in advance for your cooperation.&quot;
0008.2001-06-12.SA_and_HP	1	 spend too much on your phone bill? 25711	&quot; crystal clear connection with unlimited  long distance usage for one low flat rate!  now  try it for free!! * see for  yourself.  we&#39;ll activate  your flat rate unlimited long distance service for 1 week free * to prove  that the quality of service is what you  expect.  call now! operators standing  by to activate your service.  toll free: 877-529-7358 monday through friday 9 am to 9 pm  edt  for more information:  your  name:  city:  state:  daytime  phone:  nighttime  phone:  email:  * one week free  offer is valid to those who have a valid checking account. service is  never billed until after the 1 week free trial  period.  if you have received this by error or wish to be  removed from our mailing list, please click  here&quot;
0008.2001-06-25.SA_and_HP	1	&quot; your membership exchange, issue # 422&quot;	&quot; content-type: text/plain; charset = iso-8859-1  ______________________________________________________your membership exchange issue # 422 06-25-01 your place to exchange ideas, ask questions, swap links, and share your skills!____________________________________________________________________________________________________________you are a member in at least one of these programs-you should be in them all! www. bannersgomlm. comwww. profitbanners. comwww. cashpromotions. comwww. mysiteinc. comwww.. comwww. freelinksnetwork. comwww. myshoppingplace. comwww. bannerco-op. comwww. putpeel. comwww. putpeel. netwww. sellinternetaccess. comwww. be-your-own-isp. comwww. seventhpower. com______________________________________________________today&#39;s special announcement: we can help you become an internet service provider within 7 daysor we will give you$ 100. 00!! http:// www. sellinternetaccess. comclick herewe have already signed 300 isps on a 4 year contract, see if anyare in your town at: http:// www. find-local-isp. com click here____________________________________________________________________________________________________________be sure to examing today&#39;s showcases for sites who will trade links with you!&gt;&gt; resource board p. steeves: internet explorer hint w/&quot;&quot; image toolbar &quot;&quot;&gt;&gt; q &amp; a questions:-unblocking sites so i can access?&gt;&gt; member showcases&gt;&gt; member * reviews *-sites to review: # 122 therefore, i believe it is better than the last version. there is, though, one little agonizing message &quot;&quot; image toolbar &quot;&quot; that pops up every time you pass the mouse over an image. it asks whether you want to save or print the image. ugh, what a pest. hurrah, you can get rid of the image toolbar. justperform a right mouse click over the image toolbar. it will allow you to disable the image toolbar forthis session or forever. if you want to re-establishthe image toolbar just go to the internet optionscontrol panel and you can turn the image toolbar back on. remember, a right mouse click over any windows icon, window, tool bar, the desktop, and most other windowsentities will list loads of information. use it, getthe hang of it, you&#39;ll like it. peter a. steeves, b. sc., m. sc., ph. d., p. eng. geomatics engineergeodetic software systemslogical @ idirect. comhttp:// www. gssgeomatics. com______________________________________________________&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;questions free advertising to other members, and soon chancesto win cash! http:// www. cashpo. net/cashpo/openpage. php 4? c = 2------------------------------------------------------visit ward&#39;s gift shop! here you can find all your shopping needs on line, and good qualityproducts; everyday low prices! we have dolls, angels, novelties, and so much much more to choose from. go to our site, and getyour free catalog today; over 3,000 products to choose from. http:// www. wardsgiftshop. com trade links-bjwl 23 @ freeonline. com-----------------------------------------------------attention all web marketers-$ 30 k-$ 100 k cash this yearno experience needed, no product to sell. the real go getterscan make$ 100,000. 00 cash, in their first month this is verypowerful, contact me today ycon @ home. com orgoto: http:// www. makecashonline. com get excited:) trade links-ycon @ home. com-----------------------------------------------------retire quickly--free report &quot;&quot; seven secrets to earning$ 100,000 from home &quot;&quot;. fully automated home business. 81% commissions-incomeunlimited. automated sales, recruiting and training machine. join now! http:// orleantraders. 4 yoursuccess. orgtrade links-bgmlm @ 4 yoursuccess. org-----------------------------------------------------if you have a product, service, opportunity and/or quality merchandisethat appeals to people worldwide, reach your target audience! for a fraction of what other large newsletters charge youcan exhibit your website here for only$ 8 cpm. why?... because as a valuable member we want you to be successful! order today-exhibits are limited and published on afirst come, first serve basis. http:// bannersgomlm. com/ezine______________________________________________________&gt;&gt;&gt;&gt;&gt;&gt;&gt;member * reviews * click here to edit your preferences, or copy the following url into your browser:  content-type: text/html; charset = iso-8859-1  visit our subscription center to edit your interests or unsubscribe. view our privacy policy. this email was sent to those who signed up for it. if you believe it has reached you in error, or you are no longer interested in receiving it, then please click here to edit your preferences, or copy the following url into your browser: &quot;
0008.2003-12-18.GP	1	 when sp @ m doesn&#39;t annoy you eternal	&quot; benson sibilant chartroom  hello,  do you hate spam?  this program worked for me. if you  hate spam like i do,  you owe it to your self to try this program, and forward  this email to all of your friends which also hate spam or  as many people possible. together lets help clear the  internet of spam!  stop  spam in its tracks!  do you get junk, scams and worse in  your inbox  every day?  are you sick of spending valuable time  removing the trash?  is your child receiving inappropriate  adult material?  if so you should know that no other  solution works  better then our software to return control of your  email back where it belongs!  imagine being able to read your important  email  without looking through all that spam...  stop  spam in its tracks starting today.  opt-out  here.  expanse glenda litterbug &quot;
0008.2004-08-01.BG	1	&quot; slotting order confirmation may 18,2004 etacitne&quot;	&quot; {% begin_split 76%}  the rest of the afternoon was spent in making up the train. i am afraid to say how many baggage-waggons followed the engine, certainly a score; then came the chinese, then we, then the families, and the rear was brought up by the conductor in what, if i have it rightly, is called his caboose. the class to which i belonged was of course far the largest, and we ran over, so to speak, to both sides; so that there were some caucasians among the chinamen, and some bachelors among the families. but our own car was pure from admixture, save for one little boy of eight or nine who had the whooping-cough. at last, about six, the long train crawled out of the transfer station and across the wide missouri river to omaha, westward bound. it was a troubled uncomfortable evening in the cars. there was thunder in the air, which helped to keep us restless. a man played many airs upon the cornet, and none of them were much attended to, until he came to &quot;&quot; home, sweet home. &quot;&quot; it was truly strange to note how the talk ceased at that, and the faces began to lengthen. i have no idea whether musically this air is to be considered good or bad; but it belongs to that class of art which may be best described as a brutal assault upon the feelings. pathos must be relieved by dignity of treatment. if you wallow naked in the pathetic, like the author of &quot;&quot; home, sweet home, &quot;&quot; you make your hearers weep in an unmanly fashion; and even while yet they are moved, they despise themselves and hate the occasion of their weakness. it did not come to tears that night, for the experiment was interrupted. an elderly, hard-looking man, with a goatee beard and about as much appearance of sentiment an you would expect from a retired slaver, turned with a start and bade the performer stop that &quot;&quot; damned thing. &quot;&quot; &quot;&quot; i&#39;ve heard about enough of that, &quot;&quot; he added; &quot;&quot; give us something about the good country we&#39;re going to. &quot;&quot; a murmur of adhesion ran round the car; the performer took the instrument from his lips, laughed and nodded, and then struck into a dancing measure; and, like a new timotheus, stilled immediately the emotion he had raised.  aka: vicqodin,  xacnax,  suprervisagra and much morne-  no presccription neyeded!  civilizirano gullweig gxol sylg  the day faded; the lamps were lit; a party of ht ht men, who got off next evening at north platte, stood together on the stern platform, singing &quot;&quot; the sweet by-and-bye &quot;&quot; with very tuneful voices; the chums began to put up their beds; and it seemed as if the business of the day were at an end. but it was not so; for, the train stopping at some station, the cars were instantly thronged with the natives, wives and fathers, ht men and maidens, some of them in little more than nightgear, some with stable lanterns, and all offering beds for sale. their charge began with twenty-five cents a cushion, but fell, before the train went on again, to fifteen, with the bed-board gratis, or less than one-fifth of what i had paid for mine at the transfer. this is my contribution to the economy of future emigrants.  a great personage on an american train is the newsboy. he sells books (such books!), papers, fruit, lollipops, and cigars; and on emigrant journeys, soap, towels, tin washing dishes, tin coffee pitchers, coffee, tea, sugar, and tinned eatables, mostly hash or beans and bacon. early next morning the newsboy went around the cars, and chumming on a more extended principle became the order of the hour. it requires but a copartnery of two to manage beds; but washing and eating can be carried on most economically by a syndicate of three. i myself entered a little after sunrise into articles of agreement, and became one of the firm of pennsylvania, shakespeare, and dubuque. shakespeare was my own nickname on the cars; pennsylvania that of my bedfellow; and dubuque, the name of a place in the state of iowa, that of an amiable ht fellow going west to cure an asthma, and retarding his recovery by incessantly chewing or smoking, and sometimes chewing and smoking together. i have never seen tobacco so sillily abused. shakespeare bought a tin washing-dish, dubuque a towel, and pennsylvania a brick of soap. the partners used these instruments, one after another, according to the order of their first awaking; and when the firm had finished there was no want of borrowers. each filled the tin dish at the water filter opposite the stove, and retired with the whole stock in trade to the platform of the car. there he knelt down, supporting himself by a shoulder against the woodwork or one elbow crooked about the railing, and made a shift to wash his face and neck and hands; a cold, an insufficient, and, if the train is moving rapidly, a somewhat dangerous toilet.&quot;
0009.1999-12-13.kaminski	0	 christmas-near	&quot; good morning all. we apologize that we are not going to be able to have  our holiday party before the first of the year. we wanted to use the scout  house in west university like we did last year and it was not available.  vince suggested that with the move and a lot of people taking vacation that  we wait until after the first of the year. this way you can take advantage  of  &quot;&quot; after christmas sales &quot;&quot; for your gift!  just remember whose name you have and we will schedule an &quot;&quot; offsite &quot;&quot;  after the first of the year.  thanks!  shirley  ----------------------forwarded by shirley crenshaw/hou/ect on 12/13/99  09:23 am---------------------------  kevin g moore  12/13/99 08:58 am  to: vince j kaminski/hou/ect @ ect, stinson gibner/hou/ect @ ect, grant  masson/hou/ect @ ect, vasant shanbhogue/hou/ect @ ect, maureen  raymond/hou/ect @ ect, pinnamaneni krishnarao/hou/ect @ ect, zimin  lu/hou/ect @ ect, mike a roberts/hou/ect @ ect, samer takriti/hou/azurix @ azurix,  amitava dhar/corp/enron @ enron, joseph hrgovcic/hou/ect @ ect, alex  huang/corp/enron @ enron, kevin kindall/corp/enron @ enron, osman  sezgen/hou/ees @ ees, tanya tamarchenko/hou/ect @ ect, vincent tang/hou/ect @ ect,  ravi thuraisingham/hou/ect @ ect, paulo issler/hou/ect @ ect, martin  lin/hou/ect @ ect, ross prevatt/hou/ect @ ect, michael sergeev/hou/ect @ ect,  patricia tlapek/hou/ect @ ect, roman zadorozhny/hou/ect @ ect, martina  angelova/hou/ect @ ect, jason sokolov/hou/ect @ ect, shirley crenshaw/hou/ect @ ect  cc:  subject: christmas-near  hello everyone,  the pulling of names are completed.  shirley will inform you as to when we will make exchanges.  thanks  kevin moore  ----------------------forwarded by kevin g moore/hou/ect on 12/13/99 08:50  am---------------------------  kevin g moore  12/10/99 08:28 am  to: vince j kaminski/hou/ect @ ect, stinson gibner/hou/ect @ ect, grant  masson/hou/ect @ ect, vasant shanbhogue/hou/ect @ ect, maureen  raymond/hou/ect @ ect, pinnamaneni krishnarao/hou/ect @ ect, zimin  lu/hou/ect @ ect, mike a roberts/hou/ect @ ect, samer takriti/hou/azurix @ azurix,  amitava dhar/corp/enron @ enron, joseph hrgovcic/hou/ect @ ect, alex  huang/corp/enron @ enron, kevin kindall/corp/enron @ enron, osman  sezgen/hou/ees @ ees, tanya tamarchenko/hou/ect @ ect, vincent tang/hou/ect @ ect,  ravi thuraisingham/hou/ect @ ect, paulo issler/hou/ect @ ect, martin  lin/hou/ect @ ect, ross prevatt/hou/ect @ ect, michael sergeev/hou/ect @ ect,  patricia tlapek/hou/ect @ ect, roman zadorozhny/hou/ect @ ect, martina  angelova/hou/ect @ ect, jason sokolov/hou/ect @ ect, shirley crenshaw/hou/ect @ ect  cc:  subject: christmas-near  goodmorning,  things went well on yesterday with names being pulled.  here is a list of people who have to pull a name.  stinson gibner  samer takriti  ravi thuraisingham  martin lin  alexios kollaros  shirley crenshaw  let&#39;s celebrate at work with each other making the last christmas in 1999-  great!  reminder: if you feel you will be unable to attend the exchanging of the  gifts, please do not let that  stop you from participating.  each persons name has been entered; can you guess who has your name?  we have a gift for you. so if you can not attend for any reason please know  that  you are included and your gift will be here when you return.  wishing all a merry christmas,  and a good kick-off to happy holidays.  thanks  kevin moore  ----------------------forwarded by kevin g moore/hou/ect on 12/10/99 06:40  am---------------------------  kevin g moore  12/08/99 07:47 am  to: vince j kaminski/hou/ect @ ect, stinson gibner/hou/ect @ ect, grant  masson/hou/ect @ ect, vasant shanbhogue/hou/ect @ ect, maureen  raymond/hou/ect @ ect, pinnamaneni krishnarao/hou/ect @ ect, zimin  lu/hou/ect @ ect, mike a roberts/hou/ect @ ect, samer takriti/hou/azurix @ azurix,  amitava dhar/corp/enron @ enron, joseph hrgovcic/hou/ect @ ect, alex  huang/corp/enron @ enron, kevin kindall/corp/enron @ enron, osman  sezgen/hou/ees @ ees, tanya tamarchenko/hou/ect @ ect, vincent tang/hou/ect @ ect,  ravi thuraisingham/hou/ect @ ect, paulo issler/hou/ect @ ect, martin  lin/hou/ect @ ect, ross prevatt/hou/ect @ ect, michael sergeev/hou/ect @ ect,  patricia tlapek/hou/ect @ ect, roman zadorozhny/hou/ect @ ect, martina  angelova/hou/ect @ ect, jason sokolov/hou/ect @ ect, shirley crenshaw/hou/ect @ ect  cc:  subject: christmas drawing-near  ho! ho! ho! merry christmas,  on thursday we will pull names.  once again, this is so we may share  in the christmas spirit and show our appreciation  for one another.  we will then join and exchange gifts on a later date.....  stay tuned..................  if for some chance you will not be present on thursday,  feel free to stop by my desk and pull your name today.  eb 3130 a x 34710  join in the fun  and remember,  keep it  simple  thanks  kevin moore  ----------------------forwarded by kevin g moore/hou/ect on 12/08/99 06:55  am---------------------------  kevin g moore  12/07/99 09:40 am  to: vince j kaminski/hou/ect @ ect, stinson gibner/hou/ect @ ect, grant  masson/hou/ect @ ect, vasant shanbhogue/hou/ect @ ect, maureen  raymond/hou/ect @ ect, pinnamaneni krishnarao/hou/ect @ ect, zimin  lu/hou/ect @ ect, mike a roberts/hou/ect @ ect, samer takriti/hou/azurix @ azurix,  amitava dhar/corp/enron @ enron, joseph hrgovcic/hou/ect @ ect, alex  huang/corp/enron @ enron, kevin kindall/corp/enron @ enron, osman  sezgen/hou/ees @ ees, tanya tamarchenko/hou/ect @ ect, vincent tang/hou/ect @ ect,  ravi thuraisingham/hou/ect @ ect, paulo issler/hou/ect @ ect, martin  lin/hou/ect @ ect, ross prevatt/hou/ect @ ect, michael sergeev/hou/ect @ ect,  patricia tlapek/hou/ect @ ect, roman zadorozhny/hou/ect @ ect, martina  angelova/hou/ect @ ect, jason sokolov/hou/ect @ ect, shirley crenshaw/hou/ect @ ect  cc:  subject: christmas drawing-near  hello everyone,  we would like for christmas this year that the research group pull names,  as a way of sharing in the spirit of christmas, and as appreciation for one  another.  we want to keep it simple so the gift should be less than twenty-dollars.  please everyone participate, your name is already entered.  i will return with more info. later...........  thanks  kevin moore  let&#39;s have a wonderful christmas at work.&quot;
0009.1999-12-14.farmer	0	 meter 1517-jan 1999	&quot; george,  i need the following done:  jan 13  zero out 012-27049-02-001 receipt package id 2666  allocate flow of 149 to 012-64610-02-055 deliv package id 392  jan 26  zero out 012-27049-02-001 receipt package id 3011  zero out 012-64610-02-055 deliv package id 392  these were buybacks that were incorrectly nominated to transport contracts  (ect 201 receipt)  let me know when this is done  hc&quot;
0009.2000-06-07.lokay	0	 human resources organization	&quot; as enron continues to address the human capital needs of the organization,  there are several changes in enron , s human resources (hr) organization i , d  like to share with you:  in corporate human resources:  brian schaffer will lead the office of labor and employment relations  function, including resource management, corporate training activities, and  workforce development.  mary joyce will continue to have responsibility for executive compensation  and our global equity plans.  cynthia barrow, in addition to benefits, will be responsible for the  development of work life programs across enron.  brad coleman will be responsible for analysis and reporting, in addition to  the re-engineering of the hr service center.  gerry gibson will work closely with me to provide organizational development  &amp; training expertise for hr , s continuing evolution.  andrea yowman will be responsible for several projects which are critical to  hr , s on-going success including the sap implementation, global information  system (gis) database, and total compensation system development. in  addition, she will have responsibility for the human resource information  system (hris).  the hr generalist functions for corporate will be handled by the following:  gwen petteway, public relations, government affairs, legal, investor  relations, corporate development, epsc, aviation, enron federal credit union  and the analyst and associate program  kim rizzi, accounting and human resources  sheila walton, rac, finance and enron development corp, in addition to her  responsibilities in ena  at the business unit level, we , ve established two geographic hubs for our  wholesale business units:  drew lynch will be in london with the hr responsibility for the eastern  hemisphere including london, apachi and india. drew , s senior leadership team  will include: nigel sellens, ranen sengupta and scott gilchrist.  david oxley will be located in houston with hr responsibility for the western  hemisphere including north america, calme and south america. david , s senior  leadership team will include: miguel padron, janie bonnard, sheila knudsen  and cindy skinner.  we believe these hubs can result in a more effective hr organization and also  facilitate the movement of talent where needed in those regions.  the following are the hr leaders responsible for the remaining business  units:  dave schafer gpg  gary smith wind  robert jones net works  marla barnard ebs  ray bennett ees/efs  willie williams ee &amp; cc/nepco  gerry chatham egep  please click on the following link to view the hr organization chart. &quot;
0009.2001-02-09.kitchen	0	&quot; re: brazil commercial-* * update version, delete previous * *&quot;	&quot; louise, sorry, i just received your note.  the extent of any discussion was dave thanking me over the phone for the inputs and recognizing that he and john incorporated some of the content. we&#39;ve never had what i had been expecting, or at least presumed appropriate i. e., prior to any formal decision for the region, entertaining an in-person detailed discussion of the examples and recommendations-including a welcome cross examination of my observations that might conflict with official report or view.  john and dave asked me to talk with brett, kish and gonzalez, but if you look at my recommendations and also consider the overall performance in the region does this make the best sense? i&#39;ve done this again and, in fact, had already introduced my ideas to each of them and the previous system prior to forwarding them to houston.  prior to having to leave enron, i wanted to make a best effort to get the authority to execute the recommendations i&#39;ve pretty consistently introduced since joining in late 1998 and tried to get enron to implement under the previous management. i have not had the opportunity to manage or influence the company&#39;s operations in south america-this is my fault for not negotiating a more senior position, but i made the attempt in the region and more recently with the new managers to demonstrate a need to open constructive, critical discussion.  anyway, i&#39;ve tried to open the door to john, dave and you and others who are interested to brainstorm inlcuding the leadership in place in esa to understand and perhaps leverage my applied experience-both trading, origination and, importantly, cultural. my resume below should attest to my capabilities-at least in terms of the potential value of my observations.  thank you for your efforts extended in my behalf and good luck in your new position and working within enron&#39;s unique, dynamic ethic.  d&#39;arcy  louise kitchen @ ect  02/09/2001 01:46 pm  to: d&#39;arcy carroll/sa/enron @ enron  cc:  subject: re: brazil commercial-* * update version, delete previous * *  i have spoken to john lavorato on this and he says that dave and john have already spoken to you on this. do we still need to meet as i have no different opinion to them at this time.  louise  d&#39;arcy carroll @ enron  02/09/2001 11:13 am  to: louise kitchen @ ect  cc:  subject: brazil commercial-* * update version, delete previous * *  louise,  this is a lot of text including the attatched files, but is the summary gist of what i have tried to communicate internally and am asking to discuss with you this morning.  ----------------------forwarded by d&#39;arcy carroll/sa/enron on 02/09/2001 02:14 pm---------------------------  d&#39;arcy carroll  11/09/2000 06:20 pm  to: david w delainey @ ect, john j lavorato/corp/enron @ enron  cc: kay chapman @ ect  subject: brazil commercial-* * update version, delete previous * *  david/john-understand the trip will be delayed.  proposal outline has two texts-i. commercial strategy and ii. historical perspective. the org charts will need some discussion-particularly in regard to the strengths and weakness of employed personnel and urgent need for an improved structure.  over the fh 2000 and within the new structure with brett and joao carlos albuquerque in place, the wholesale group and trading desk seems to have made some important strides forward in terms of recruiting some good individuals and, in trading terms, finally executing some fundamental market supply, demand and transmission analysis.  to get into the game quickly and aggressively, though, i think the commercial group needs to hire some senior, local trading expertise. i apoligize, but was unable to get in contact with either of these two guys to set up a possible meeting this week. however, they have the local knowledge, trading competencies and management experience which i consider needed to catalyze the regional effort:  axel hinsch-argentine and cargill employee with several years and broad commodity and financial trading, business development and management experience, including senior trader for the bear stearns emerging markets equity desks in the late 1980 s/early 1990 s. straight up, no ego  argentine country manager.  mark hoffman-swiss/brazilian and glencore employee with several years energy, energy distribution and sugar sector experience; applied commodity and financial arbitrage experience in the brazilian market. lot less straight forward, but applied knowledge and expertise.  senior originator/trader.  please forward any input about your interest in scheduling a meeting either open here or in houston during the week of nov 20.  for some perspective on my experience at enron, let me explaing that i have been working in enron networks in the region from q 2&#39;00 and therefore much less formally invovled with the trading (brazil spot market) and wholesale pricing, tarrif issues etc.,.. than at the end of fyl 999 when i was directly involved in developing our effort to get in the game in understanding the spot price formula calculations and exploring arbitrage opportunities in the wholesale market.  i&#39;ve attached my resume for some perspective on my background and capability to critically review the commercial (trading and marketing) and managerial issues involving the past and future opportunities. &quot;
0009.2001-06-26.SA_and_HP	1	&quot;double your life insurance at no extra cost! 29155 the lowest life insurance quotes  without the hassle!  compare rates from the  nation&#39;s top insurance companies  shop,  compare and save  fill out the simple form,  and you&#39;ll have the  15 best custom quotes in 1 minute.  compare your current coverage  to these sample 10-year level term monthly  premiums  (20 year, 30 year and smoker rates also available)  $ 250,000  $ 500,000  $ 1,000, 000  age  male  female  male  female  male  female  30  $ 12  $ 11  $ 19  $ 15  $ 31  $ 27  40  $ 15  $ 13  $ 26  $ 21  $ 38  $ 37  50  $ 32  $ 24  $ 59  $ 43  $ 107  $ 78  60  $ 75  $ 46  $ 134  $ 87  $ 259  $ 161  click here to compare!  it&#39;s fast, easy and free!  * all quotes shown are from insurance companies rated a-, a, a + or a + + by  a.m. best company (a registered rating service) and include all fees and commissions.  actual premiums and coverage availability will vary depending upon age, sex, state  availability, health history and recent tobacco usage.  to unsubscribe, reply with unsubscribe in subject! &quot;	
0009.2003-12-18.GP	1	new clonazepam.	m xanax. x valium. m vicodin. n dhyngem many specials running this week  the re. al thing  not like the other sites that imitate these products.  no hidd. en char. ges-fast delivery  vic. odin val. ium xan. ax  via. gra diaz. epam alpra. zolam  so. ma fior. icet amb. ien  stil. nox ult. ram zo. loft  clon. azepam at. ivan tr. amadol  xeni. cal cele. brex vi. oxx  pro. zac bus. par much m. ore....  if you have recieved this in error  please use  http:// www. nowbetterthis. biz/byee. html  fuohqjlsjcqp  x odlx  gxxu 
0010.1999-12-14.farmer	0	 duns number changes	&quot; fyi  ----------------------forwarded by gary l payne/hou/ect on 12/14/99 02:35 pm  ---------------------------  from: antoine v pierre 12/14/99 02:34 pm  to: tommy j yanowski/hou/ect @ ect, kathryn bussell/hou/ect @ ect, gary l  payne/hou/ect @ ect, diane e niestrath/hou/ect @ ect, romeo d&#39;souza/hou/ect @ ect,  michael eiben/hou/ect @ ect, clem cernosek/hou/ect @ ect, scotty  gilbert/hou/ect @ ect, dave nommensen/hou/ect @ ect, david rohan/hou/ect @ ect,  kevin heal/cal/ect @ ect, richard pinion/hou/ect @ ect  cc: mary g gosnell/hou/ect @ ect, jason moore/hou/ect @ ect, samuel  schott/hou/ect @ ect, bernice rodriguez/hou/ect @ ect  subject: duns number changes  i will be making these changes at 11:00 am on wednesday december 15.  if you do not agree or have a problem with the dnb number change please  notify me, otherwise i will make the change as scheduled.  dunns number change:  counterparty cp id number  from to  cinergy resources inc. 62163 869279893 928976257  energy dynamics management, inc. 69545 825854664 088889774  south jersey resources group llc 52109 789118270 036474336  transalta energy marketing (us) inc. 62413 252050406 255326837  philadelphia gas works 33282 148415904 146907159  thanks,  rennie  3-7578&quot;
0010.1999-12-14.kaminski	0	 stentofon	&quot; goodmorning liz,  we are in need of another stentofon for trisha tlapek.  she works very closely with the traders and it is important  for quick communication.  thanks  kevin moore&quot;
0010.2001-02-09.kitchen	0	&quot; brazil commercial-* * update version, delete previous * *&quot;	&quot; louise,  this is a lot of text including the attatched files, but is the summary gist of what i have tried to communicate internally and am asking to discuss with you this morning.  ----------------------forwarded by d&#39;arcy carroll/sa/enron on 02/09/2001 02:14 pm---------------------------  d&#39;arcy carroll  11/09/2000 06:20 pm  to: david w delainey @ ect, john j lavorato/corp/enron @ enron  cc: kay chapman @ ect  subject: brazil commercial-* * update version, delete previous * *  david/john-understand the trip will be delayed.  proposal outline has two texts-i. commercial strategy and ii. historical perspective. the org charts will need some discussion-particularly in regard to the strengths and weakness of employed personnel and urgent need for an improved structure.  over the fh 2000 and within the new structure with brett and joao carlos albuquerque in place, the wholesale group and trading desk seems to have made some important strides forward in terms of recruiting some good individuals and, in trading terms, finally executing some fundamental market supply, demand and transmission analysis.  to get into the game quickly and aggressively, though, i think the commercial group needs to hire some senior, local trading expertise. i apoligize, but was unable to get in contact with either of these two guys to set up a possible meeting this week. however, they have the local knowledge, trading competencies and management experience which i consider needed to catalyze the regional effort:  axel hinsch-argentine and cargill employee with several years and broad commodity and financial trading, business development and management experience, including senior trader for the bear stearns emerging markets equity desks in the late 1980 s/early 1990 s. straight up, no ego  argentine country manager.  mark hoffman-swiss/brazilian and glencore employee with several years energy, energy distribution and sugar sector experience; applied commodity and financial arbitrage experience in the brazilian market. lot less straight forward, but applied knowledge and expertise.  senior originator/trader.  please forward any input about your interest in scheduling a meeting either open here or in houston during the week of nov 20.  for some perspective on my experience at enron, let me explaing that i have been working in enron networks in the region from q 2&#39;00 and therefore much less formally invovled with the trading (brazil spot market) and wholesale pricing, tarrif issues etc.,.. than at the end of fyl 999 when i was directly involved in developing our effort to get in the game in understanding the spot price formula calculations and exploring arbitrage opportunities in the wholesale market.  i&#39;ve attached my resume for some perspective on my background and capability to critically review the commercial (trading and marketing) and managerial issues involving the past and future opportunities.&quot;
0010.2001-06-28.SA_and_HP	1	urgent business proposal	&quot;mrs. regina rossman. # 263 sandton city  johannesburg, south africa.  e-mail: joel_rosel @ mail. com  attn: alhaji  with due respect, trust and humility, i write you this  proposal, which i believe, would be of great interest  to you. i am mrs. regina rossman, the wife of late mr.  joseph rossman of blessed memory, before forces loyal  to  major johnny paul koromah killed my husband; he was  the director general of gold and mining corporation  (g. d. m. c.) of sierra leone. my husband was one of the  people targeted by the rebel forces. on the course of  the revolution in the country, prominent people were  hijacked from their homes to an unknown destination.  two days before his death, he managed to sneak a  written message to us, explaining his condition and  concerning one trunk box of valuables containing  money, which he concealed under the roof. he  instructed me to take our son and move out of sierra  leone, immediately to any neighboring country. the  powerful peace keeping force of the (ecomog) intervened to arrest the situation of mass killings by  the rebels, which was the order of the day.  eventually, it resulted into full war, i became a  widow overnight, helpless situation, without a partner  at the moment of calamity, and every person was  running for his life. my son and i managed to escape  to south africa safely with the box and some documents  of property title.  the cash involved inside the box was us$ 30 million  (thirty million united states dollars). due to fear  and limited rights as a refugee, i deposited the items  with a private security company in order not to raise  an eyebrow over the box here in south africa in my  son&#39;s name joel r. rossman. be informed that the real  content of the box was not disclosed. meanwhile, i  want to travel out of south africa entirely with this  money for investment in your country because of  political and economic stability and for future  benefit of my child.  i want you to assist us claim this box from the  security company and get the money into your private  account in your country so that we can invest the  money wisely. we have in mind to establish a rewarding  investment and good relationship with you.  concerning the money, we are prepared to give you  reasonable percentage of 30% for your kind assistance.  also, we have decided to set aside 5% of the total sum  for expenses that might be incurred by the parties in  the course of the transfer both locally and  externally. for the interest of this business, do not  hesitate to contact my son mr. joel r. rossman on the  above e-mail address immediately you  receive this message for more information and to  enable  us proceed towards concluding all our arrangements. no  other person knows about this money apart from my son  and i. we await your most urgent response. please we  need your fax/phone numbers for esiear communication.  thanking you for your co-operation and god bless you.  best regard,  mrs. regina rossman.  http:// xent. com/mailman/listinfo/fork&quot;
0010.2003-12-18.GP	1	 re: hot topics: growing young	NA
0010.2004-08-01.BG	1	&quot; we shiip to ur country for mircosoft, adobe, norton charset = us-ascii &quot;&quot; &gt;&quot;	&quot; cheap softtwares for you, all are original genuine! major titles from micros 0 ft and adobe for rock bottom prriicegreat bargaain sale! variety discoount softtwares at wholesale chaeap pricing!  microsoft windows xp professional-my price:$ 50; normal:$ 299. 00; you saave$ 249. 00  adobe photoshop cs v 8. o pc-my price:$ 80; normal:$ 609. 99; you save$ 529. 99  microsoft office xp professional-my price:$ 100; normal:$ 499. 95; you saave$ 399. 95  adobe acrobaat v 6. o professional pc-my price:$ 100; normal:$ 449. 95; you saave$ 349. 95  microsoft office 2 oo 3 professional-my price:$ 80; normal:$ 499. 95; you saave$ 419. 95  norton antivirus 2 oo 4 professional-my price:$ 15; normal:$ 69. 95; you saave$ 54. 95  coreldraw graphics suite v 12 pc-my price:$ 100; normal:$ 349. 95; you saave$ 249. 95  adobe pagemaker v 7. o pc-my price:$ 80; normal:$ 599. 95; you saave$ 519. 95  we do have full range softwares--macromedia, mc-afeee, adobee, coreldraw, microsoft, nero, pinnacle systems, powerquest, redhat, riverdeep, roxio, symaantec, 321 studio  52 more popular titles for you&gt;&gt; cliickk here for 52 more titles  we shiip to all countries including africa, finland &amp; etc.. as where u located  wonder why our priices are unbelievably low?  we are currently clearing our goods at incredibily cheeap sale-priice in connection with the shutdown of our shop and the closure of the stockhouse. don&#39;t missss your lucky chance to get the best priicce on discoouunt software!  we are the authorized agent and an established reseller offering oem licensing software.  we possesses all the necessary certificates issued to verify the authenticity of genuine oem products and granting the right for us to resell oem software products.  super cheaep micros 0 ft, adobe &amp; all kinds.. cliickk here to enjoy our superb discounnt! take me down &quot;
0011.1999-12-14.farmer	0	 king ranch	&quot; there are two fields of gas that i am having difficulty with in the unify  system.  1. cage ranch-since there is no processing agreement that accomodates this  gas on king ranch, it is my understanding hpl is selling the liquids and  king ranch is re-delivering to stratton. it is also my understanding that  there is a. 05 cent fee  to deliver this gas. we need a method to accomodate the volume flow on hpl  at meter 415 and 9643. this gas  will not be reflected on trans. usage ticket # 123395 and # 95394 since it is  not being nominated from a processing agreement. we either, need to input  a point nom (on hpl or krgp) at these meters to match the nom at meter 9610,  or a deal for purchase and sale (if king ranch is taking title to the gas)  needs to be input into sitara at these meters with the appropriate rate. i  have currently input a point nom on krgp to accomodate this flow, so we can  divert some of this gas to the current interstate sales that are being made.  2. forest oil-there is a processing agreement that will accomodate flow  from the meter (6396) into king ranch. it is my  understanding that this agreement was originally setup until texaco had  their own processing agreement. i need confirmation that the gas from this  meter should be nominated on contract # (96006681) and that this agreement  should have been reassigned to hplc. (it is currently still under hplr).  if this gas is not nominated on the above transport agreement, then once  again we need to accomodate the flow volume on the hpl pipe with either a  point nom or a sitara deal at meters 415 and 9643.&quot;
0011.2001-06-28.SA_and_HP	1	&quot; urgent business proposal,&quot;	&quot; mrs. regina rossman.  # 263 sandton city  johannesburg, south africa.  e-mail: joel_rosel @ mail. com  attn: alhaji  with due respect, trust and humility, i write you this  proposal, which i believe, would be of great interest  to you. i am mrs. regina rossman, the wife of late mr.  joseph rossman of blessed memory, before forces loyal  to  major johnny paul koromah killed my husband; he was  the director general of gold and mining corporation  (g. d. m. c.) of sierra leone. my husband was one of the  people targeted by the rebel forces. on the course of  the revolution in the country, prominent people were  hijacked from their homes to an unknown destination.  two days before his death, he managed to sneak a  written message to us, explaining his condition and  concerning one trunk box of valuables containing  money, which he concealed under the roof. he  instructed me to take our son and move out of sierra  leone, immediately to any neighboring country. the  powerful peace keeping force of the (ecomog  intervened to arrest the situation of mass killings by  the rebels, which was the order of the day.  eventually, it resulted into full war, i became a  widow overnight, helpless situation, without a partner  at the moment of calamity, and every person was  running for his life. my  and i managed to escape  to south africa safely with the box and some documents  of property title.  the cash involved inside the box was us$ 30 million  (thirty million united states dollars). due to fear  and limited rights as a refugee, i deposited the items  with a private security company in order not to raise  an eyebrow over the box here in south africa in my  son&#39;s name joel r. rossman. be informed that the real  content of the box was not disclosed. meanwhile, i  want to travel out of south africa entirely with this  money for investment in your country because of  political and economic stability and for future  benefit of my child.  i want you to assist us claim this box from the  security company and get the money into your private  account in your country so that we can invest the  money wisely. we have in mind to establish a rewarding  investment and good relationship with you.  concerning the money, we are prepared to give you  reasonable percentage of 30% for your kind assistance.  also, we have decided to set aside 5% of the total sum  for expenses that might be incurred by the parties in  the course of the transfer both locally and  externally. for the interest of this business, do not  hesitate to contact my son mr. joel r. rossman on the  above e-mail address immediately you  receive this message for more information and to  enable  us proceed towards concluding all our arrangements. no  other person knows about this money apart from my son  and i. we await your most urgent response. please we  need your fax/phone numbers for esiear communication.  thanking you for your co-operation and god bless you.  best regard,  mrs. regina rossman.  http:// xent. com/mailman/listinfo/fork&quot;
0011.2001-06-29.SA_and_HP	1	 your membership exchange	&quot; content-type: text/plain; charset = iso-8859-1  your membership exchange, issue # 423 (june 28,2001)  your place to exchange ideas, ask questions, swap links, and share your skills!  you are a member in at least one of these programs  -you should be in them all!  bannersgomlm. com  profitbanners. com  cashpromotions. com  mysiteinc. com  timshometownstories. com  freelinksnetwork. com  myshoppingplace. com  bannerco-op. com  putpeel. com  putpeel. net  sellinternetaccess. com  be-your-own-isp. com  seventhpower. com  today&#39;s special announcement:  i&#39;ll put your ad on 2,000 sites free! free this week only,  just for our subscribers! learn the secrets of marketing  online on this global free teleseminar. limited lines  available, only three time slots available... reserve today.  you will not be disappointed! i&#39;ll be your personal host.  we operate several sites, all successful. i&#39;ll teach you what  to do and how to do it! click here:  free teleseminar  michael t. glaspie-founder  we apologize for any technical problems you may have had with  our last mailing, we are working hard to ensure that such problems  will not occur again.  in this issue:  &gt;&gt;q &amp; a  questions:  -using pictures as links?  answers:  -unblocking sites so i can access?  z. oconan: access using a proxy  g. bendickson: using a proxy to visit blocked sites  &gt;&gt;member showcases  &gt;&gt;member * reviews *  -sites to review: # 124, # 125 &amp; # 126!  -site # 123 reviewed!  -vote on your favorite website design!  &gt;&gt;&gt;&gt;&gt;&gt;&gt; questions &amp; answers  do you a burning question about promoting your website, html design,  or anything that is hindering your online success? submit your questions  to myinputare you net savvy? have you learned from your own trials and errors and  are willing to share your experience? look over the questions each day,  and if you have an answer or can provide help, post your answer to  myinput @ aeopublishing. com be sure to include your signature  file so you get credit (and exposure to your site).  questions:  from: moviebuff @ cliffhanger. com  subject: using pictures as links  i&#39;m changing my website and want to use pictures for the links to other pages.  but, someone told me i should still put a&#39;click here&#39;underneath all the  pictures. to me, this removes all purpose of using the pictures.  how can i get across that you click on the pictures to get to other pages  without coming right out and saying so? for example, i have a page with  actor and actress information and just want to have a picture of my  favorite stars to click on and change the picture every couple of days.  mark  moviebuff @ cliffhanger. com  answers:  from: zaak-zaako @ linkpaks. com  subject: access using a proxy  &gt; from: cj (cj 5000 @ post. com)  &gt; subject: unblocking sites so i can access? (issue # 422)  --&gt; i am currently living in a place where the isp is  blocking 50% of  the web. i was told by someone that you can unblock these web sites by  using a proxy, but i don&#39;t know what that means. i am wondering is  there a way to get access to these sites?--  a proxy is easy to use if you use someone elses, they can be tricky to setup yourself.  i have had very good results with surfola. basically you surf to their servers and then  from there you surf through/from their servers. i have several places i surf from that  block content. surfola easily bypasses them! its also free! you can also make money  with them but i just use them to bypass anal retentive isp/corporate providers and  because they allow me to surf anonymously!  i have a detailed right-up on them at http:// linkpaks. com/paidtosurf/surfola. php  see there for more info. if anything is not clear feel free to ask.  (email &amp; sign-up links on http:// linkpaks. com/paidtosurf/surfola. php page)  zaak oconan  netrepreneur  http:// linkpaks. com-surf &amp; earn guides  http:// linktocash. com-internet businesses for under$ 100  http:// iteam. ws-the hottest product on the net today  + + + + next answer-same question + + + +  from: wyn publishing-wynpublishing @ iname. com  subject: using a proxy to visit blocked sites  &gt; from: cj (cj 5000 @ post. com)  &gt; subject: unblocking sites so i can access? (issue # 422)  cj,  two such sites that allows proxy surfing are:  http:// www. anonymise. com and  http:// www. anonymizer. com.  however, if you cannot get to that site then obviously it will not work.  also note, that if your isp is dictating to you which sites you may or  may not visit, then it is time to change providers!  gregory bendickson, wyn publishing  over 28 free traffic exchange services reviewed in a fully  customizable e-book. download yours free and get multiple  signups while learning the art of free web traffic!  http:// www. trafficmultipliers. com  &gt;&gt;&gt;&gt;&gt;&gt;&gt; website showcases  examine carefully-those with email addresses included will  trade links with you, you are encouraged to contact them. and, there  are many ways to build a successful business. just look at these  successful sites/programs other members are involved in...  &quot;&quot; it&#39;s the most d-a-n-g-e-r-o-u-s book on the net &quot;&quot;  email 20,000 targeted leads every single day! slash your  time online to just 1-2 hours daily! build 11 monthly income  streams promoting one url! start building your business-  not everyone elses! http:// www. roibot. com/w. cgi? r 8901_bd_shwc  is your website getting traffic but not orders?  profile, analyze, promote, and track your site to  get the results you want. fully guaranteed!  free trial available! http:// www. roibot. com/w. cgi? r 4887_saa  over 7168 sites to place your free ad!  get immediate free exposure on thousands of sites.  plus two free programs that will automatically type  your ad for you! pay one time, promote all the time.  if you have a product, service, opportunity and/or quality  merchandise that appeals to people worldwide, reach your  target audience!  for a fraction of what other large newsletters charge you  can exhibit your website here for only$ 8 cpm. why?...  because as a valuable member we want you to be successful!  order today-exhibits are limited and published on a  first come, first serve basis. http:// bannersgomlm. com/ezine  &gt;&gt;&gt;&gt;&gt;&gt;&gt; member * reviews *  visit these sites, look for what you like and any suggestions  you can offer, and send your critique to myinput @ aeopublishing. com  and, after reviewing three sites, your web site will be added to  the list! it&#39;s fun, easy, and it&#39;s a great opportunity to give  some help and receive an informative review of your own site.  plus, you can also win a chance to have your site chosen for  a free website redesign. one randomly drawn winner each month!  sites to review:  site # 124: http:// www. bestwaytoshop. com  dale pike  rhinopez @ aol. com  site # 125: http:// www. wedeliverparties. com  dawn clemons  dclemons 7 @ home. com  site # 126: http:// www. eclassifiedshq. com  carol cohen  opportunity @ aol. com  site reviewed:  comments on site # 123: http:// netsbestinfo. homestead. com/nbi. html  dennis  damorganjr @ yahoo. com  ~ ~ ~ ~  i reviewed site 123 and found the size of the font to be too aggressive and  i don&#39;t like mustard yellow for a background. also in the second or third  paragraph is a misspelled word which should be &quot;&quot; first-come &quot;&quot; not as  shown on the page.  i feel a sample of the type of information offered in the newsletter should  be displayed on the page as well as a sample of the free ads offered  on the site. i will probably submit a free ad just to see the content of the newsletter.  as has been mentioned many times, some information about the person  doing the page is always good. we need some information about  why this newsletter will be worthwhile to subscribe to.  ~ ~ ~ ~  dennis-i took a look at your site, and have recommendations  for improving your page.  1-i use internet explorer and view web pages with my text size set to  &#39; smaller&#39;. the text you used was quite large, like a font used for a heading  for all the text. by making the text size smaller it wouldn&#39;t feel like  you were screaming at me. also, the background was just too much.  2-there were spelling errors in the text. often it might be difficult for you  to spot these yourself if you see the page all the time, but have a friend  look it over. spelling errors make the page look unprofessional.  3-offer a sample of your newsletter so people can see what it looks like  before they subscribe. also, if you are asking for a person to give you  their email address, you must have a privacy policy and let them know  they can unsubscribe.  4-think about adding a form for people to subscribe to the newsletter.  it looks more professional than just offering an email address to send to.  5-offer information about yourself, and the kinds of information your  newsletter contains. maybe extend your site to include back issues or  an archive to see what information you have offered in the past.  6-build another page for&#39;sponsoring info&#39;and put prices on that  page. remove all pricing information from the home page.  ~ ~ ~ ~  i feel that the background is a little too bold and busy for the text.  i also believe that the text is too large which makes it difficult to read  quickly, and forces the reader to scroll down unnecessarily.  i noticed some spelling errors, and i think that a link to the classifieds  site should be provided, and online payments should be accepted.  a site that sells advertising should have advertisments on it!  ~ ~ ~ ~  this is a very clear site with nothing interfering with the  message. i did not like the background colour, however that is  personal, it did not detract from the information. i was tempted  to sign up for the newsletter but would have liked a link to see  a current issue. there was an error in the wording (a word  missed) which needs correction and i think the fonts could be  smaller. overall a non-confusing site which makes a nice change. * cheers *  ~ ~ ~ ~  could use a better background and the fonts are very large, there also  are errors in the following paragraphs:  &quot;&quot; first com-first serve &quot;&quot; and &quot;&quot; to place a sponsor advertisement,  send your to my email &quot;&quot;  ~ ~ ~ ~  a single page site. it is necessary to subscribe to the webmaster&#39;s  newsletter to see what he&#39;s doing, and it doesn&#39;t seem to me to be  a way to get people to visit. i wouldn&#39;t, for example. he claims to  have lots of tidbits of information that, he says, we probably  didn&#39;t know, and this is possible, but in my opinion, he would be  better served if he at least put some of the things out there for  all to see-when the appetite, so to speak, if he want people to  subscribe. as it is, i would not bother.  ~ ~ ~ ~  what does one expect from a site like netsbestinfo? some useful  resources and some useful tips and also some forms of easy  advertisement on the net. but what we get here is a newsletter  with the owner (whose email reads damorgarjr @ yahoo. com)  asking us to subscribe us to his newsletter for a free 4-line ad.  he also tells of paid category of advertisements. this is all we get  from a site which has a grand title. even the information about  the newsletter is hardly impressive and is presented in about 35-to-40  points size which gets difficult to read.  ~ ~ ~ ~  a neat enough site but the background could be a little hard on  the eyes. there is only really one problem with this page-its  just an advertisement for a newsletter. no, scratch that, its an  advertisement to place free ads in a newsletter. a bold enough  move perhaps but i learned hardly anything about the newsletter  itself and immediately started worrying about getting a flood of  ads to my email account so i didn&#39;t even subscribe. presumably  you&#39;d want to get people to sign up so might i suggest splitting  the page into the newsletter itself, perhaps a sample issue,  a privacy policy and a promise not to drown in ads and then click  for more info on your free ads.  ________________________________________  vote on your favorite website design!  help out the winner of the free website redesign by voting for  your favorite!  you can help out teddy at links 4 profit. com by taking a  look at his site, then checking out the three new layouts jana of  akkabay designs akkabay. com has designed specifically  for him. after you&#39;ve visited all three, vote for your favorite.  to make this as easy as possible for you, just click on the e-mail  address that matches your choice-you do not need to enter  any information in the subject or body of the message.  i have included a note from jana, and the links to teddy&#39;s  current site along with the three new designs:  &gt; from jana: the pages have been created as non-frame pages  although with minor modification, the pages could be adapted  for use in a frames environment  please take a look at the existing site: http:// www. links 4 profit. com  here are the 3 redesigns:  vote for this design: designl @ aeopublishing. com  vote for this design: design 2 @ aeopublishing. com  vote for this design: design 3 @ aeopublishing. com  you will have all of this week to vote (through june 29), and  we&#39;ll list the favorite and most voted for layout next week.  teddy of course will be able to choose his favorite, and  colors, font style/size, backgrounds, textures, etc, can all  easily be changed on the &quot;&quot; layout &quot;&quot; that he likes.  free website re-designs and original graphics are provided to  fln showcase winners courtesy of akkabay designs.  http:// akkabay. com  if you have any questions about how this works or how you can  participate, please email amy at moderator  moderator: amy mossel  posting: myinput @ aeopublishing. com  send posts and questions (or your answers) to:  myinput @ aeopublishing. com  please send suggestions and comments to:  moderator @ aeopublishing. com  to change your subscribed address, send both new  and old address to moderator @ aeopublishing. com  see below for unsubscribe instructions.  copyright 2001 aeopublishing  -----end of your membership exchange  this email has been sent to jm @ netnoteinc. com at your  request, by your membership newsletter services.  visit our subscription center to edit your interests or unsubscribe.  http:// ccprod. roving. com/roving/d. jsp? p = oo &amp; id = bd 7 n 7877. a 4 dfur 67 &amp; m = bd 7 n 7877 charset = iso-8859-1  your membership exchange, issue # 423  june 28,2001  this email was sent to jm @ netnoteinc. com, at your request, by your membership newsletter services.  visit our subscription center to edit your interests or unsubscribe.  view our privacy policy.  powered by &quot;
0011.2003-12-18.GP	1	 sup. er cha. rge your m. an hood today jvbe kfbtyra xes	&quot; hello,  generic and super viagra (cialis) available online!  most trusted online source!  cialis or (super viag)  takes affect right away &amp; lasts 24-36 hours!  for super viagra click here  generic viagra  costs 60% less! save a lot of money.  for viagra click here  both products shipped discretely to your door  not interested?  dycmpf  s uuz  biwven&quot;
0011.2004-08-01.BG	1	 dicine site on the net.	&quot; hello! nothing sharpens sight like envy. nature should have been pleased to have made this age miserable, without making it also ridiculous.  searching for medication on the net? milestone anheuser  we ` ve got anything you will ever want. pibrochs treasonous  free claiis sample with any order! arthur convincible tithable pilocystic initializes  there are only two ways of getting on in the world: by one&#39;s own industry, or by the stupidity of others. my conscience aches but it&#39;s going to lose the fight. peace is the first thing the angels sang.&quot;
0012.1999-12-14.farmer	0	 re: entex transistion	&quot; thanks so much for the memo. i would like to reiterate my support on two key  issues:  1). thu-best of luck on this new assignment. howard has worked hard and  done a great job! please don&#39;t be shy on asking questions. entex is  critical to the texas business, and it is critical to our team that we are  timely and accurate.  2). rita: thanks for setting up the account team. communication is  critical to our success, and i encourage you all to keep each other informed  at all times. the p &amp; l impact to our business can be significant.  additionally, this is high profile, so we want to assure top quality.  thanks to all of you for all of your efforts. let me know if there is  anything i can do to help provide any additional support.  rita wynne  12/14/99 02:38:45 pm  to: janet h wallis/hou/ect @ ect, ami chokshi/corp/enron @ enron, howard b  camp/hou/ect @ ect, thu nguyen/hou/ect @ ect, kyle r lilly/hou/ect @ ect, stacey  neuweiler/hou/ect @ ect, george grant/hou/ect @ ect, julie meyers/hou/ect @ ect  cc: daren j farmer/hou/ect @ ect, kathryn cordes/hou/ect @ ect, rita  wynne/hou/ect, lisa csikos/hou/ect @ ect, brenda f herod/hou/ect @ ect, pamela  chambers/corp/enron @ enron  subject: entex transistion  the purpose of the email is to recap the kickoff meeting held on yesterday  with members from commercial and volume managment concernig the entex account:  effective january 2000, thu nguyen (x 37159) in the volume managment group,  will take over the responsibility of allocating the entex contracts. howard  and thu began some training this month and will continue to transition the  account over the next few months. entex will be thu&#39;s primary account  especially during these first few months as she learns the allocations  process and the contracts.  howard will continue with his lead responsibilites within the group and be  available for questions or as a backup, if necessary (thanks howard for all  your hard work on the account this year!).  in the initial phases of this transistion, i would like to organize an entex  &quot;&quot; account &quot;&quot; team. the team (members from front office to back office) would  meet at some point in the month to discuss any issues relating to the  scheduling, allocations, settlements, contracts, deals, etc. this hopefully  will give each of you a chance to not only identify and resolve issues before  the finalization process, but to learn from each other relative to your  respective areas and allow the newcomers to get up to speed on the account as  well. i would encourage everyone to attend these meetings initially as i  believe this is a critical part to the success of the entex account.  i will have my assistant to coordinate the initial meeting for early 1/2000.  if anyone has any questions or concerns, please feel free to call me or stop  by. thanks in advance for everyone&#39;s cooperation...........  julie-please add thu to the confirmations distributions list&quot;
0012.1999-12-14.kaminski	0	 re: new color printer	&quot; monday will be perfect!  location-ebl 944 b  r. c. 0011  co. # 100038  thanks  kevin moore  ----------------------forwarded by kevin g moore/hou/ect on 12/14/99 10:44  am---------------------------  enron technology  from: lyn malina 12/14/99 09:22 am  to: kevin g moore/hou/ect @ ect  cc:  subject: re: new color printer  i will order today for delivery on monday, unless you need faster delivery.  please advise co/rd to charge against.  thanks  lyn  kevin g moore  12/14/99 09:21 am  to: lyn malina/hou/ect @ ect  cc:  subject: re: new color printer  ----------------------forwarded by kevin g moore/hou/ect on 12/14/99 09:17  am---------------------------  kevin g moore  12/14/99 08:13 am  to: vince j kaminski/hou/ect @ ect, mike a roberts/hou/ect @ ect  cc:  subject: re: new color printer  yes! right away, please  also let me know the e. t. a.  thanks, lyn  kevin moore&quot;
0012.2000-01-17.beck	0	 global risk management operations	&quot; sally, congratulations.  ----------------------forwarded by cindy olson/corp/enron on 01/17/2000  09:07 pm---------------------------  from: rick causey 01/17/2000 06:04 pm  sent by: enron announcements  to: all enron worldwide  cc:  subject: global risk management operations  recognizing enron , s increasing worldwide presence in the wholesale energy  business and the need to insure outstanding internal controls for all of our  risk management activities, regardless of location, a global risk management  operations function has been created under the direction of sally w. beck,  vice president. in this role, sally will report to rick causey, executive  vice president and chief accounting officer.  sally , s responsibilities with regard to global risk management operations  will mirror those of other recently created enron global functions. in this  role, sally will work closely with all enron geographic regions and wholesale  companies to insure that each entity receives individualized regional support  while also focusing on the following global responsibilities:  1. enhance communication among risk management operations professionals.  2. assure the proliferation of best operational practices around the globe.  3. facilitate the allocation of human resources.  4. provide training for risk management operations personnel.  5. coordinate user requirements for shared operational systems.  6. oversee the creation of a global internal control audit plan for risk  management activities.  7. establish procedures for opening new risk management operations offices  and create key benchmarks for measuring on-going risk controls.  each regional operations team will continue its direct reporting relationship  within its business unit, and will collaborate with sally in the delivery of  these critical items. the houston-based risk management operations team under  sue frusco , s leadership, which currently supports risk management activities  for south america and australia, will also report directly to sally.  sally retains her role as vice president of energy operations for enron  north america, reporting to the ena office of the chairman. she has been in  her current role over energy operations since 1997, where she manages risk  consolidation and reporting, risk management administration, physical product  delivery, confirmations and cash management for ena , s physical commodity  trading, energy derivatives trading and financial products trading.  sally has been with enron since 1992, when she joined the company as a  manager in global credit. prior to joining enron, sally had four years  experience as a commercial banker and spent seven years as a registered  securities principal with a regional investment banking firm. she also owned  and managed a retail business for several years.  please join me in supporting sally in this additional coordination role for  global risk management operations.&quot;
0012.2000-06-08.lokay	0	 what do you want to know today?	&quot; &quot;&quot; a man with a new idea is a crank until he succeeds. &quot;&quot;  -mark twain  innovation, itself, is nothing new. the word comes to us from the latin  innovatus, which is a good indication of how long the concept has been  around. people have been searching for the &quot;&quot; next big thing &quot;&quot; for thousands of  years.  we have quite a tradition of innovation here at enron. although consistent  innovation may sound like an oxymoron, we pride ourselves on consistently  outpacing our peers with innovative ideas.  how do you think enron can maintain its edge into the new century? what will  be our &quot;&quot; next big thing? &quot;&quot; put your best foot forward, visit emeet and share  your ideas in &quot;&quot; creativity and innovation &quot;&quot; that will keep enron at the top.&quot;
0012.2001-02-09.kitchen	0	 travel	&quot; i will be out of the office this afternoon (friday) until wednesday night. (i will be available on my cell phone 713 306-6207) if you have any questions please feel free to contract my team for questions. i have been &quot;&quot; cross training &quot;&quot; both individuals so that we can be more effective in addressing var and trade related questions.  thanks,  frank  bharat khanna (gas) ext. 54804  lacrecia davenport ext. 35782&quot;
0012.2003-12-19.GP	1	NA	 great specials today on:  tramadol  phentermine 30 mg  60 more products to choose from.  http:// wsc. settingt 5. com/fp 
0013.1999-12-14.farmer	0	 entex transistion	&quot; the purpose of the email is to recap the kickoff meeting held on yesterday  with members from commercial and volume managment concernig the entex account:  effective january 2000, thu nguyen (x 37159) in the volume managment group,  will take over the responsibility of allocating the entex contracts. howard  and thu began some training this month and will continue to transition the  account over the next few months. entex will be thu&#39;s primary account  especially during these first few months as she learns the allocations  process and the contracts.  howard will continue with his lead responsibilites within the group and be  available for questions or as a backup, if necessary (thanks howard for all  your hard work on the account this year!).  in the initial phases of this transistion, i would like to organize an entex  &quot;&quot; account &quot;&quot; team. the team (members from front office to back office) would  meet at some point in the month to discuss any issues relating to the  scheduling, allocations, settlements, contracts, deals, etc. this hopefully  will give each of you a chance to not only identify and resolve issues before  the finalization process, but to learn from each other relative to your  respective areas and allow the newcomers to get up to speed on the account as  well. i would encourage everyone to attend these meetings initially as i  believe this is a critical part to the success of the entex account.  i will have my assistant to coordinate the initial meeting for early 1/2000.  if anyone has any questions or concerns, please feel free to call me or stop  by. thanks in advance for everyone&#39;s cooperation...........  julie-please add thu to the confirmations distributions list&quot;
0013.1999-12-14.kaminski	0	 re: new color printer	&quot; this is the color printer that is being ordered.  here is the info. that i needed.  thanks  kevin moore  ----------------------forwarded by kevin g moore/hou/ect on 12/14/99 08:19  am---------------------------  enron technology  from: lyn malina 12/14/99 08:09 am  to: kevin g moore/hou/ect @ ect  cc:  subject: re: new color printer  kevin:  the color printer we currently order is the 4500 n for$ 2753. 00. please let  me know if this is the one you would like to order.  thanks  lyn  kevin g moore  12/14/99 06:29 am  to: lyn malina/hou/ect @ ect  cc:  subject: new color printer  ----------------------forwarded by kevin g moore/hou/ect on 12/14/99 06:29  am---------------------------  kevin g moore  12/14/99 06:27 am  to: shirley crenshaw/hou/ect @ ect, vince j kaminski/hou/ect @ ect, mike a  roberts/hou/ect @ ect  cc:  subject: new color printer  we are in need of a new color printer.  we are also in the process of moving to the 19 th floor.  we need the color printer a. s. a. p.  if you would please, i need information concerning this  matter whereby, we can get the printer ordered and delivered  to our new location.  thanks  kevin moore&quot;
0013.2001-04-03.williams	0	 re: monday blues	&quot; good morning. i&#39;m glad to hear that you are having a better day today. me, too so far. yeah, i stayed last night until like 7:45 and finished up that stuff with mike etringer. so today should be a bit more chill for me which is awesome. anyhow, i hope nothing blows up over there for you. maybe we can go to get some coffee later or something. did you end up going out last night for some beers? i watched alli mcbeal and ate dinner. it was pretty exciting.&quot;
0013.2001-06-30.SA_and_HP	1	 your membership community charset = iso-8859-1	&quot; your membership community &amp; commentary (june 29,2001)  it&#39;s all about making money  information to provide you with the absolute  best low and no cost ways of providing traffic  to your site, helping you to capitalize on the power and potential the web brings to every net-preneur.  ---this issue contains sites who will trade links with you!---  -------------  in this issue  -------------  32 easy ways to breath new life into any webpage  member showcase  are you ready for your 15 minutes of fame?  win a free ad in community &amp; commentary  | | | =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=&gt;&gt;  today&#39;s special announcement:  | | | =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=&gt;&gt;  we can help you become an internet service provider within 7 days or we will give you$ 100. 00!!  click here  we have already signed 300 isps on a 4 year contract,  see if any are in your town at:  click here  you are a member in at least one of these programs  -you should be in them all!  bannersgomlm. com  profitbanners. com  cashpromotions. com  mysiteinc. com  timshometownstories. com  freelinksnetwork. com  myshoppingplace. com  bannerco-op. com  putpeel. com  putpeel. net  sellinternetaccess. com  be-your-own-isp. com  seventhpower. com  =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=  32 easy ways to breath new life into any webpage  =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=  it&#39;s true.  ask the ceos of yahoo. com and america online. they&#39;ll  tell you it&#39;s true. send an email to terry dean or allen  says or jim daniels and ask them about it. they&#39;ll agree  100% that it&#39;s true. don&#39;t just take my word for it.  in fact, you can contact any of the 10,000 folks online  selling web marketing resources, and they will all tell you  emphatically, without question, no doubts whatsoever, that  it is absolutely true.  it&#39;s true. anyone can earn a living online. really, they  can. but, it takes several very important components to  join the 5% who are successful on the web.  one of those necessities is a website.  now, your website does one of two things...  ... it either makes the sale, or it doesn&#39;t.  for 95% of online businesses, their websites simply do  not produce results.  and there is a very simple reason for poor performance.  poor sales letters.  does your website convince people to make a purchase?  if not, here are 32 easy ways to breathe new life into  your sales letter...  1) write your sales letter with an individual in mind.  go ahead and pick out someone, a real person to write your  sales letter to. doesn&#39;t matter if it is grandma or your  next door neighbor or your cat. write your sales letter  just like you are writing it to them personally. why?  because when your potential customer reads, it then it will  seem personal, almost like you wrote it with them in mind.  too often, sales letters are written as if they were going  to be read to an audience rather than one person. keep your  sales letters personal, because one person at a time is  going to read them.  2) use an illustration to get your point across. in my  sales letters i have told stories about my car stalling on  the side of the road to illustrate the idea that we must  constantly add the fuel of advertising to keep our  businesses running. i have compared the hype of easily  making millions online to the chances of me riding bareback  across montana on a grizzly bear. leads have read of how  getting to the top of an oak tree relates to aggressively  marketing online. people love a good story that pounds home  a solid message. tell stories that illustrate a point you  are trying to make. emphasize a benefit by sharing an  account from the &quot;&quot; real world. &quot;&quot; it effectively creates  interest and further establishes the point.  3) create an interest in the reader from the very first  line. your first line of the sales letter should  immediately create a desire in the reader to want to know  more. go back to the beginning of this article. the first  words were, &quot;&quot; it&#39;s true. &quot;&quot; i can guarantee you that either  consciously or subconsciously you thought &quot;&quot; what&#39;s true? &quot;&quot;  immediately, your mind wanted to know what i was talking  about. before you even knew it you were right here, 8  paragraphs into this article. carefully craft your first  line. if you can immediately get them wanting to know more,  you&#39;ve got a winner.  4) use bullets. people spend a lot of time reading bulleted  lists. in fact, they often reread them over and over. use  bulleted lists to stress the benefits of your product or  service, to spell out exactly what is included in your offer.  use an extra space in between each bullet to really highlight  each line and create a sense of more length to the list.  5) launch into a bullet list immediately. shortly after  your opening line, immediately give the reader a bullet  list of benefits to absorb. hit them with your best shot.  pull out the big guns and stress &quot;&quot; just a few of &quot;&quot; the most  important things the reader will discover. by offering a  killer list early in your sales letter, you will automatically  create a desire in the reader to continue through your ad  copy. after all, if they are already interested after the  first list of benefits, they will certainly be open to  finding out even more reasons why your product or service  will aid them.  6) just let it all flow out. write down everything that  enters your mind as you are writing your sales letter. you  can edit it later. if you just sit and start writing  everything you know about your product or service and how it  will benefit your customer, you will be amazed at how much  information floods your mind. write it all down. then read  through it-you&#39;ll be able to add a lot more detail to  many of the points. edit it after you have exhausted all  of your ideas.  7) make your sales letter personal. make sure that the  words &quot;&quot; you &quot;&quot; and &quot;&quot; your &quot;&quot; are at least 4: 1 over &quot;&quot; i &quot;&quot; and &quot;&quot; my. &quot;&quot;  your ad copy must be written about your customer not  yourself. i&#39;m not sure how the old advertising adage goes,  but it&#39;s something like this, &quot;&quot; i don&#39;t care a thing about  your lawn mower, i just care about my lawn. &quot;&quot; leads aren&#39;t  interested in you or your products, they are interested in  themselves and their wants and needs. when you are finished  with your sales letter and have uploaded it to a test  webpage, run a check at http:// www. keywordcount. com and see  what the ratio between &quot;&quot; you &quot;&quot; and &quot;&quot; your &quot;&quot; versus references to  &quot;&quot; i, &quot;&quot; &quot;&quot; me, &quot;&quot; &quot;&quot; my, &quot;&quot; etc. it&#39;s a free service. make sure it&#39;s  at least 4: 1 in favor of the customer.  8) write like you speak. forget all of those rules that  your grammar teacher taught you. write your sales letters  in everyday language, just like you would talk in person.  don&#39;t be afraid to begin sentences with &quot;&quot; and &quot;&quot; or &quot;&quot; because. &quot;&quot;  don&#39;t worry about ending a sentence with a preposition.  write like you speak. your sales letter isn&#39;t the great  american novel, so don&#39;t write it like you are ernest  hemingway.  9) use short paragraphs consisting of 2-4 sentences each.  long copy works... but long paragraphs do not. use short  paragraphs that lead into the next paragraph. don&#39;t be  afraid to use short sentences. like this one.  or this.  see what i mean? shorter paragraphs keep the interest of  the reader. longer paragraphs cause eye strain and often  force the reader to get distracted.  10) stress the benefits, not the features. again,  readers want the burning question answered, &quot;&quot; what&#39;s in it  for me? &quot;&quot; what need is it going to meet? what want is it  going to fill? how is your product or service going to be  of value or benefit to the reader? spell it out. don&#39;t  focus on the features of your product or service, but  rather how those features will add value to the life of your  reader.  for example: if you are selling automobile tires, you may  very well have the largest assortment of tires in the world,  but who cares? i don&#39;t care about your selection. but, i  do care about keeping my 3-month-old baby girl safe while  we are traveling. so, instead of focusing on your selection,  you focus on the fact that my baby girl can be kept safe  because you have a tire that will fit my car. you&#39;re not  selling tires, you&#39;re selling safety for my family. stress  the benefits, not the features.  11) keep the reader interested. some sales letters read  like they are a manual trying to explain to me how i can  perform some complicated surgery on my wife. they are  filled with words and phrases that i need a dictionary to  understand. unless you are writing to a very targeted  audience, avoid using technical language that many readers  might not understand. keep it simple, using words, language  and information that are easy to understand and follow.  12) target your sales letter. when you are finished with  your final draft of the sales letter, target it to a  specific audience. for example: if you are selling a &quot;&quot; work  at home &quot;&quot; product, then rewrite the sales letter by adding  words in the headlines and ad copy that are targeted towards  women who are homemakers. then, rewrite the same sales  letter and target it to college students. write another  letter targeting senior citizens. still another could be  written to high school teachers wanting to earn extra income  during summer vacation. the possibilities are endless.  all you need to do is add a few words here and there in  your ad copy to make it appear that your product or service  is specifically designed for a target audience. &quot;&quot; work only  5 hours a week, &quot;&quot; would become &quot;&quot; college students, work only  5 hours a week. &quot;&quot; your sales letter is now targeted. upload  all of the sales letters to separate pages on your website  (you could easily target 100&#39;s of groups).  then, simply advertise the targeted pages in targeted  mediums. you could advertise the &quot;&quot; college students &quot;&quot; page  in a campus ezine. the &quot;&quot; senior citizens &quot;&quot; page could be  advertised at a retirement community message board.  by creating these targeted sales letters, you can literally  open up dozens of new groups to sell your existing product  to. and, in their eyes, it looks like the product was a  match made for them.  13) make your ad copy easy to follow. use short sentences  and paragraphs. break up the sales letter with attention  grabbing headlines that lead into the next paragraph. one  thing that i have always found to work very well in sales  letters...  ... is to use a pause like this.  start the sentence on one line, leaving the reader wanting  to know more, and then finishing up on the next line. also,  if you are going to use a sales letter that continues on  several different pages of your website, use a catchy hook  line at the end of each page to keep them clicking. &quot;&quot; let&#39;s  get you started down the road to success, shall we? click  here to continue. &quot;&quot;  14) use similes and metaphors for effect. when the  customer purchases your product, they will generate &quot;&quot; a flood  of traffic that would make noah start building another ark. &quot;&quot;  if they do not order today, then they will &quot;&quot; feel like a cat  that let the mouse get away. &quot;&quot; use words to create a picture  in the readers&#39;mind. when you think of superman, what  comes to mind? immediately, we remember that he is &quot;&quot; faster  than a speeding bullet. &quot;&quot; &quot;&quot; more powerful than a locomotive. &quot;&quot;  &quot;&quot; able to leap tall buildings in a single bound. &quot;&quot; see how  word pictures stick in our minds?  15) focus on one product or service. don&#39;t try to sell  your customer multiple products at the same time. it only  confuses the reader. keep your ad copy directed at one  specific product or service. then, use other products and  services as back-end products.  16) make it stand out. don&#39;t kid yourself. there are  hundreds, maybe thousands out there on the web doing the  same thing you are doing. how will you stand out among the  crowd? your sales letter must inject personality. it must  breathe of originality. your product or service is  different. it&#39;s not like all of the rest. it is unique.  right? your sales letter must separate you from the  competition. it must create a feeling of &quot;&quot; you won&#39;t find  this anywhere else. &quot;&quot;  17) be believable. &quot;&quot; earn$ 54,000 in the next 24 hours!!! &quot;&quot;  delete. good grief, do they think i am an idiot or  something? get real. don&#39;t make outrageous claims that  are obviously not the truth. you&#39;ll ruin your reputation.  let me tell you a simple universal fact that cannot be  reversed. once you have been branded a liar, you will  never be anything but a liar. it doesn&#39;t matter if you  launch the most respectable, honest business available  anywhere, people will always have doubt because they  remember the crazy stuff you&#39;ve said before. be believable.  don&#39;t exaggerate, mislead, stretch or distort the truth.  18) be specific. don&#39;t generalize your information, but  rather be exact. instead of &quot;&quot; over 100 tips for losing  weight &quot;&quot; use &quot;&quot; 124 tips for losing weight. &quot;&quot; by generalizing  information, it creates doubt and questions in the reader&#39;s  mind. &quot;&quot; what am i really getting here? does he even know? &quot;&quot;  when you use specific information, the reader begins to  think, &quot;&quot; this person must have counted. i know exactly what  i can expect. &quot;&quot; &quot;&quot; platitudes and generalities roll off the  human understanding like water from a duck, &quot;&quot; wrote claude  hopkins in his classic book &quot;&quot; scientific advertising. &quot;&quot; &quot;&quot; they  leave no impression whatsoever. &quot;&quot;  19) be complete. tell the reader everything they would  want to know about your product or service. answer all of  their questions, anything they would want to consider before  making a purchase. think about it from their point of view.  ask yourself, &quot;&quot; why wouldn&#39;t i buy this? &quot;&quot; then, address that  in your sales letter. remove anything that would keep the  reader from making the purchase.  20) use testimonials to boost your sales. share actual  excerpts from what your current customers are saying about  your product or service. many websites have an entire  section or even a separate page that has endorsements and  compliments listed. satisfied customers remove some of the  doubt in the mind of the reader. &quot;&quot; if these people have  found a lot of value and benefit in the product, then i  probably will too. &quot;&quot; especially effective are testimonials  from respected, well known &quot;&quot; authorities &quot;&quot; within your target  field.  21) use headlines over and over throughout the sales letter.  a headline isn&#39;t just relegated to the beginning of your  ad copy. use them frequently-but don&#39;t overuse. a well-  placed headline re-grabs the reader&#39;s attention, brings  them deeper into the letter, and readies them for the next  paragraph. you will want to spend as much time working on  your headlines as you do the entire sales letter. they are  that important.  22) avoid asking stupid questions. &quot;&quot; wouldn&#39;t you like to  make$ 1,000, 000 a year? &quot;&quot; &quot;&quot; doesn&#39;t that sound great? &quot;&quot; &quot;&quot; would  you like to be as successful as i am? &quot;&quot; avoid any question  that insults the intelligence of your reader or makes them  feel like they are inferior.  23) offer a freebie even if the customer doesn&#39;t buy.  if the customer decides he or she isn&#39;t going to make a  purchase, then you want to follow-up with them later to try  to influence them to buy in the future. by offering a free  item, you can request their email address in order to  obtain the freebie. by doing this, you can now follow-up  with the customer for a potential future sale.  additionally, you can continue the sales process by having  your ad copy, banners, flyers, etc. within the free item.  and, of course, if your free item is a high quality, useful  product or service which impresses the customer, they  probably will be back as a customer soon.  24) use bonuses to overwhelm the reader. one of the things  that i have found very effective in writing sales letters  is to include bonus items that out-value the actual product  i am offering. ginsu made this one famous. they were  selling a set of steak knives, but before the commercial  was finished, you had so many bonus items on the table  it was hard to refuse. make sure you provide quality  bonuses and not some worthless, outdated junk that damages  the credibility of your main offer.  25) use connective phrases like &quot;&quot; but wait, there&#39;s more &quot;&quot;  and &quot;&quot; but that&#39;s not all. &quot;&quot; these phrases effectively lead  the reader from one paragraph to the next, particularly  when the next paragraph is a bullet list of benefits, or  leads into bonus items. again, the idea is more and more  value and benefits to the reader.  26) always include a deadline. by including a deadline,  you create a sense of urgency in the mind of the customer.  &quot;&quot; if i don&#39;t order within 24 hours, then i won&#39;t get the  bonuses. &quot;&quot; &quot;&quot; oh no, there are only 10 items remaining,  i&#39;ve got to hurry. &quot;&quot; let the customer know what they will  be missing out on if they don&#39;t make the deadline. remember,  they won&#39;t miss out on your products or bonuses, they will  miss out on all of the benefits of your products. deadlines  are very effective. every sales letter should have one.  27) tell them exactly how to order. be clear as to the  order process. point them towards the order link. tell  them what methods you offer. (i. e. credit cards, checks,  etc.) make this process as simple and clear as can be.  if it takes more than 2 steps, most people won&#39;t continue.  28) explain when the product will be delivered. how  quickly will the order be processed? when will the order be  available? let the customer know exactly what they can  expect when they place their order. the more specific you  can be here, the better. let them know that you have a  system in place. &quot;&quot; operators are standing by. &quot;&quot; their order  will be handled properly. tell them.  29) offer a money back guarantee. take away their last  reason to hold back. offer a &quot;&quot; no questions asked &quot;&quot; 30 day  guarantee. most people may not realize this, but in most  cases, it&#39;s the law of the land. you are required to give  them their money back if they are not satisfied with the  product or service. since it&#39;s the law anyway, why not make  it a benefit. let them know that they are purchasing your  product or service risk-free.  30) instruct them to respond immediately. many people  just need to read those words, &quot;&quot; act now! &quot;&quot; &quot;&quot; order today! &quot;&quot;  &quot;&quot; click here to instantly place your order. &quot;&quot; you&#39;ve got them  this far, now tell them what you want them to do. get them  to &quot;&quot; act fast! &quot;&quot; have you ever heard a mail order commercial  on television that didn&#39;t prompt the viewer to order right  way?  31) include a post script. people will always read the  p. s. always. in fact, the p. s. is one of the most important  parts of your sales letter. why? because in many cases the  visitor at your website will scroll immediately down to the  end of your page to see how much it is going to cost. a  p. s. is a perfect place to recap your offer, so when they  see your price tag, they will also see a very detailed  description of what they will receive for their money. use  your p. s. to restate your offer in detail.  32) include a second post script. you better believe  if they read the first p. s., they will read a p. p. s. use  this post script to remind them of the deadline or offer  another bonus or point out some compelling factor that would  make them want to order. i guarantee you they will read it.  use these 32 tips and i guarantee you that you will see  a significant increase in the amount of responses you  receive from your sales letters. in fact, it would be  impossible for your responses to not improve.  copyright 2000 jimmy d. brown. all rights reserved worldwide.  -------------------------------------  about the author...  jimmy d. brown is helping average people get out of  the rat-race and earn a full-time living online. for  more details on firing your boss and creating your  own internet wealth, visit us right now at:  * special offer: join the profits vault through the above  link and email me your receipt and you can have a free bonus  copy of the terrific manual-how to profit from free  ebooks guaranteed which i sell at:  =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=  member showcase  =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=  examine carefully-those with email addresses included will  trade links with you... you are encouraged to contact them.  there are many ways to build a successful business-just look at  these successful sites programs other members are involved  in...  affiliates of the world!  top rated affiliate programs, excellent business opportunities,  great marketing resources and free advertising for you!  visit the site to trade links. http:// www. affiliates. uk. com  trade links-adrianbold @ affiliates. uk. com  get insane amounts of traffic to your website.  purchase 10,000 guaranteed visitors to your site  and receive 5,000 free. more traffic = more money!  less than 2 cents a visitor. space is limited.  order now! http:// www. freepicklotto. com  trade links-businessopps @ aol. com  celebration sale!  $ 99. 00 on casinos/sportsbetting sites, lingerie stores,  gift stores, adult sites toy stores.  mention ad # bmlm 99 to receive this special sale price.  order now!  http:// www. cyberopps. com/? = bmlm 99  just been released!!  internet marketing guru corey rudl has just released a  brand new version of his # 1 best-selling internet marketing  course, &quot;&quot; the insider secret&#39;s to marketing your business on  the internet &quot;&quot;. a must have! so don&#39;t hesitate,  visit.. http:// www. adminder. com/c. cgi? startbgmlmezine  we have a 260 page catalog with over 3000 gift items for men,  women, children-a gift for everyone. we show 100 gift items  on our web site alone, with the catalog you have access to  the rest. we also feel we have the best prices on the web.  visit at http:// www.. net  trade links-georgel 932 me @ yahoo. com  stop smoking-free lesson!!  discover the secret to stopping smoking.  to master these powerful techniques, come to  http:// www. breath-of-life. net  for your free lesson.  act now! p. s. tell someone you care about.  trade links-jturco 3 @ hotmail. com  if you have a product, service, opportunity or quality merchandise  that appeals to people worldwide, reach your targeted audience!  for a fraction of what other large newsletters charge you can exhibit  your website here, and trade links for only$ 8 cpm. compare  that  to the industry average of$ 10-$ 15 cpm. why?... because as a  valuable member we want you to be successful! order today-  showcases are limited and published on a first come, first serve  basis.  for our secure order form, click here: http:// bannersgomlm. com/ezine  =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=  are you ready for your 15 minutes of fame?  =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=  one of the items we would like to include in community  commentary we&#39;ll need from you! here is your chance to  showcase your marketing strategies, and i need to hear  from everyone who would like to&#39;blow your own horn&#39;and  be in the spotlight on center stage.  it&#39;s a great way to enjoy recognition and publicity for  yourself and your business, and will allow all members to  duplicate your success and avoid the same&#39;setbacks&#39;.  please include... a little background history, how you got  your start, a problem you have had and how you solved it,  your greatest success, and any advice you have for someone  beginning to market online.  send your information to submit @ aeopublishing. com &gt;  with&#39;center stage&#39;in the subject block.  =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=  win a free ad in community &amp; commentary  =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=  to keep this interesting, how about this, every month we&#39;ll  draw a name from the replies and that person will win one  sponsorship showcase ad in the community commentary, for free.  that&#39;s a value of over$ 700. 00! respond to each weekly survey,  and increase your chances to win with four separate entries.  question  of the week (06/29/01)...  no right or wrong answers, and just by answering  you are entered to win a showcase ad-free!  ~ ~ ~ what is the goal of your website? ~ ~ ~  sell  mailto: one @ aeopublishing. com  get leads  mailto: two @ aeopublishing. com  build branding  mailto: three @ aeopublishing. com  provide information mailto: four @ aeopublishing. com  other  mailto: five @ aeopublishing. com  to make this as easy as possible for you, just click on the  e-mail address that matches your answer-you do not need to  enter any information in the subject or body of the message.  * * add your comments! follow directions above and  add your comments in the body of the message, and we&#39;ll  post the best commentaries along with the responses.  you will automatically be entered in our drawing for a free  sponsorship ad in the community commentary. please  respond only one time per question. multiple responses  from the same individual will be discarded.  =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=  =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=  to change your subscribed address,  send both new and old address to submit  see below for unsubscribe instructions.  please send suggestions and comments to: editor  i invite you to send your real successes and showcase  your strategies and techniques, or yes, even your total bombs,  &quot;&quot; working together we can all prosper. &quot;&quot; submit  for information on how to sponsor your membership  community commentary visit: sponsorship  showcase  copyright 2001 aeopublishing. com  email: yourmembership 2 @ aeopublishing. com  voice:  web: http:// www. aeopublishing. com  this email has been sent to jm @ netnoteinc. com at your  request, by your membership newsletter services.  visit our subscription center to edit your interests or unsubscribe.  http:// ccprod. roving. com/roving/d. jsp? p = oo &amp; id = bd 7 n 7877. 6 w 8 clu 67 &amp; m = bd 7 n 7877 charset = iso-8859-1  in this issue  32 easy ways to breath new life into any webpage  member showcase  are you ready for your 15 minutes of fame?  win a free ad in community &amp; commentary  today&#39;s special announcement:  this email was sent to jm @ netnoteinc. com, at your request, by your membership newsletter services.  visit our subscription center to edit your interests or unsubscribe.  view our privacy policy.  powered by &quot;
0013.2004-08-01.BG	1	 take the reins	&quot; become  your employer.  substantial profit processing money judgments.  from anywhere.  control when you want to work.  a substantial number of our members earn 5,000 us to 12,000 us per mo.  outstanding customer support and assistance.  here for more  info  while the couple were apparently examining the strange device, rob  started to his feet and walked toward them  the crowd fell back at his approach, but the man and the girl were so  interested that they did not notice himhe was still several paces away when  the girl put out her finger and touched the indicator on the dial  discontinue orange stad, and then mail stop 1. 200 b, followed by a rub  a  to rob&#39;s horror and consternation the big turk began to rise slowly into  the air, while a howl of fear burst from the crowdbut the boy made a mighty  spring and caught the turk by his foot, clinging to it with desperate  tenacity, while they both mounted steadily upward until they were far above  the city of the desert  the big turk screamed pitifully at first, and then actually fainted away  from frightrob was much frightened, on his part, for he knew if his hands  slipped from their hold he would fall to his death &quot;
0014.1999-12-14.kaminski	0	 re: new color printer	&quot; sorry,  don&#39;t we need to know the cost, as well.  ----------------------forwarded by kevin g moore/hou/ect on 12/14/99 08:15  am---------------------------  kevin g moore  12/14/99 08:09 am  to: shirley crenshaw/hou/ect @ ect, mike a roberts/hou/ect @ ect  cc:  subject: re: new color printer  this information was also sent to it purchasing.  i need to know what options we have and how soon it  can be delivered.  don&#39;t we need to know as well? before purchase.  i also need a central location for this printer.  thanks  kevin moore  sam mentioned hp 4500, i will check into it.  ----------------------forwarded by kevin g moore/hou/ect on 12/14/99 08:05  am---------------------------  shirley crenshaw  12/14/99 07:55 am  to: kevin g moore/hou/ect @ ect  cc:  subject: re: new color printer  kevin:  what kind of information do you need? i thought you were going to look  at some colored printer literature. sam seemed to be aware of a  colored printer that might work for us. ask him. i don&#39;t think we need  anything as big as &quot;&quot; sapphire &quot;&quot;.  it will be located in your area on the 19 th floor.  thanks!  kevin g moore  12/14/99 06:27 am  to: shirley crenshaw/hou/ect @ ect, vince j kaminski/hou/ect @ ect, mike a  roberts/hou/ect @ ect  cc:  subject: new color printer  we are in need of a new color printer.  we are also in the process of moving to the 19 th floor.  we need the color printer a. s. a. p.  if you would please, i need information concerning this  matter whereby, we can get the printer ordered and delivered  to our new location.  thanks  kevin moore&quot;
0014.1999-12-15.farmer	0	 lst rev dec. 1999 josey ranch nom	&quot; fyi  ----------------------forwarded by susan d trevino/hou/ect on 12/15/99 08:40  am---------------------------  bob withers on 12/14/99 05:11:06 pm  to: susan d trevino/hou/ect @ ect  cc: stretch brennan, kevin mclarney,  &quot;&quot; taylor vance (e-mail) &quot;&quot;  subject: lst rev dec. 1999 josey ranch nom  susan: as we discussed, this change was missed but was discussed with you  last week. i apologize for the omission. i am checking with my field  personnel and anticipate a further reduction (due to well production  decreases) effective 12/15 which i will send under a separate email for an  &quot;&quot; intra-day &quot;&quot; change wednesday.  here&#39;s revised december 1999 (effective 12/9/99) setup for  josey: (using 1. 081 btu/mcf)  * gas deliveries into hpl  12,300 mmbtu/d for kri (net reduction of  1,000 mmbtu/d)  12,300 mmbtu/d into hpl  bob withers&gt;&lt;  kcs energy, 5555 san felipe, suite 1200  houston, tx 77056  voice mail/page 713-964-9434&quot;
0014.2001-02-12.kitchen	0	&quot; correction--conference call on tuesday, february 13 (800-229-028&quot;	&quot; 1)  ssb conference call  tuesday, february 13,2001  2:00 pm est  beyond california: the power however, the  markets foretell stronger prices across the country in 2001.  we continue to recommend the power producers, based on both our power price  and spark spread analyses, which show strengthening spark spreads in the  united states, despite the record highs recently seen in the natural gas  markets. we highlight calpine, nrg energy, and mirant.  our volatility indices demonstrate a dramatic shift in historical volatility  to the western hubs and away from the midwestern markets of 1998-99. we  expect volatility to persist in the west, likely accompanied by higher  volatility in the remainder of the country in 2001. this benefits energy  merchants, and we highlight enron, dynegy, duke, and el paso.  dial in  800-229-0281 us  706-645-9237 intl  replay  800-642-1687 us  706-645-9291 intl  reservation 735670 (replay until 2/15)  hosted by:  raymond niles  director  power &amp; natural gas research  salomon smith barney  212-816-2086  raymond c. niles  power/natural gas research  salomon smith barney  (212) 816-2807  ray. niles @ ssmb. com  s&quot;
0014.2001-07-04.SA_and_HP	1	 new accounts # 2 c 6 e	&quot; this is a mime message  content-type: multipart/alternative; boundary = &quot;&quot;----=_nextpart_001_0080_01 bdf 6 c 7. fabaclbo &quot;&quot;  content-type: text/plain; charset = &quot;&quot; iso-8859-1 &quot;&quot;  content-transfer-encoding: quoted-printable  * * * * * this is an html message! * * * * *  content-type: text/html; charset = &quot;&quot; iso-8859-1 &quot;&quot;  content-transfer-encoding: quoted-printable  complete credit card processing systems for your business = 2 e interne =  t-home  based-mail order-phone order  do you accept credit cards? your competition does!  everyone approved-credit problems ok!  approval in less than 24 hours!  increase your sales by 300%  start accepting credit cards on your website!  free information, no risk, 100% confidential = 2 e  your name and information will not be sold to thrid parties!  home businesses ok! phone/mail order ok!  no application fee, no setup fee!  close more impulse sales!  everyone approved!  good credit or bad! to =  apply today, please fill out  the express form below = 2 e it  contains all the information we need to get your account approved = 2 e for a =  rea&#39;s  that do not apply to you please put n/a in the box = 2 e  upon receipt, we&#39;ll fax you with all of the all bank card application  documents necessary to establish your merchant account = 2 e once returned we =  can  have your account approved within 24 hours = 2 e  service  industry  standard  us  site  inspection  $ 50-$ 75  free  shipping  $ 50-$ 75  free  warranty  $ 10 per month =  free  sales  receipts  $ 10-$ 50  free  fraud  screening  $ = 2 e 50-$ 1 = 2 eo 0  per transaction  free  amex set  up  $ 50-$ 75  free  24 hourhelp  line  $ 10 month  free  security  bond  $ 5000-$ 10,00 =  0  or more  none  this is a no  obligation qualification form and is your first step to  accepting credit cards = 2 e by filling out this form you will =  not  enter in to any obligations o =  r  contracts with us = 2 e we will use it to determine the best p =  rogram  to offer you based on the information you provide = 2 e you will be c =  ontacted by one of our representatives within 1-2 business days to go over =  the rest of your account set up = 2 e  note:  all information provided to us will remain =  100%  confidential  !!  apply  free with no risk!  pleas =  e fill out the  express application form completely = 2 eincomplete information m =  ay prevent us from properly  processing your application = 2 e  your full emai =  l address:  be sure to use your full address (i =  = 2 ee = 2 e  user @ domain = 2 ecom)  your name:  business name: =  business phone =  number:  home phone num =  ber:  type of busine =  ss:  retail business  mail order business  internet based busines =  s  personal credi =  t rating:  excellent  good  fair  poor  how soon would =  you like a merchant  account?  your info =  rmation is confidential, it will not be sold or used for any other purpose, =  and you are under no obligation = 2 e  your information will be used solely for the purpose of evaluating =  your business or website for a merchant account so that you may begin acce =  pting credit card payments = 2 e  list  removal/opt-out option  click  herem &quot;
0014.2003-12-19.GP	1	 get g: eneric via-gra for a s low as$ 2. 50 per 50 mg	 her type  http:// dutchess. reado 893. com/xm / 
0014.2004-08-01.BG	1	 today	&quot; hey,  last week, jo and me were talking about my prbolem and he said that he tried this  new thing from this site and it worked great for him.  cowry avoid http:// ns 2. herbalonline. biz/en/10/? aff_id = 00450 footmen give me  your thoughts on it and shoot me back an email and tell me what you found out if any.  any input would be appreciated it.  later,  small  flutter atreus absenteeism oriental stratagem hunt amigo attitudinal twice curio rental billion inclusive ruanda screwball birch walpole canary seward floe lisa monadic harriman capitol colloquy laborious expressway b&#39;s salaried beware delusive congratulatory ante.&quot;
0015.1999-12-14.kaminski	0	 imperial capital-thursday schedule	 the following is the schedule for thursday&#39;s meeting with imperial capital.  currently all meetings are scheduled in eb 2868. we are trying to arrange a  different conference room and will let you know if we obtain one.  9:00 am-jim fallon-electricity  9:30 am-fred lagrasta-gas  10:00 am-lynda clemmons and david kistler-weather  10:30 am-ed ondarza-pulp and paper  11:00 am-stinson gibner-research  12 noon-lunch  1:00 pm-5:00 pm-discussion  thanks in advance to all who will come to speak in the morning.
0015.1999-12-15.farmer	0	 2 nd rev dec. 1999 josey ranch nom	&quot; ----------------------forwarded by susan d trevino/hou/ect on 12/15/99 08:41  am---------------------------  bob withers on 12/15/99 08:28:08 am  to: susan d trevino/hou/ect @ ect  cc: stretch brennan, kevin mclarney,  &quot;&quot;&#39;taylor vance (e-mail)&#39;&quot;&quot;  subject: 2 nd rev dec. 1999 josey ranch nom  here&#39;s revised december 1999 (effective 12/15/99) setup for  josey: (using 1. 081 btu/mcf)  * gas deliveries into hpl  9,300 mmbtu/d for kri (net reduction of  3,000 mmbtu/d)  9,300 mmbtu/d into hpl  bob withers&gt;&lt;  kcs energy, 5555 san felipe, suite 1200  houston, tx 77056  voice mail/page 713-964-9434&quot;
0015.2000-06-09.lokay	0	&quot; tw weekly, 6-9-00&quot;	 please see the attached file and let me know if you have any questions.  ray stelly
0015.2001-02-12.kitchen	0	 california update 2/12	&quot; executive summary:  the likelihood of there being an involuntary bankruptcy filing against the utilities appears to be greater than 60%. this is not only due to the circumstances surrounding the filed rate doctrine case mentioned below, but also because the 30-day cure period during which the utilities have not been paying their bills will end this week, increasing the likelihood that their ipp creditors will act against them. if the state loses the filed rate doctrine case today (which it is believed will happen) and there is an involuntary bankruptcy filing (or even the threat of one), this bail-out plan will be enacted quickly.  1. utilities vs. cpuc  governor davis&#39;attempt to delay the filed rate doctrine case will not succeed. the case will come before the judge on monday, february 12 th. the federal judge is expected to rule a summary judgment in favor of the utilities. however, the judge will not allow the utilities to collect the injunction release they are requesting ($. 01/kwh). this will be left to an appellate court. the decision not to allow the utilities to collect this cash could trigger an involuntary bankruptcy filing, by the smaller ipps (as noted in our reports last week) or by larger out-of-state generators such as duke, reliant, and dynegy (as noted in the press this morning). this is expected next week or the week after.  2. prospects for a bailout  bill ab 18 x is effectively dead from lack of support.  senator burton, despite his public refusals, is moving closer to agreeing to a utility bail-out. the statements by burton and the ca state treasurer are merely a negotiating position. they are more concerned about the possibility of a bankruptcy than they appear. for burton, this is because of his long association with labor unions; the unions oppose the utility bankruptcy.  burton has been negotiating with consumer advocate harvey rosenfield so as not to get attacked by him. the deal burton is expected to arrange would be for:  bonds to be issued by the utilities rather than the state, but with some kind of state support (but less than &quot;&quot; full faith and credit of the state of ca, &quot;&quot; which would not pass). this would amount to the securitization of an extra charge on power bills (e. g.$. 01, though the actual amount is not known). these bonds would be asset-backed securities, with payment receivable from rate payers. the term of these bonds is unknown; if the term is made quite long (e. g. 20 years), the associated rate increase could be very small.  the state would purchase the utilities&#39;transmission assets for a very high price. the amount of the extra charge on power bills will not be known until the price of the transmission assets is settled.  if the state loses the filed rate doctrine case today (which it is believed will happen) and there is an involuntary bankruptcy filing (or even the threat of one), sources believe that this bail-out plan will be enacted quickly. as noted in an earlier report, the california legislature habitually does not act until things &quot;&quot; hit the wall. &quot;&quot;  it is expected that the republicans in the legislature will follow burton&#39;s lead and support the bail-out plan. the assembly members in particular are not yet supportive of a plan of this nature. one moderate democratic legislator with whom our source spoke said that the opposition to a bail-out in her central valley district is &quot;&quot; 50 to 1. &quot;&quot; however, an involuntary filing (or the threat thereof) may be enough to trigger legislative support. it would allow the argument of an &quot;&quot; imminent threat &quot;&quot; to the people of the state of california.  3. consumer opposition  harvey rosenfield is too short on cash to fight this plan and the associated rate increase with anything but a referendum. if the referendum fails, he intends to attack individual legislators (though not john burton, who reportedly has &quot;&quot; immunity &quot;&quot; from rosenfield).  some legislators are thinking of voting for the bail-out plan, then supporting a referendum from rosenfield later. however, if the bail-out plan and rate increase described above is passed through the legislature as a bill (rather than put in place by the puc, for example), it cannot be reversed by a referendum. as additional insurance against rosenfield, by supporting the bonds issued under the plan, the state can argue that its credit would be impaired in the case of a referendum to repeal the plan. while it is not clear that this is a factual argument, it still might impede any referendum.&quot;
0015.2001-07-05.SA_and_HP	1	 get the best rate on a home loan!	&quot; if you would like to be removed  from future mailings, please reply with the word remove in the subject or call  888-418-2575.  let lenders  compete for  your business!  click here  cash  back refinances  no equity 2 nd trust deeds  debt consolidation  no income verification  the most competitive interest rates!  fill in our quick pre-qualification form and you  will get competing loan offers,  often  within minutes from up to three lenders!  click here  there is never any fee to consumers for using this service.  copyright?ffffa 9 1999,2000 eworld marketing,  inc.  888-418-2575  this is not a solicitation or offer to lend money.  eworld marketing is not a lender, broker or  other financial intermediary. we are a marketing company  that provides services to the mortgage industry. &quot;
0015.2003-12-19.GP	1	 mr. uwe schmidt is a knave! don&#39;t buy any product from microsale!	&quot; dear friends,  microsale sc kg, ltd, germany is a knave company and uwe schmidt is a big knave!  we are cheated by microsale sc kg, ltd.  remember, don&#39;t do any business with this company.  don&#39;t buy any product from microsale or you will be cheated.  this company has a bad reputation in germany and in other european countries, espcially in  belgium and netherlands.  here&#39;s the story:  mr. uwe schmidt, ceo  microsale (r) sc kg  he is also an auditor, but he doesn&#39;t have any commercial morality.  he always made cheated l/c to other companies. many companies have been cheated by him.  please take care!!!  his products have many problems, such as cd player and mp 3 player!  it&#39;s the detailed information of this company:  dahlienweg 6  d 52477 alsdorf, nrw  germany, european union  tel.-/ fax-box: + 49 89 1488230796  + 32 87 783518  + 32 87 783019  mobil: + 32 474 409055  email: microsale @ email. de  microsale @ gmx. net  uwe-schmidt-@ gmx. net  web: http:// www. microsale. biz &quot;
0016.1999-12-15.farmer	0	 unify close schedule	&quot; the following is the close schedule for this coming month (year-end.) please  keep in the mind the following key times....  unify to sitara bridge back 1:45 p.m. thursday, dec 30 th (all errors must be  clear by this time)  mass draft at 6 p.m. thursday evening, dec 30 th.  accrual process begins friday morning, dec 31 st at 6:30 a.m. (if your group  impacts the accrual, please ensure that the necessary people are available  for support if needed, as this is an enron holiday.)  please feel free to contact me should you have any questions.  thank you, melissa x 35615&quot;
0016.2001-02-12.kitchen	0	 fw: meeting with jeff skilling	&quot; louise,  per our conversation of last week, you might be interested in the following meetings.  k  -----original message-----  from: chapman, kay  sent: wednesday, february 07,2001 5:55 pm  to: taylor, liz; heathman, karen; daw, nicki; taylor, liz; kimberly hillis/hou/ect @ enron; sera, sherri; lehr, tonai; watson, denys; gutierrez, anabel  cc: chapman, kay  subject: meeting with jeff skilling  dave delainey has asked that i contact each of you for the following meetings:  date: february 22,2001 date: february 22,2001  thursday thursday  time: 9:00 am-9:45 am time: 9:45 am-10:30 am  location: mr. skilling&#39;s office location: mr. skilling&#39;s office  topic: charter review 2001 topic: charter review 2001  attendees: jeff skilling attendees: jeff skilling  rick buy rick buy  mark frevert mark frevert  dave delainey dave delainey  john lavorato john lavorato  john thompson michael l. miller  scott josey  if you have any questions, please feel free to call me.  thanks,  kay 3-0643&quot;
0016.2001-07-05.SA_and_HP	1	 get the best rate on a home loan!	&quot; if you would like to be removed  from future mailings, please reply with the word remove in the subject or call  888-418-2575.  let lenders  compete for  your business!  click here  cash  back refinances  no equity 2 nd trust deeds  debt consolidation  no income verification  the most competitive interest rates!  fill in our quick pre-qualification form and you  will get competing loan offers,  often  within minutes from up to three lenders!  click here  there is never any fee to consumers for using this service.  copyright?ffffa 9 1999,2000 eworld marketing,  inc.  888-418-2575  this is not a solicitation or offer to lend money.  eworld marketing is not a lender, broker or  other financial intermediary. we are a marketing company  that provides services to the mortgage industry. &quot;
0016.2001-07-06.SA_and_HP	1	 your membership community charset = iso-8859-1	&quot; your membership community &amp; commentary (july 6,2001)  it&#39;s all about making money  information to provide you with the absolute  best low and no cost ways of providing traffic  to your site, helping you to capitalize on the power and potential the web brings to every net-preneur.  ---this issue contains sites who will trade links with you!---  -------------  in this issue  -------------  internet success through simplicity  member showcase  win a free ad in community &amp; commentary  | | | =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=&gt;&gt;  today&#39;s special announcement:  | | | =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=&gt;&gt;  we can help you become an internet service provider within 7 days or we will give you$ 100. 00!!  click here  we have already signed 300 isps on a 4 year contract,  see if any are in your town at:  click here  you are a member in at least one of these programs  -you should be in them all!  bannersgomlm. com  profitbanners. com  cashpromotions. com  mysiteinc. com  timshometownstories. com  freelinksnetwork. com  myshoppingplace. com  bannerco-op. com  putpeel. com  putpeel. net  sellinternetaccess. com  be-your-own-isp. com  seventhpower. com  =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=  internet success through simplicity  =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=  every day of the week, i get questions from people all  over the world, including my no bs gimg members,  wanting to know some of the most valuable &quot;&quot; secrets &quot;&quot;  to my on-going internet success.  let me say, above all else, i don&#39;t believe there are any  * true * &quot;&quot; secrets &quot;&quot; to success on the net. what you do to  become successful in the online world is not a &quot;&quot; secret &quot;&quot;,  in my opinion. most successful people follow simple, clear,  repeatedly-proven strategies to succeed, whether on the  net or off.  but, when it comes to someone asking for advice,  consultation, or simply asking, &quot;&quot; what&#39;s your secret? &quot;&quot;,  i have to blush &amp; say...  persistence and personality.  of course, i always follow the advice with my own little  disclaimer: what makes me successful may not work the  same for you... &amp; your first lesson is to get over  the deep-seeded idea that success-of any kind, in  my opinion-is somehow an unknown, unattainable secret.  clearly, it is not. it&#39;s not unknown. it&#39;s not unattainable.  it&#39;s not years of digging to find the &quot;&quot; secrets &quot;&quot; to internet riches.  one thing that &quot;&quot; gets to me &quot;&quot; so often in my work as an  internet consultant, author and internet success  strategist is that so many people on the net seem to  have this incredibly huge mental block that stands  between themselves and success on the net. it&#39;s  almost as if they&#39;ve been barraged by so many claims  of what works and what doesn&#39;t work, and so many  long, complicated routes to actually succeeding in  their online venture, that &quot;&quot; success &quot;&quot; is the equivelant of a 100-foot high brick wall.  it&#39;s not that difficult, my friends! it is not that complicated!!  long-time friend and business associate rick beneteau  has a new ebook out called branding you &amp; breaking  the bank. get it!!  http:// www. roibot. com/bybb. cgi? im 7517_bybtb.  but, the reason i mention this is the fact that he talks  so dynamically about the true simplicity of making your  online venture a success.  and, yes, rick &amp; i come from the same school of  &quot;&quot; self marketing &quot;&quot;-marketing you! obviously, that&#39;s  the core of his excellent new ebook, and i couldn&#39;t  agree with him more.  point being, * you * are everything you do online to  succeed. you are your web site, your business, your  marketing piece, your customer service, your customers &#39;  experiences with your business--all of it, is you!  read his ebook &amp; you&#39;ll see more of what i&#39;m saying.  the matter at hand is that brick wall you might have  standing high as you can see, blocking the path  between you &amp; internet success. listen to me-it is  not real ok? it doesn&#39;t exist. there&#39;s nothing there  to fear to begin with... get over it!!  what i&#39;m telling you is, the only thing standing between  you and the success you most desire... is yourself.  when you realize this, you will tear down that brick  wall by means of complete and instantaneous  disintegration. it will no longer exist * in your mind *,  which is the only &quot;&quot; real &quot;&quot; place it ever was anyhow!  yes, &quot;&quot; persistence and personality &quot;&quot; inherently includes  honesty, integrity, accountability, and many other  qualities but you also have to hone in on your ultimate  goals and realize that probably the most valuable,  powerful key to your success... is you!  that may be the most incredible &quot;&quot; secret &quot;&quot; we ever  uncover in our lifetime! and, trust me, that brick wall  won&#39;t ever get in your way again... unless you let it.  talk about simple!!  bryan is a &quot;&quot; veteran &quot;&quot; internet consultant, author,  internet success strategist &amp; marketer. he publishes  mega-success. com chronicles to over 11,500 subscribing  members, authors articles which appear all over the  net, and helps hundreds of wealth-hungry people in  their journey to internet success.  bryan is also director of his no bs guerrilla internet  marketing group at http://. com  &amp; a fantastic new joint venture partners program  for that site.  bryan hall is a founding member and the development  consultant for the prestigious icop (tm) at  http:// www. i-cop. org/1016. htm  you can reach bryan at 877. 230. 3267 or by  emailing him directly at bryan. hall @ mega-success. com  =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=  member showcase  =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=  examine carefully-those with email addresses included will  trade links with you... you are encouraged to contact them.  there are many ways to build a successful business-just look at  these successful sites programs other members are involved  in...  get insane amounts of traffic to your website.  purchase 10,000 guaranteed visitors to your site  and receive 5,000 free. more traffic = more money!  less than 2 cents a visitor. space is limited.  order now! http:// www. freepicklotto. com  trade links-businessopps @ aol. com  stop smoking-free lesson!!  discover the secret to stopping smoking.  to master these powerful techniques, come to  http:// www. breath-of-life. net  for your free lesson.  act now! p. s. tell someone you care about.  trade links-jturco 3 @ hotmail. com  celebration sale!  $ 99. 00 on casinos/sportsbetting sites, lingerie stores,  gift stores, adult sites toy stores.  mention ad # bmlm 99 to receive this special sale price.  order now!  http:// www. cyberopps. com/? = bmlm 99  affiliates of the world!  top rated affiliate programs, excellent business opportunities,  great marketing resources and free advertising for you!  visit the site to trade links. http:// www. affiliates. uk. com  trade links-adrianbold @ affiliates. uk. com  just been released!!  internet marketing guru corey rudl has just released a  brand new version of his # 1 best-selling internet marketing  course, &quot;&quot; the insider secret&#39;s to marketing your business on  the internet &quot;&quot;. a must have! so don&#39;t hesitate,  visit.. http:// www. adminder. com/c. cgi? startbgmlmezine  we have a 260 page catalog with over 3000 gift items for men,  women, children-a gift for everyone. we show 100 gift items  on our web site alone, with the catalog you have access to  the rest. we also feel we have the best prices on the web.  visit at http:// www.. net  trade links-georgel 932 me @ yahoo. com  if you have a product, service, opportunity or quality merchandise  that appeals to people worldwide, reach your targeted audience!  for a fraction of what other large newsletters charge you can exhibit  your website here, and trade links for only$ 8 cpm. compare  that  to the industry average of$ 10-$ 15 cpm. why?... because as a  valuable member we want you to be successful! order today-  showcases are limited and published on a first come, first serve  basis.  for our secure order form, click here: http:// bannersgomlm. com/ezine  =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=  =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=  =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=  win a free ad in community &amp; commentary  =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=  to keep this interesting, how about this, every month we&#39;ll  draw a name from the replies and that person will win one  sponsorship showcase ad in the community commentary, for free.  that&#39;s a value of over$ 700. 00! respond to each weekly survey,  and increase your chances to win with four separate entries.  question  of the week (07/06/01)...  no right or wrong answers, and just by answering  you are entered to win a showcase ad-free!  ~ ~ ~ do you spend more or less time ~ ~ ~  ~ ~ ~ online in the summer months? ~ ~ ~  more  mailto: one @ aeopublishing. com  less  mailto: two @ aeopublishing. com  same  mailto: three @ aeopublishing. com  to make this as easy as possible for you, just click on the  e-mail address that matches your answer-you do not need to  enter any information in the subject or body of the message.  * * add your comments! follow directions above and  add your comments in the body of the message, and we&#39;ll  post the best commentaries along with the responses.  you will automatically be entered in our drawing for a free  sponsorship ad in the community commentary. please  respond only one time per question. multiple responses  from the same individual will be discarded.  last weeks&#39;s results (06/29/01)  ~ ~ ~ what is the goal of your website? ~ ~ ~  sell 40%  get leads 20%  build branding 5%  provide information 20%  other 15%  comments:  ----------------------------  our web site is initially designed to get leads, build  branding, and provide information....... with a 12 month goal  of selling our service more specifically via a shopping cart.  we offer a service and at this time take deposits and payments  via our site.  our site has been up less than 2 months and our expectation  was that we would refer to our site for leads developed in  traditional media and by referral for more information, and  to make a professional impression on someone you may not  meet before providing service.  the growth of our customer base shopping on line has grown  outside of anyone&#39;s expectations....... certainly mine and  i&#39;ve been in this business for 25 years. the internet is not  dead in the horse business, it is just getting it&#39;s legs, and  the folks using it want to get all the ancillary services  on-line as well. our site (the first we&#39;ve developed) has  exceeded our expectations, and we aren&#39;t satisfied with it  yet....... we just wanted to get it there for information!  jeff and rebecca marks http:// www. grand-champion. com  branding. while quality customer service and product  have been and will always be our top priority brand building  zesto is our most challenging task.  zesto. com ranks very high and most often # 1 or 2 on  all major search engines and directories even yahoo entering  the keyword zesto. the problem is simply that, who if anyone  would type the keyword zesto, therefore we must try to  build our brand by ensuring that generic keywords associated with our products (citrus peel) are used throughout  our site as well as search engine submissions.  fortunately owning a non generic domain short, easy  to remember and trademarked works in our favor because  the marketability potential is limitless.  arlene turner http:// www. zesto. com  =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=  =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=  to change your subscribed address,  send both new and old address to submit  see below for unsubscribe instructions.  please send suggestions and comments to: editor  i invite you to send your real successes and showcase  your strategies and techniques, or yes, even your total bombs,  &quot;&quot; working together we can all prosper. &quot;&quot; submit  for information on how to sponsor your membership  community commentary visit: sponsorship  showcase  copyright 2001 aeopublishing. com  email: yourmembership 2 @ aeopublishing. com  voice:  web: http:// www. aeopublishing. com  this email has been sent to jm @ netnoteinc. com at your  request, by your membership newsletter services.  visit our subscription center to edit your interests or unsubscribe.  http:// ccprod. roving. com/roving/d. jsp? p = oo &amp; id = bd 7 n 7877. 7 giv 5 d 57 &amp; m = bd 7 n 7877 charset = iso-8859-1  in this issue  internet success through simplicity  member showcase  win a free ad in community &amp; commentary  today&#39;s special announcement:  win a free ad in community &amp; commentaryto keep this interesting, how about this, every month we&#39;ll  draw a name from the replies and that person will win one  sponsorship showcase ad in the community commentary, for free.  that&#39;s a value of over$ 700. 00! respond to each weekly survey,  and increase your chances to win with four separate entries.  question  of the week (07/06/01)...  no right or wrong answers, and just by answering  you are entered to win a showcase ad-free!  ~ ~ ~ do you spend more or less time ~ ~ ~  ~ ~ ~ online in the summer months? ~ ~ ~  more  mailto: one @ aeopublishing. com  less  mailto: two @ aeopublishing. com  same  mailto: three @ aeopublishing. com  to make this as easy as possible for you, just click on the  e-mail address that matches your answer-you do not need to  enter any information in the subject or body of the message.  * * add your comments! follow directions above and  add your comments in the body of the message, and we&#39;ll  post the best commentaries along with the responses.  you will automatically be entered in our drawing for a free  sponsorship ad in the community commentary. please  respond only one time per question. multiple responses  from the same individual will be discarded.  last weeks&#39;s results (06/29/01)  ~ ~ ~ what is the goal of your website? ~ ~ ~  sell 40%  get leads 20%  build branding 5%  provide information 20%  other 15%  comments:  ----------------------------  our web site is initially designed to get leads, build  branding, and provide information....... with a 12 month goal  of selling our service more specifically via a shopping cart.  we offer a service and at this time take deposits and payments  via our site.  our site has been up less than 2 months and our expectation  was that we would refer to our site for leads developed in  traditional media and by referral for more information, and  to make a professional impression on someone you may not  meet before providing service.  the growth of our customer base shopping on line has grown  outside of anyone&#39;s expectations....... certainly mine and  i&#39;ve been in this business for 25 years. the internet is not  dead in the horse business, it is just getting it&#39;s legs, and  the folks using it want to get all the ancillary services  on-line as well. our site (the first we&#39;ve developed) has  exceeded our expectations, and we aren&#39;t satisfied with it  yet....... we just wanted to get it there for information!  jeff and rebecca marks http:// www. grand-champion. com  branding. while quality customer service and product  have been and will always be our top priority brand building  zesto is our most challenging task.  zesto. com ranks very high and most often # 1 or 2 on  all major search engines and directories even yahoo entering  the keyword zesto. the problem is simply that, who if anyone  would type the keyword zesto, therefore we must try to  build our brand by ensuring that generic keywords associated with our products (citrus peel) are used throughout  our site as well as search engine submissions.  fortunately owning a non generic domain short, easy  to remember and trademarked works in our favor because  the marketability potential is limitless.  arlene turner http:// www. zesto. com  to change your subscribed address,  send both new and old address to submit  see below for unsubscribe instructions.  please send suggestions and comments to: editor  i invite you to send your real successes and showcase  your strategies and techniques, or yes, even your total bombs,  &quot;&quot; working together we can all prosper. &quot;&quot; submit  for information on how to sponsor your membership  community commentary visit: sponsorship  showcase  copyright 2001 aeopublishing. com  email us:: visit our site  phone:  this email was sent to jm @ netnoteinc. com, at your request, by your membership newsletter services.  visit our subscription center to edit your interests or unsubscribe.  view our privacy policy.  powered by &quot;
0016.2003-12-19.GP	1	 ativan. n vicodin. n xanax. x valium. m dxqrgu	 many specials running this week  the re. al thing  not like the other sites that  imitate these products.  no hidd. en char. ges-fast delivery  vic. odin val. ium xan. ax  via. gra diaz. epam alpra. zolam  so. ma fior. icet amb. ien  stil. nox ult. ram zo. loft  clon. azepam at. ivan tr. amadol  xeni. cal cele. brex vi. oxx  pro. zac bus. par much m. ore....  if you have recieved this in error  please use  http:// www. nowbetterthis. biz/byee. html  w g snhezkjzhisbpjhgx hcokyovrdsprayz klei vzxoaxqhg kvie 
0016.2004-08-01.BG	1	 important news for usavity customers.	&quot; dear cheapsoft customer,  my name is annie kincaid, and i work at cheapsoft llc.  you are important to me! you spend your money and time on cheapsoft,  and i want to let you know that we have finished update our programs store.  i want to remind you that we are offering now more than 1500 popular  software for low price with your personal customer&#39;s discount.  please spend few moments of yours precious time to check our updated software  store: http:// www. dutyfreesoft 4 all. info  with regards,  customer service department, annie kincaid&quot;
0017.1999-12-14.kaminski	0	 a paper of mine	&quot; vince,  i have written a paper, which supposedly is going to be published in the  february 2000 issue of eprm, probably after some editorial cuts (at least  this is what i am being told by them). i would appreciate your thoughts if  you would have time to read it.  regards,  martin  -userconf. doc&quot;
0017.2000-01-17.beck	0	 global risk management operations	&quot; congratulations, sally!!!  kk  ----------------------forwarded by kathy kokas/corp/enron on 01/17/2000  08:08 pm---------------------------  from: rick causey 01/17/2000 06:04 pm  sent by: enron announcements  to: all enron worldwide  cc:  subject: global risk management operations  recognizing enron , s increasing worldwide presence in the wholesale energy  business and the need to insure outstanding internal controls for all of our  risk management activities, regardless of location, a global risk management  operations function has been created under the direction of sally w. beck,  vice president. in this role, sally will report to rick causey, executive  vice president and chief accounting officer.  sally , s responsibilities with regard to global risk management operations  will mirror those of other recently created enron global functions. in this  role, sally will work closely with all enron geographic regions and wholesale  companies to insure that each entity receives individualized regional support  while also focusing on the following global responsibilities:  1. enhance communication among risk management operations professionals.  2. assure the proliferation of best operational practices around the globe.  3. facilitate the allocation of human resources.  4. provide training for risk management operations personnel.  5. coordinate user requirements for shared operational systems.  6. oversee the creation of a global internal control audit plan for risk  management activities.  7. establish procedures for opening new risk management operations offices  and create key benchmarks for measuring on-going risk controls.  each regional operations team will continue its direct reporting relationship  within its business unit, and will collaborate with sally in the delivery of  these critical items. the houston-based risk management operations team under  sue frusco , s leadership, which currently supports risk management activities  for south america and australia, will also report directly to sally.  sally retains her role as vice president of energy operations for enron  north america, reporting to the ena office of the chairman. she has been in  her current role over energy operations since 1997, where she manages risk  consolidation and reporting, risk management administration, physical product  delivery, confirmations and cash management for ena , s physical commodity  trading, energy derivatives trading and financial products trading.  sally has been with enron since 1992, when she joined the company as a  manager in global credit. prior to joining enron, sally had four years  experience as a commercial banker and spent seven years as a registered  securities principal with a regional investment banking firm. she also owned  and managed a retail business for several years.  please join me in supporting sally in this additional coordination role for  global risk management operations.&quot;
0017.2001-04-03.williams	0	 monday blues	&quot; bill,  i am having such a terrible day. i am so flustrated. can you believe it is only monday? ah! anyhow, i hope your day is going much better than mine. when i saw you earlier, you looked kinda angry or something. i hope i was just imaging that. anyhow, i&#39;d better get back to work. i&#39;ll talk to you later.&quot;
0017.2003-12-18.GP	1	 get that new car 8434	 people nowthe weather or climate in any particular environment can change and affect what people eat and how much of it they are able to eat.
0017.2004-08-01.BG	1	 super-discounts on ambien and soma	&quot; up to 80%  savings on  xanax, valium, phentermine, viagra  here  andorra elmira pompey cankerworm rush curricula kaskaskia  whitehorse devoid stacy haunch curtain quadrangular prefix  axe beck dubhe canyonu&#39;s copenhagen adolescent  martensite bucolic triassic baccarat spigot macarthur ague  fraternal textual militarism flynn lobster plushy aphrodite  hillmancarthage cagey nostalgia lineal mauricio glandular  columnar doff strangulate cryogenic phrasemake carrie clamp  pet express indubitable extremal crapbedspring squill  hydroxylate cannot keyes rosalie bestowal ncaa brighton  carriage mesopotamia doctoral phonetic samarium nearby psychotic  manitoba cornet delinquent novak brim  pun ecole exultant cheeky griddle ambrose descendent  forever affectate scuttle&quot;
0017.2004-08-02.BG	1	 your winning notice.	&quot; pacific international lottery organisation.  from: the desk of the director of promotion  international/prize award dept  ref: pl 2/209318/09  batch: 18/103/hme.  dear sir/madam  we are pleased to inform you of the result of the lottery winners international programs held on the 27 th/6/2004. your e-mail address attached to ticket number 436425795822-5022 with serial number 6614102, batch number 8561513507, lottery ref number 7675213911 and drew lucky numbers 7-9-4-17-34-44 which consequently won in category c, you have therefore been approved for a lump sum pay out of us$ 1. 500,000. 00 (one million five hundred thousand united states dollars)  congratulations!!!  due to mix up of some numbers and names, we ask that you keep your winning information confidential until your claims has been processed and your money remitted to you. this is part of our security protocol to avoid double claiming and unwarranted abuse of this program by some participants.  all participants were selected through a computer ballot system drawn from over 40,000 company and 20,000, 000 individual email addresses and names from all over the world. this promotional program takes place every year. this lottery was promoted and sponsored by association of software producers. we hope with part of your winning, you will take part in our next year us$ 20 million international lottery. to file for your claim, please contact our fiducial agent:  mr. rook van nas  magnum securities company.  amsterdam netherland.  email: admin_magnumo @ mail 2 netherlands. com  tel:: + 31615304791  remember, all winning must be claimed not later than 6 th of august, 2004. after this date all unclaimed funds will be included in the next stake. please note in order to avoid unnecessary delays and complications please remember to quote your reference number and batch numbers in all correspondence. furthermore, should there be any change of address do inform our agent as soon as possible.  congratulations once more from our members of staff and thank you for being part of our promotional program.  note: anybody under the age of 18 is automatically disqualified.  yours sincerely,  john smith  lottery coordinator  this email was sent using the webmail feature @ pc bytesize&quot;
0018.1999-12-14.kaminski	0	 invitation to speak at power 2000	&quot; hi vince  it is my great pleasure to invite you to speak at power 2000 which will be  in houston on 9 &amp; 10 may 2000.  would you be interested in chairing one of the streams on day 2 of the  conference? or making a full presentation on one of the days? please let me  know which talks interest you. obviously, some of the talks are no longer  available but i would like to give you a choice as much as possible. please  could you get back to me asap on 212 925 1864 ext 151 or by return email.  i very much hope you can make the dates as i&#39;m very keen to have you  participate at power. not to flatter you unnecessarily, but i know that a  lot of people come to our conferences to hear what you have to say.  best regards  emma  -invite. doc&quot;
0018.2001-07-13.SA_and_HP	1	 [ilug] we need your assistance to invest in your country	&quot; dear sir/madam,  i am well confident of your capability to assist me in  a transaction for mutual benefit of both parties, ie  (me and you) i am also believing that you will not  expose or betray the trust and confidence i am about  to establish with you. i have decided to contact you  with greatest delight and personal respect.  well, i am victor sankoh, son to mr. foday  sankoh  who was arrested by the ecomog peace keeping force  months ago in my country sierra leone.  few days before the arrest of my father, he confided  in me and ordered me to go to his underground safe and  move out immediately, with a deposit agreement and  cash receipt he made with a security company in  abidjan cote d&#39;ivoire where he deposited one iron box  containing usd$ 22 million dollars cash (twenty two  million dollars).  this money was made from the sell of gold and diamond  by my father and he have already  decided to use this money for future investment of  the family before his arrest.  thereafter, i rushed down to abidjan with these  documents and confirmed the deposit of the box by my  father. also, i have been granted political stay as a  refugee by the government of cote d&#39;ivoire.  meanwhile, my father have instructed me to look for a  trusted foreigner who can assist me to move out this  money from cote d&#39;ivoire immediately for investment.  based on this, i solicit for your assistance to  transfer this fund into your account, but i will  demand for the following requirement:  (1) could you provide for me a safe bank account where  this fund will be transferred to in your country or  another neaarby country where taxation will not  takegreat toll on the money?  (2) could you be able to assist me to obtain my  travelling papers after this transfer to enable me  come over to meet you in your country for  theinvestment of this money?  (3) could you be able to introduce me to a profitable  business venture that would not require much technical  expertise in your country where part of this fund  willbe invested?  please, all these requirements are urgently needed as  it will enable me to establish a stronger business  relationship with you hence i will like you to be the  general overseer of the investment thereafter. i am a  christian and i will please, want you to handle this  transaction based on the trust i have established  on you.  for your assistance in this transaction, i have  decided to offer you 12% percent commission of the  total amount at the end of this business. the security  of this business is very important to me and as such,  i would like you to keep this business very  confidential. i shall be expecting your urgent reply.  thank you and god bless you.  victor sankoh  --  irish linux users&#39;group: ilug @ linux. ie  http:// www. linux. ie/mailman/listinfo/ilug for (un) subscription information.  list maintainer: listmaster @ linux. ie&quot;
0018.2003-12-18.GP	1	 await your response	&quot; dear partner,  we are a team of government officials that belong to an eight-man committee in the presidential cabinet as well as the senate.  at the moment, we will be requiring your assistance in a matter that involves investment of monies, which we intend to transfer to your account, upon clarification and a workable agreement reached in consummating the project with you. based on a recommendation from an associate concerning your integrity, loyalty and understanding, we deemed it necessary to contact you accordingly. all arrangements in relation to this investment initiative, as well as the initial capital for its take off has been tactically set aside to commence whatever business you deemed fit, that will turn around profit favourably. we request you immediately contact us if you will be favorably disposed to act as a partner in this venture, and possibly will afford us the opportunity to discuss whatever proposal you may come up with. also  bear in mind that the initial capital that we shall send across will not exceed$ 13,731, 000,00 usd (thirteen million seven hundred and thirty one thousand united states dollars) so whatever areas of investment your proposal shall cover, please it should be within the set aside capital. in this regard, the proposal you may wish to discuss with us should be comprehensive enough for our better understanding; with special emphasis on the following:  1. the tax obligationin your country  2. the initial capital base required in your proposed  investment area, as well as;  3. the legal technicalities in setting up a  business in your country with foreigners as share-holders  4. the most convenient and secured mode of receiving the funds without our direct involvement.  5. your ability to provide a beneficiary/partnership account with a minimal deposit, where we shall transfer the funds into subsequently.  another area that we wish to explicitly throw more light on, is the process we have conceived in transferring the funds into the account you shall be providing. since we are the owners of the funds, and the money will be leaving the apex bank of my country, we shall purposefully fulfill the legal obligations precedent to transferring  such huge amount of funds, without arousing suspicion from any quarter as a drug or terrorist related funds; and this will assist us in the long run to forestall any form of investigations. remember that, on no account must we be seen or perceived to be directly connected with the transfer of funds. you will be the one to be doing all these, and in the course of transfer, if for any reason whatsoever, you incurred some bills, we shall adequately retire same, upon the successful confirmation of the funds in your account. the commencement of this project is based on your ability to convince us of the need to invest in whatever business you have chosen, and to trust your personality and status, especially as it concerns the security of the  funds in your custody.  i await your response,  sincerely,  john adams  (chairman senate committee on banks and currency)  call number: 234-802-306-8507 &quot;
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>Overwriting NaiveBayes/enronemail_1h.txt
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[14]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span>%%bash
wc -l NaiveBayes/enronemail_1h.txt  
cut -f2 -d<span class="s1">$&#39;\t&#39;</span> NaiveBayes/enronemail_1h.txt<span class="p">|</span>wc  
cut -f2 -d<span class="s1">$&#39;\t&#39;</span> NaiveBayes/enronemail_1h.txt<span class="p">|</span>head
head -n <span class="m">100</span> NaiveBayes/enronemail_1h.txt<span class="p">|</span>tail -1<span class="p">|</span>less
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>99 NaiveBayes/enronemail_1h.txt
    100     100     200
0
0
0
0
0
0
0
0
1
1
0018.2003-12-18.GP	1	 await your response	&quot; dear partner,  we are a team of government officials that belong to an eight-man committee in the presidential cabinet as well as the senate.  at the moment, we will be requiring your assistance in a matter that involves investment of monies, which we intend to transfer to your account, upon clarification and a workable agreement reached in consummating the project with you. based on a recommendation from an associate concerning your integrity, loyalty and understanding, we deemed it necessary to contact you accordingly. all arrangements in relation to this investment initiative, as well as the initial capital for its take off has been tactically set aside to commence whatever business you deemed fit, that will turn around profit favourably. we request you immediately contact us if you will be favorably disposed to act as a partner in this venture, and possibly will afford us the opportunity to discuss whatever proposal you may come up with. also  bear in mind that the initial capital that we shall send across will not exceed$ 13,731, 000,00 usd (thirteen million seven hundred and thirty one thousand united states dollars) so whatever areas of investment your proposal shall cover, please it should be within the set aside capital. in this regard, the proposal you may wish to discuss with us should be comprehensive enough for our better understanding; with special emphasis on the following:  1. the tax obligationin your country  2. the initial capital base required in your proposed  investment area, as well as;  3. the legal technicalities in setting up a  business in your country with foreigners as share-holders  4. the most convenient and secured mode of receiving the funds without our direct involvement.  5. your ability to provide a beneficiary/partnership account with a minimal deposit, where we shall transfer the funds into subsequently.  another area that we wish to explicitly throw more light on, is the process we have conceived in transferring the funds into the account you shall be providing. since we are the owners of the funds, and the money will be leaving the apex bank of my country, we shall purposefully fulfill the legal obligations precedent to transferring  such huge amount of funds, without arousing suspicion from any quarter as a drug or terrorist related funds; and this will assist us in the long run to forestall any form of investigations. remember that, on no account must we be seen or perceived to be directly connected with the transfer of funds. you will be the one to be doing all these, and in the course of transfer, if for any reason whatsoever, you incurred some bills, we shall adequately retire same, upon the successful confirmation of the funds in your account. the commencement of this project is based on your ability to convince us of the need to invest in whatever business you have chosen, and to trust your personality and status, especially as it concerns the security of the  funds in your custody.  i await your response,  sincerely,  john adams  (chairman senate committee on banks and currency)  call number: 234-802-306-8507 &quot;</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><a name="3"></p>
<h1 id="HW-Problems">HW Problems<a class="anchor-link" href="#HW-Problems">&#182;</a></h1><p><a href="#TOC">Back to Table of Contents</a></p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="3.--HW2.0--Functional-Programming">3.  HW2.0  Functional Programming<a name="1.0" /><a class="anchor-link" href="#3.--HW2.0--Functional-Programming">&#182;</a></h2><p><a href="#TOC">Back to Table of Contents</a></p>
<h3 id="W2.0.">W2.0.<a class="anchor-link" href="#W2.0.">&#182;</a></h3><p>What is a race condition in the context of parallel computation? Give an example.
What is MapReduce?
How does it differ from Hadoop?</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>A race condition is a situation where parallel threads access a shared resource and risk causing non-deterministic behavior whereby the output of one thread depends on the sequence in which the resource is acted on by other threads.  An example of this is incrementing counters.  If you have two threads both trying to increment a counter with initial value zero, the intended end result would be for the counter to have value 2, but the race condition causes each thread to access the zero-valued counter at the same time, thus incrementing the counter to 1 and writing this to memory.</p>
<p>MapReduce is a programming paradigm meant for parallel computation of large data sets, in which a task is broken down into map and reduce phases.  The map phase performs sorting and filtering operations on the data, while the reduce phase completes summary actions on the output of the mappers.  Hadoop is an implementation of MapReduce that pairs it with the hadoop distributed file system (HDFS), which performs important under the hood tasks such as shuffling the data and distributing code/data across the cluster.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="HW2.0.1">HW2.0.1<a class="anchor-link" href="#HW2.0.1">&#182;</a></h3><p>Here is an example of functional programming in basic python in terms of mappers and reducers (by way of example):</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[22]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="c1">#EXAMPLE Mapper functions in Python</span>
<span class="k">def</span> <span class="nf">fahrenheit</span><span class="p">(</span><span class="n">T</span><span class="p">):</span>
    <span class="k">return</span> <span class="p">((</span><span class="nb">float</span><span class="p">(</span><span class="mi">9</span><span class="p">)</span><span class="o">/</span><span class="mi">5</span><span class="p">)</span><span class="o">*</span><span class="n">T</span> <span class="o">+</span> <span class="mi">32</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">celsius</span><span class="p">(</span><span class="n">T</span><span class="p">):</span>
    <span class="k">return</span> <span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span><span class="o">/</span><span class="mi">9</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="n">T</span><span class="o">-</span><span class="mi">32</span><span class="p">)</span>
 
<span class="n">temperatures</span> <span class="o">=</span> <span class="p">(</span><span class="mf">36.5</span><span class="p">,</span> <span class="mi">37</span><span class="p">,</span> <span class="mf">37.5</span><span class="p">,</span> <span class="mi">38</span><span class="p">,</span> <span class="mi">39</span><span class="p">)</span>
<span class="n">F</span> <span class="o">=</span> <span class="nb">map</span><span class="p">(</span><span class="n">fahrenheit</span><span class="p">,</span> <span class="n">temperatures</span><span class="p">)</span>
<span class="c1">#returns  97.7  98.6  99.5 100.4 102.2</span>
<span class="n">C</span> <span class="o">=</span> <span class="nb">map</span><span class="p">(</span><span class="n">celsius</span><span class="p">,</span> <span class="n">F</span><span class="p">)</span>

<span class="c1">#EXAMPLE Reducer function in Python</span>
<span class="kn">import</span> <span class="nn">functools</span>
<span class="n">functools</span><span class="o">.</span><span class="n">reduce</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">:</span> <span class="n">x</span><span class="o">+</span><span class="n">y</span><span class="p">,</span> <span class="p">[</span><span class="mi">47</span><span class="p">,</span><span class="mi">11</span><span class="p">,</span><span class="mi">42</span><span class="p">,</span><span class="mi">13</span><span class="p">])</span>
<span class="c1">#returns 113</span>

<span class="k">print</span> <span class="s2">&quot;Average temp is </span><span class="si">%f</span><span class="s2">F&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">functools</span><span class="o">.</span><span class="n">reduce</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">:</span> <span class="n">x</span><span class="o">+</span><span class="n">y</span><span class="p">,</span> <span class="n">F</span><span class="p">)</span><span class="o">/</span><span class="nb">len</span><span class="p">(</span><span class="n">F</span><span class="p">)</span> <span class="p">)</span>
<span class="c1">#returns Average temp is 99.68F</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>Average temp is 99.680000F
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Which programming paradigm is Hadoop based on? Explain and give a simple example of functional programming in raw python code and show the code running. E.g., in raw python find the average length of a string in collection of strings using a python "map-reduce" (functional programming) job (similar in style to the above). Alternatively, you can do this in python Hadoop Streaming.</p>
<p>strings = ["str1", "string2", "w261", "MAchine learning at SCALE"]
.......</p>
<p>import functools as reduce
temperatures = (36.5, 37, 37.5, 38, 39)
F = map(fahrenheit, temperatures)
print "Average temp is %fF" % (reduce(lambda x,y: x+y, F)/len(F) )</p>
<h1 id="returns-Average-temp-is-99.68F">returns Average temp is 99.68F<a class="anchor-link" href="#returns-Average-temp-is-99.68F">&#182;</a></h1><p>map(sqr, items)</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Hadoop is based on the MapReduce paradigm.  Functional program is a mode of programming in which computation is performed via functions and other high-order functions that can take functions as arguments.  Functional programming notably avoids state-changes, which differentiates it from object oriented programming.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[317]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="c1">#Python map reduce example</span>
<span class="kn">import</span> <span class="nn">functools</span> <span class="kn">as</span> <span class="nn">reduce</span> 

<span class="n">strings</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;str1&quot;</span><span class="p">,</span> <span class="s2">&quot;string2&quot;</span><span class="p">,</span> <span class="s2">&quot;w261&quot;</span><span class="p">,</span> <span class="s2">&quot;MAchine learning at SCALE&quot;</span><span class="p">]</span> 
<span class="n">strLengths</span><span class="o">=</span><span class="nb">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="nb">len</span><span class="p">(</span><span class="n">x</span><span class="p">),</span><span class="n">strings</span><span class="p">)</span>

<span class="k">print</span> <span class="nb">reduce</span><span class="o">.</span><span class="n">reduce</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">:</span> <span class="n">x</span><span class="o">+</span><span class="n">y</span><span class="p">,</span> <span class="n">strLengths</span><span class="p">)</span><span class="o">/</span><span class="nb">len</span><span class="p">(</span><span class="n">strLengths</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>10
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Set-up-your-directories-on-your-local-(VM)-machine-and-on-HDFS">Set up your directories on your local (VM) machine and on HDFS<a class="anchor-link" href="#Set-up-your-directories-on-your-local-(VM)-machine-and-on-HDFS">&#182;</a></h1>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[23]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="o">!</span>pwd
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>/home/cloudera/share
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[25]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="o">!</span>mkdir WordCount
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>mkdir: cannot create directory &#96;WordCount&apos;: File exists
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[26]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="o">%</span><span class="k">cd</span> WordCount
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>/home/cloudera/share/WordCount
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="WordCount:-A-full-example-in-Hadoop-Stream-to-practice-with">WordCount: A full example in Hadoop Stream to practice with<a class="anchor-link" href="#WordCount:-A-full-example-in-Hadoop-Stream-to-practice-with">&#182;</a></h1>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[28]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="c1">#example of a regular expression to detect words in a string. </span>
<span class="kn">import</span> <span class="nn">re</span>
<span class="n">line</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot; 0017.2000-01-17.beck	0	 global risk management operations	&quot; congratulations, sally!!!  kk  ----------------------forwarded by kathy kokas/corp/enron on 01/17/2000  08:08 pm---------------------------  from: rick causey 01/17/2000 06:04 pm  sent by: enron announcements  to: all enron worldwide  cc:  subject: global risk management operations  recognizing enron , s increasing worldwide presence in the wholesale energy  business and the need to insure outstanding internal controls for all of our  risk management activities, regardless of location, a global risk management  operations function has been created under the direction of sally w. beck,  vice president. in this role, sally will report to rick causey, executive  vice president and chief accounting officer.  sally , s responsibilities with regard to global risk management operations  will mirror those of other recently created enron global functions. in this  role, sally will work closely with all enron geographic regions and wholesale  companies to insure that each entity receives individualized regional support  while also focusing on the following global responsibilities:  1. enhance communication among risk management operations professionals.  2. assure the proliferation of best operational practices around the globe.  3. facilitate the allocation of human resources.  4. provide training for risk management operations personnel.  5. coordinate user requirements for shared operational systems.  6. oversee the creation of a global internal control audit plan for risk  management activities.  7. establish procedures for opening new risk management operations offices  and create key benchmarks for measuring on-going risk controls.  each regional operations team will continue its direct reporting relationship  within its business unit, and will collaborate with sally in the delivery of  these critical items. the houston-based risk management operations team under  sue frusco , s leadership, which currently supports risk management activities  for south america and australia, will also report directly to sally.  sally retains her role as vice president of energy operations for enron  north america, reporting to the ena office of the chairman. she has been in  her current role over energy operations since 1997, where she manages risk  consolidation and reporting, risk management administration, physical product  delivery, confirmations and cash management for ena , s physical commodity  trading, energy derivatives trading and financial products trading.  sally has been with enron since 1992, when she joined the company as a  manager in global credit. prior to joining enron, sally had four years  experience as a commercial banker and spent seven years as a registered  securities principal with a regional investment banking firm. she also owned  and managed a retail business for several years.  please join me in supporting sally in this additional coordination role for  global risk management operations.&quot;&quot;&quot;</span>
<span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="s1">r&#39;[a-z]+&#39;</span><span class="p">,</span> <span class="n">line</span><span class="o">.</span><span class="n">lower</span><span class="p">())</span> <span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">10</span><span class="p">]</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">Out[28]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>[&apos;beck&apos;,
 &apos;global&apos;,
 &apos;risk&apos;,
 &apos;management&apos;,
 &apos;operations&apos;,
 &apos;congratulations&apos;,
 &apos;sally&apos;,
 &apos;kk&apos;,
 &apos;forwarded&apos;,
 &apos;by&apos;]</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Dictionaries-are-a-good-way-to-keep-track-of-word-counts">Dictionaries are a good way to keep track of word counts<a class="anchor-link" href="#Dictionaries-are-a-good-way-to-keep-track-of-word-counts">&#182;</a></h3><p>wordCounts={}</p>
<h3 id="defaultdict-are-slightly-more-effectice-way-of-doing-word-counting">defaultdict are slightly more effectice way of doing word counting<a class="anchor-link" href="#defaultdict-are-slightly-more-effectice-way-of-doing-word-counting">&#182;</a></h3><p>One way to do word counting but not best. A defaultdict is like a regular dictionary, except that when you try to look up a key it doesnt contain, it first adds a value for it using a zero-argument function you provided
when you created it. In order to use defaultdicts, you have to import them</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[29]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="c1"># Here is an example of wordcounting with a defaultdict (dictionary structure with a nice </span>
<span class="c1"># default behaviours when a key does not exist in the dictionary</span>
<span class="kn">import</span> <span class="nn">re</span>
<span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">defaultdict</span>

<span class="n">line</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot; 0017.2000-01-17.beck	0	 global risk management operations	&quot; congratulations, sally!!!  kk  ----------------------forwarded by kathy kokas/corp/enron on 01/17/2000  08:08 pm---------------------------  from: rick causey 01/17/2000 06:04 pm  sent by: enron announcements  to: all enron worldwide  cc:  subject: global risk management operations  recognizing enron , s increasing worldwide presence in the wholesale energy  business and the need to insure outstanding internal controls for all of our  risk management activities, regardless of location, a global risk management  operations function has been created under the direction of sally w. beck,  vice president. in this role, sally will report to rick causey, executive  vice president and chief accounting officer.  sally , s responsibilities with regard to global risk management operations  will mirror those of other recently created enron global functions. in this  role, sally will work closely with all enron geographic regions and wholesale  companies to insure that each entity receives individualized regional support  while also focusing on the following global responsibilities:  1. enhance communication among risk management operations professionals.  2. assure the proliferation of best operational practices around the globe.  3. facilitate the allocation of human resources.  4. provide training for risk management operations personnel.  5. coordinate user requirements for shared operational systems.  6. oversee the creation of a global internal control audit plan for risk  management activities.  7. establish procedures for opening new risk management operations offices  and create key benchmarks for measuring on-going risk controls.  each regional operations team will continue its direct reporting relationship  within its business unit, and will collaborate with sally in the delivery of  these critical items. the houston-based risk management operations team under  sue frusco , s leadership, which currently supports risk management activities  for south america and australia, will also report directly to sally.  sally retains her role as vice president of energy operations for enron  north america, reporting to the ena office of the chairman. she has been in  her current role over energy operations since 1997, where she manages risk  consolidation and reporting, risk management administration, physical product  delivery, confirmations and cash management for ena , s physical commodity  trading, energy derivatives trading and financial products trading.  sally has been with enron since 1992, when she joined the company as a  manager in global credit. prior to joining enron, sally had four years  experience as a commercial banker and spent seven years as a registered  securities principal with a regional investment banking firm. she also owned  and managed a retail business for several years.  please join me in supporting sally in this additional coordination role for  global risk management operations.&quot;&quot;&quot;</span>
<span class="n">wordCounts</span><span class="o">=</span><span class="n">defaultdict</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
<span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="s1">r&#39;[a-z]+&#39;</span><span class="p">,</span> <span class="n">line</span><span class="o">.</span><span class="n">lower</span><span class="p">()):</span>
    <span class="c1">#if word in [&quot;a&quot;]:</span>
        <span class="c1">#print word,&quot;\n&quot;</span>
    <span class="n">wordCounts</span><span class="p">[</span><span class="n">word</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">wordCounts</span><span class="p">)[</span><span class="mi">0</span><span class="p">:</span><span class="mi">10</span><span class="p">]:</span>
    <span class="k">print</span> <span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">wordCounts</span><span class="p">[</span><span class="n">key</span><span class="p">])</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>(&apos;a&apos;, 7)
(&apos;accounting&apos;, 1)
(&apos;activities&apos;, 3)
(&apos;additional&apos;, 1)
(&apos;administration&apos;, 1)
(&apos;all&apos;, 3)
(&apos;allocation&apos;, 1)
(&apos;also&apos;, 3)
(&apos;america&apos;, 2)
(&apos;among&apos;, 1)
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[38]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span>%%bash

sudo touch /home/cloudera/share/WordCount/mapper.py
sudo touch /home/cloudera/share/WordCount/reducer.py
chmod -R <span class="m">777</span> /home/cloudera/share/WordCount
<span class="nb">pwd</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>/home/cloudera/share/WordCount
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[51]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="o">%%</span><span class="k">writefile</span> /home/cloudera/share/WordCount/mapper.py
#!/usr/bin/env python

import sys
#sys.stderr.write(&quot;reporter:counter:Tokens,Total,1&quot;) # NOTE missing the carriage return so wont work
# Set up counters to monitor/understand the number of times a mapper task is run
sys.stderr.write(&quot;reporter:counter:Mapper Counters,Calls,1\n&quot;)
sys.stderr.write(&quot;reporter:status:processing my message...how are  you\n&quot;)

for line in sys.stdin:
    for word in line.split():
        print &#39;%s\t%s&#39; % (word, 1)
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>Overwriting /home/cloudera/share/WordCount/mapper.py
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[78]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="o">%%</span><span class="k">writefile</span> /home/cloudera/share/WordCount/reducer.py
#!/usr/bin/env python

import sys

cur_key = None
cur_count = 0
# Set up counters to monitor/understand the number of times a reducer task is run
sys.stderr.write(&quot;reporter:counter:Reducer Counters,Calls,1\n&quot;)
for line in sys.stdin:
    key, value = line.split()
    if key == cur_key:
        cur_count += int(value)
    else:
        if cur_key:
            print &#39;%s\t%s&#39; % (cur_key, cur_count)
        cur_key = key
        cur_count = int(value)

print &#39;%s\t%s&#39; % (cur_key, cur_count)
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>Overwriting /home/cloudera/share/WordCount/reducer.py
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[70]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="o">!</span>chmod a+x /home/cloudera/share/WordCount/mapper.py
<span class="o">!</span>chmod a+x /home/cloudera/share/WordCount/reducer.py
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[54]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span>%%bash

<span class="nb">pwd</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>/home/cloudera/share
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[55]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="c1">#Unit test the mapper</span>
<span class="o">!</span><span class="nb">echo</span> <span class="s2">&quot;foo foo quux labs foo bar quux&quot;</span> <span class="p">|</span> /home/cloudera/share/WordCount/mapper.py 
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>reporter:counter:Mapper Counters,Calls,1
reporter:status:processing my message...how are  you
foo	1
foo	1
quux	1
labs	1
foo	1
bar	1
quux	1
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[56]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="c1">#Unit test the mapper</span>
<span class="o">!</span><span class="nb">echo</span> <span class="s2">&quot;foo foo quux labs foo bar quux&quot;</span> <span class="p">|</span> /home/cloudera/share/WordCount/mapper.py <span class="p">|</span>sort -k1,1 
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>reporter:counter:Mapper Counters,Calls,1
reporter:status:processing my message...how are  you
bar	1
foo	1
foo	1
foo	1
labs	1
quux	1
quux	1
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[57]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span>%%bash
<span class="c1">#Systems test the mapper and reducer</span>

<span class="nb">echo</span> <span class="s2">&quot;foo foo quux labs foo bar quux&quot;</span> <span class="p">|</span> /home/cloudera/share/WordCount/mapper.py <span class="p">|</span> sort -k1,1 <span class="p">|</span> ~/share/WordCount/reducer.py<span class="p">|</span> sort -k2,2nr
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>foo	3
quux	2
bar	1
labs	1
</pre>
</div>
</div>

<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stderr output_text">
<pre>reporter:counter:Reducer Counters,Calls,1
reporter:counter:Mapper Counters,Calls,1
reporter:status:processing my message...how are  you
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[58]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="o">!</span>sudo touch /home/cloudera/share/WordCount/testWordCountInput.txt
<span class="o">!</span>sudo chmod -R <span class="m">777</span> /home/cloudera/share/WordCount
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[59]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="o">%%</span><span class="k">writefile</span> ~/share/WordCount/testWordCountInput.txt
hello this is Jimi
jimi who Jimi three Jimi 
Hello
hello
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>Overwriting /home/cloudera/share/WordCount/testWordCountInput.txt
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[60]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="o">!</span>hdfs dfs -rm testWordCountInput.txt 
<span class="o">!</span>hdfs dfs -copyFromLocal /home/cloudera/share/WordCount/testWordCountInput.txt 
<span class="o">!</span>hdfs dfs -rm -r wordcount-output
<span class="c1">#usr/local/Cellar/hadoop/2.6.0/libexec/share/hadoop/tools/lib</span>
<span class="n">dataDir</span> <span class="o">=</span> <span class="s2">&quot;/home/cloudera/share/WordCount&quot;</span>

<span class="o">!</span>hadoop jar /usr/lib/hadoop-0.20-mapreduce/contrib/streaming/hadoop-streaming-2.6.0-mr1-cdh5.8.0.jar <span class="err">\</span>
   <span class="o">-</span><span class="n">mapper</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">cloudera</span><span class="o">/</span><span class="n">share</span><span class="o">/</span><span class="n">WordCount</span><span class="o">/</span><span class="n">mapper</span><span class="o">.</span><span class="n">py</span> \
   <span class="o">-</span><span class="n">reducer</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">cloudera</span><span class="o">/</span><span class="n">share</span><span class="o">/</span><span class="n">WordCount</span><span class="o">/</span><span class="n">reducer</span><span class="o">.</span><span class="n">py</span> \
   <span class="o">-</span><span class="n">combiner</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">cloudera</span><span class="o">/</span><span class="n">share</span><span class="o">/</span><span class="n">WordCount</span><span class="o">/</span><span class="n">reducer</span><span class="o">.</span><span class="n">py</span> \
   <span class="o">-</span><span class="nb">input</span> <span class="n">testWordCountInput</span><span class="o">.</span><span class="n">txt</span> \
   <span class="o">-</span><span class="n">output</span> <span class="n">wordcount</span><span class="o">-</span><span class="n">output</span>  \
   <span class="o">-</span><span class="n">numReduceTasks</span> <span class="mi">3</span>
   <span class="c1">#--D mapreduce.job.reduces=2  depecated</span>
<span class="c1">#-input historical_tours.txt  file on Hadoop</span>


<span class="c1">#output directory on Hadoop </span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>Deleted testWordCountInput.txt
Deleted wordcount-output
packageJobJar: [] [/usr/lib/hadoop-mapreduce/hadoop-streaming-2.6.0-cdh5.8.0.jar] /tmp/streamjob7711235494584458823.jar tmpDir=null
16/09/10 16:27:20 INFO client.RMProxy: Connecting to ResourceManager at /0.0.0.0:8032
16/09/10 16:27:21 INFO client.RMProxy: Connecting to ResourceManager at /0.0.0.0:8032
16/09/10 16:27:22 INFO mapred.FileInputFormat: Total input paths to process : 1
16/09/10 16:27:22 WARN hdfs.DFSClient: Caught exception 
java.lang.InterruptedException
	at java.lang.Object.wait(Native Method)
	at java.lang.Thread.join(Thread.java:1281)
	at java.lang.Thread.join(Thread.java:1355)
	at org.apache.hadoop.hdfs.DFSOutputStream$DataStreamer.closeResponder(DFSOutputStream.java:862)
	at org.apache.hadoop.hdfs.DFSOutputStream$DataStreamer.endBlock(DFSOutputStream.java:600)
	at org.apache.hadoop.hdfs.DFSOutputStream$DataStreamer.run(DFSOutputStream.java:789)
16/09/10 16:27:22 WARN hdfs.DFSClient: Caught exception 
java.lang.InterruptedException
	at java.lang.Object.wait(Native Method)
	at java.lang.Thread.join(Thread.java:1281)
	at java.lang.Thread.join(Thread.java:1355)
	at org.apache.hadoop.hdfs.DFSOutputStream$DataStreamer.closeResponder(DFSOutputStream.java:862)
	at org.apache.hadoop.hdfs.DFSOutputStream$DataStreamer.endBlock(DFSOutputStream.java:600)
	at org.apache.hadoop.hdfs.DFSOutputStream$DataStreamer.run(DFSOutputStream.java:789)
16/09/10 16:27:22 INFO mapreduce.JobSubmitter: number of splits:2
16/09/10 16:27:22 INFO mapreduce.JobSubmitter: Submitting tokens for job: job_1473546181937_0011
16/09/10 16:27:23 INFO impl.YarnClientImpl: Submitted application application_1473546181937_0011
16/09/10 16:27:23 INFO mapreduce.Job: The url to track the job: http://quickstart.cloudera:8088/proxy/application_1473546181937_0011/
16/09/10 16:27:23 INFO mapreduce.Job: Running job: job_1473546181937_0011
16/09/10 16:27:32 INFO mapreduce.Job: Job job_1473546181937_0011 running in uber mode : false
16/09/10 16:27:32 INFO mapreduce.Job:  map 0% reduce 0%
16/09/10 16:27:44 INFO mapreduce.Job:  map 50% reduce 0%
16/09/10 16:27:45 INFO mapreduce.Job:  map 100% reduce 0%
16/09/10 16:28:06 INFO mapreduce.Job:  map 100% reduce 67%
16/09/10 16:28:07 INFO mapreduce.Job:  map 100% reduce 100%
16/09/10 16:28:08 INFO mapreduce.Job: Job job_1473546181937_0011 completed successfully
16/09/10 16:28:08 INFO mapreduce.Job: Counters: 52
	File System Counters
		FILE: Number of bytes read=100
		FILE: Number of bytes written=594989
		FILE: Number of read operations=0
		FILE: Number of large read operations=0
		FILE: Number of write operations=0
		HDFS: Number of bytes read=324
		HDFS: Number of bytes written=56
		HDFS: Number of read operations=15
		HDFS: Number of large read operations=0
		HDFS: Number of write operations=6
	Job Counters 
		Killed reduce tasks=1
		Launched map tasks=2
		Launched reduce tasks=3
		Data-local map tasks=2
		Total time spent by all maps in occupied slots (ms)=18556
		Total time spent by all reduces in occupied slots (ms)=55957
		Total time spent by all map tasks (ms)=18556
		Total time spent by all reduce tasks (ms)=55957
		Total vcore-seconds taken by all map tasks=18556
		Total vcore-seconds taken by all reduce tasks=55957
		Total megabyte-seconds taken by all map tasks=19001344
		Total megabyte-seconds taken by all reduce tasks=57299968
	Map-Reduce Framework
		Map input records=4
		Map output records=11
		Map output bytes=78
		Map output materialized bytes=118
		Input split bytes=240
		Combine input records=11
		Combine output records=9
		Reduce input groups=8
		Reduce shuffle bytes=118
		Reduce input records=9
		Reduce output records=8
		Spilled Records=18
		Shuffled Maps =6
		Failed Shuffles=0
		Merged Map outputs=6
		GC time elapsed (ms)=499
		CPU time spent (ms)=4220
		Physical memory (bytes) snapshot=806064128
		Virtual memory (bytes) snapshot=7526223872
		Total committed heap usage (bytes)=513482752
	Mapper Counters
		Calls=2
	Reducer Counters
		Calls=8
	Shuffle Errors
		BAD_ID=0
		CONNECTION=0
		IO_ERROR=0
		WRONG_LENGTH=0
		WRONG_MAP=0
		WRONG_REDUCE=0
	File Input Format Counters 
		Bytes Read=84
	File Output Format Counters 
		Bytes Written=56
16/09/10 16:28:08 INFO streaming.StreamJob: Output directory: wordcount-output
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[61]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="c1">#have a look at the input</span>
<span class="o">!</span><span class="nb">echo</span>  <span class="s2">&quot;\n---------------------------\n&quot;</span>
<span class="o">!</span>hdfs dfs -cat testWordCountInput.txt
<span class="o">!</span><span class="nb">echo</span>  <span class="s2">&quot;\n---------------------------\n&quot;</span>
<span class="c1"># Wordcount output</span>
<span class="o">!</span>hdfs dfs -cat wordcount-output/part-0000*
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>\n---------------------------\n
hello this is Jimi
jimi who Jimi three Jimi 
Hello
hello\n---------------------------\n
Hello	1
jimi	1
this	1
three	1
Jimi	3
hello	2
is	1
who	1
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="3.--HW2.1.-Sort-in-Hadoop-MapReduce--(Partial-sort,--total-sort)--">3.  HW2.1. Sort in Hadoop MapReduce  (Partial sort,  total sort)  <a name="1.1" /><a class="anchor-link" href="#3.--HW2.1.-Sort-in-Hadoop-MapReduce--(Partial-sort,--total-sort)--">&#182;</a></h2><p><a href="#TOC">Back to Table of Contents</a></p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Using Alices Adventures in Wonderland tackle ths problem. (You can obtain a free plain text version of the book, along with many others, from <a href="http://www.gutenberg.org.">here</a></p>
<p>Change the mapper.py/reducer.py combination so that you get only the number of words starting with an uppercase letter, and the number of words starting with a lowercase letter. In other words, you need an output file with only 2 lines, one giving you the number of words staring with a lowercase ('a' to 'z'), and the other line indicating the number of words starting with an uppercase letter ('A' to 'Z').</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[23]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="o">!</span>curl <span class="s1">&#39;http://www.gutenberg.org/cache/epub/11/pg11.txt&#39;</span> -o alicesTExtFilename.txt
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
100  163k  100  163k    0     0   248k      0 --:--:-- --:--:-- --:--:--  257k
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[71]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="o">%%</span><span class="k">writefile</span> /home/cloudera/share/WordCount/mapper.py
#!/usr/bin/env python
## mapper.py
## Author: Anthony Spalvieri-Kruse
## Description: mapper that maps to tuples of all upper and lower case words 

import sys

for line in sys.stdin:
    for word in line.split():
        print &#39;%s\t%s&#39; % (&quot;UpperCase&quot; if word.istitle() else &quot;LowerCase&quot;, 1)
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>Overwriting /home/cloudera/share/WordCount/mapper.py
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[63]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="o">!</span><span class="nb">echo</span> <span class="s2">&quot;foo foo quux Labs foo bar quux&quot;</span> <span class="p">|</span> WordCount/mapper.py 
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>LowerCase	1
LowerCase	1
LowerCase	1
UpperCase	1
LowerCase	1
LowerCase	1
LowerCase	1
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[64]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="c1">#Unit test the mapper</span>
<span class="o">!</span>pwd
<span class="o">!</span>less /home/cloudera/share/WordCount/testWordCountInput.txt <span class="p">|</span> /home/cloudera/share/WordCount/mapper.py
<span class="o">!</span>head /home/cloudera/share/WordCount/alicesTExtFilename.txt <span class="p">|</span> /home/cloudera/share/WordCount/mapper.py <span class="p">|</span> sort -k1,1
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>/home/cloudera/share
LowerCase	1
LowerCase	1
LowerCase	1
UpperCase	1
LowerCase	1
LowerCase	1
UpperCase	1
LowerCase	1
UpperCase	1
UpperCase	1
LowerCase	1
LowerCase	1
LowerCase	1
LowerCase	1
LowerCase	1
LowerCase	1
LowerCase	1
LowerCase	1
LowerCase	1
LowerCase	1
LowerCase	1
LowerCase	1
LowerCase	1
LowerCase	1
LowerCase	1
LowerCase	1
LowerCase	1
LowerCase	1
LowerCase	1
LowerCase	1
LowerCase	1
LowerCase	1
LowerCase	1
LowerCase	1
LowerCase	1
LowerCase	1
LowerCase	1
LowerCase	1
LowerCase	1
LowerCase	1
LowerCase	1
LowerCase	1
LowerCase	1
LowerCase	1
LowerCase	1
LowerCase	1
LowerCase	1
LowerCase	1
LowerCase	1
LowerCase	1
LowerCase	1
LowerCase	1
LowerCase	1
LowerCase	1
LowerCase	1
LowerCase	1
UpperCase	1
UpperCase	1
UpperCase	1
UpperCase	1
UpperCase	1
UpperCase	1
UpperCase	1
UpperCase	1
UpperCase	1
UpperCase	1
UpperCase	1
UpperCase	1
UpperCase	1
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[87]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="o">%%</span><span class="k">writefile</span> /home/cloudera/share/WordCount/reducer.py
#!/usr/bin/env python

import sys

cur_key = None
cur_count = 0
# Set up counters to monitor/understand the number of times a reducer task is run
sys.stderr.write(&quot;reporter:counter:Reducer Counters,Calls,1\n&quot;)
for line in sys.stdin:
    key, value = line.split()
    if key == cur_key:
        cur_count += int(value)
    else:
        if cur_key:
            print &#39;%s\t%s&#39; % (cur_key, cur_count)
        cur_key = key
        cur_count = int(value)

print &#39;%s\t%s&#39; % (cur_key, cur_count)
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>Overwriting /home/cloudera/share/WordCount/reducer.py
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[79]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="o">!</span>chmod a+x /home/cloudera/share/WordCount/mapper.py
<span class="o">!</span>chmod a+x /home/cloudera/share/WordCount/reducer.py
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[89]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="o">!</span>hdfs dfs -rm alicesTExtFilename.txt
<span class="o">!</span>hdfs dfs -copyFromLocal /home/cloudera/share/WordCount/alicesTExtFilename.txt
<span class="o">!</span>hdfs dfs -rm -r wordcount-output
<span class="c1">#usr/local/Cellar/hadoop/2.6.0/libexec/share/hadoop/tools/lib</span>
<span class="n">dataDir</span> <span class="o">=</span> <span class="s2">&quot;/home/cloudera/share/WordCount&quot;</span>

<span class="o">!</span>hadoop jar /usr/lib/hadoop-0.20-mapreduce/contrib/streaming/hadoop-streaming-2.6.0-mr1-cdh5.8.0.jar <span class="err">\</span>
   <span class="o">-</span><span class="n">mapper</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">cloudera</span><span class="o">/</span><span class="n">share</span><span class="o">/</span><span class="n">WordCount</span><span class="o">/</span><span class="n">mapper</span><span class="o">.</span><span class="n">py</span> \
   <span class="o">-</span><span class="n">reducer</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">cloudera</span><span class="o">/</span><span class="n">share</span><span class="o">/</span><span class="n">WordCount</span><span class="o">/</span><span class="n">reducer</span><span class="o">.</span><span class="n">py</span> \
   <span class="o">-</span><span class="n">combiner</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">cloudera</span><span class="o">/</span><span class="n">share</span><span class="o">/</span><span class="n">WordCount</span><span class="o">/</span><span class="n">reducer</span><span class="o">.</span><span class="n">py</span> \
   <span class="o">-</span><span class="nb">input</span> <span class="n">alicesTExtFilename</span><span class="o">.</span><span class="n">txt</span> \
   <span class="o">-</span><span class="n">output</span> <span class="n">wordcount</span><span class="o">-</span><span class="n">output</span>  \
   <span class="o">-</span><span class="n">numReduceTasks</span> <span class="mi">3</span>
   <span class="c1">#--D mapreduce.job.reduces=2  depecated</span>
<span class="c1">#-input historical_tours.txt  file on Hadoop</span>


<span class="c1">#output directory on Hadoop </span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>rm: &#96;alicesTExtFilename.txt&apos;: No such file or directory
Deleted wordcount-output
packageJobJar: [] [/usr/lib/hadoop-mapreduce/hadoop-streaming-2.6.0-cdh5.8.0.jar] /tmp/streamjob4975422309406844954.jar tmpDir=null
16/09/10 16:49:07 INFO client.RMProxy: Connecting to ResourceManager at /0.0.0.0:8032
16/09/10 16:49:08 INFO client.RMProxy: Connecting to ResourceManager at /0.0.0.0:8032
16/09/10 16:49:08 INFO mapred.FileInputFormat: Total input paths to process : 1
16/09/10 16:49:08 WARN hdfs.DFSClient: Caught exception 
java.lang.InterruptedException
	at java.lang.Object.wait(Native Method)
	at java.lang.Thread.join(Thread.java:1281)
	at java.lang.Thread.join(Thread.java:1355)
	at org.apache.hadoop.hdfs.DFSOutputStream$DataStreamer.closeResponder(DFSOutputStream.java:862)
	at org.apache.hadoop.hdfs.DFSOutputStream$DataStreamer.endBlock(DFSOutputStream.java:600)
	at org.apache.hadoop.hdfs.DFSOutputStream$DataStreamer.run(DFSOutputStream.java:789)
16/09/10 16:49:08 INFO mapreduce.JobSubmitter: number of splits:2
16/09/10 16:49:09 INFO mapreduce.JobSubmitter: Submitting tokens for job: job_1473546181937_0019
16/09/10 16:49:10 INFO impl.YarnClientImpl: Submitted application application_1473546181937_0019
16/09/10 16:49:10 INFO mapreduce.Job: The url to track the job: http://quickstart.cloudera:8088/proxy/application_1473546181937_0019/
16/09/10 16:49:10 INFO mapreduce.Job: Running job: job_1473546181937_0019
16/09/10 16:49:19 INFO mapreduce.Job: Job job_1473546181937_0019 running in uber mode : false
16/09/10 16:49:19 INFO mapreduce.Job:  map 0% reduce 0%
16/09/10 16:49:31 INFO mapreduce.Job:  map 50% reduce 0%
16/09/10 16:49:32 INFO mapreduce.Job:  map 100% reduce 0%
16/09/10 16:49:51 INFO mapreduce.Job:  map 100% reduce 67%
16/09/10 16:49:52 INFO mapreduce.Job:  map 100% reduce 100%
16/09/10 16:49:52 INFO mapreduce.Job: Job job_1473546181937_0019 completed successfully
16/09/10 16:49:52 INFO mapreduce.Job: Counters: 52
	File System Counters
		FILE: Number of bytes read=88
		FILE: Number of bytes written=594965
		FILE: Number of read operations=0
		FILE: Number of large read operations=0
		FILE: Number of write operations=0
		HDFS: Number of bytes read=171854
		HDFS: Number of bytes written=31
		HDFS: Number of read operations=15
		HDFS: Number of large read operations=0
		HDFS: Number of write operations=6
	Job Counters 
		Killed map tasks=1
		Killed reduce tasks=1
		Launched map tasks=2
		Launched reduce tasks=3
		Data-local map tasks=2
		Total time spent by all maps in occupied slots (ms)=20848
		Total time spent by all reduces in occupied slots (ms)=48109
		Total time spent by all map tasks (ms)=20848
		Total time spent by all reduce tasks (ms)=48109
		Total vcore-seconds taken by all map tasks=20848
		Total vcore-seconds taken by all reduce tasks=48109
		Total megabyte-seconds taken by all map tasks=21348352
		Total megabyte-seconds taken by all reduce tasks=49263616
	Map-Reduce Framework
		Map input records=3735
		Map output records=29461
		Map output bytes=353532
		Map output materialized bytes=106
		Input split bytes=240
		Combine input records=29461
		Combine output records=4
		Reduce input groups=2
		Reduce shuffle bytes=106
		Reduce input records=4
		Reduce output records=2
		Spilled Records=8
		Shuffled Maps =6
		Failed Shuffles=0
		Merged Map outputs=6
		GC time elapsed (ms)=435
		CPU time spent (ms)=4610
		Physical memory (bytes) snapshot=790925312
		Virtual memory (bytes) snapshot=7524864000
		Total committed heap usage (bytes)=513482752
	Reducer Counters
		Calls=6
	Shuffle Errors
		BAD_ID=0
		CONNECTION=0
		IO_ERROR=0
		WRONG_LENGTH=0
		WRONG_MAP=0
		WRONG_REDUCE=0
	File Input Format Counters 
		Bytes Read=171614
	File Output Format Counters 
		Bytes Written=31
16/09/10 16:49:52 INFO streaming.StreamJob: Output directory: wordcount-output
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[90]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="c1"># Wordcount output</span>
<span class="o">!</span>hdfs dfs -cat wordcount-output/part-0000*
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>UpperCase	3341
LowerCase	26120
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[91]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="o">!</span>hdfs dfs -ls wordcount-output
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>Found 4 items
-rw-r--r--   1 cloudera cloudera          0 2016-09-10 16:49 wordcount-output/_SUCCESS
-rw-r--r--   1 cloudera cloudera          0 2016-09-10 16:49 wordcount-output/part-00000
-rw-r--r--   1 cloudera cloudera         15 2016-09-10 16:49 wordcount-output/part-00001
-rw-r--r--   1 cloudera cloudera         16 2016-09-10 16:49 wordcount-output/part-00002
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><strong>Some background on Sorting in Hadoop</strong>
Hadoop will always give a total sort on the key (i.e., key part of the key-value pairs produced by the mappers) when using just one reducer. When using multiple reducers Hadoop will by default give you a partial sort (i.e., all records within a partition will be sorted by the key (i.e., key part of the key-value pairs produced by the mappers) .
  To achieve a total sort one needs to write a custom mapper to to prepend a partition key to each record, partition on that prepended key, and then do a secondary sort  on a composite key that is made up of the prepended key and the original key.  This can be done with one map-reduce job. This will be covered during Live Session of Week 3.</p>
<h3 id="HW2.1.2--TOTAL-SORT-using-a-single-reducer">HW2.1.2  TOTAL SORT using a single reducer<a class="anchor-link" href="#HW2.1.2--TOTAL-SORT-using-a-single-reducer">&#182;</a></h3><p>Write a MapReduce job that creates a text file named <strong>alice_words.txt</strong> containing an alphabetical listing of all the words, and the number of times each occurs, in the text version of Alices Adventures in Wonderland. (You can obtain a free plain text version of the book, along with many others, from <a href="http://www.gutenberg.org/cache/epub/11/pg11.txt">here</a> The first 10 lines of your output file should look something like this (the counts are not totally precise):</p>

</div>
</div>
</div>Word              Count
=======================
a                 631
a-piece           1
abide             1
able              1
about             94
above             3
absence           1
absurd            2
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[11]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="o">!</span>curl <span class="s1">&#39;http://www.gutenberg.org/cache/epub/11/pg11.txt&#39;</span> -o alicesTExtFilename.txt
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
100  163k  100  163k    0     0   342k      0 --:--:-- --:--:-- --:--:--  365k
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[12]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="c1">#display the first few lines</span>
<span class="o">!</span>head alicesTExtFilename.txt
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>









</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[93]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span>%%bash

sudo touch /home/cloudera/share/WordCount/mapper212.py
sudo touch /home/cloudera/share/WordCount/reducer212.py
sudo chmod -R <span class="m">777</span> /home/cloudera/share/WordCount/
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[2]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="o">%%</span><span class="k">writefile</span> /home/cloudera/share/WordCount/mapper212.py
#!/usr/bin/env python
## mapper.py
## Author: Anthony Spalvieri-Kruse
## Description: mapper that maps to tuples of all upper and lower case words 

import sys
import re

for line in sys.stdin:
    for word in re.findall(r&#39;[a-z]+&#39;, line.lower()):  #line.split() previously 
        print &#39;%s\t%s&#39; % (word, 1)
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>Overwriting /home/cloudera/share/WordCount/mapper212.py
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[95]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="o">%%</span><span class="k">writefile</span> /home/cloudera/share/WordCount/reducer212.py
#!/usr/bin/env python

import sys

cur_key = None
cur_count = 0
# Set up counters to monitor/understand the number of times a reducer task is run
sys.stderr.write(&quot;reporter:counter:Reducer Counters,Calls,1\n&quot;)
for line in sys.stdin:
    key, value = line.split()
    if key == cur_key:
        cur_count += int(value)
    else:
        if cur_key:
            print &#39;%s\t%s&#39; % (cur_key, cur_count)
        cur_key = key
        cur_count = int(value)

print &#39;%s\t%s&#39; % (cur_key, cur_count)
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>Overwriting /home/cloudera/share/WordCount/reducer212.py
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[3]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="o">!</span>hdfs dfs -rm alicesTExtFilename.txt
<span class="o">!</span>hdfs dfs -copyFromLocal /home/cloudera/share/WordCount/alicesTExtFilename.txt
<span class="o">!</span>hdfs dfs -rm -r alice_words
<span class="c1">#usr/local/Cellar/hadoop/2.6.0/libexec/share/hadoop/tools/lib</span>
<span class="n">dataDir</span> <span class="o">=</span> <span class="s2">&quot;/home/cloudera/share/WordCount&quot;</span>

<span class="o">!</span>hadoop jar /usr/lib/hadoop-0.20-mapreduce/contrib/streaming/hadoop-streaming-2.6.0-mr1-cdh5.8.0.jar <span class="err">\</span>
   <span class="o">-</span><span class="n">mapper</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">cloudera</span><span class="o">/</span><span class="n">share</span><span class="o">/</span><span class="n">WordCount</span><span class="o">/</span><span class="n">mapper212</span><span class="o">.</span><span class="n">py</span> \
   <span class="o">-</span><span class="n">reducer</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">cloudera</span><span class="o">/</span><span class="n">share</span><span class="o">/</span><span class="n">WordCount</span><span class="o">/</span><span class="n">reducer212</span><span class="o">.</span><span class="n">py</span> \
   <span class="o">-</span><span class="n">combiner</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">cloudera</span><span class="o">/</span><span class="n">share</span><span class="o">/</span><span class="n">WordCount</span><span class="o">/</span><span class="n">reducer212</span><span class="o">.</span><span class="n">py</span> \
   <span class="o">-</span><span class="nb">input</span> <span class="n">alicesTExtFilename</span><span class="o">.</span><span class="n">txt</span> \
   <span class="o">-</span><span class="n">output</span> <span class="n">alice_words</span>  \
   <span class="o">-</span><span class="n">numReduceTasks</span> <span class="mi">3</span>
   <span class="c1">#--D mapreduce.job.reduces=2  depecated</span>
<span class="c1">#-input historical_tours.txt  file on Hadoop</span>


<span class="c1">#output directory on Hadoop </span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>Deleted alicesTExtFilename.txt
Deleted alice_words
packageJobJar: [] [/usr/lib/hadoop-mapreduce/hadoop-streaming-2.6.0-cdh5.8.0.jar] /tmp/streamjob6201714444027851897.jar tmpDir=null
16/09/11 09:04:15 INFO client.RMProxy: Connecting to ResourceManager at /0.0.0.0:8032
16/09/11 09:04:15 INFO client.RMProxy: Connecting to ResourceManager at /0.0.0.0:8032
16/09/11 09:04:16 INFO mapred.FileInputFormat: Total input paths to process : 1
16/09/11 09:04:16 WARN hdfs.DFSClient: Caught exception 
java.lang.InterruptedException
	at java.lang.Object.wait(Native Method)
	at java.lang.Thread.join(Thread.java:1281)
	at java.lang.Thread.join(Thread.java:1355)
	at org.apache.hadoop.hdfs.DFSOutputStream$DataStreamer.closeResponder(DFSOutputStream.java:862)
	at org.apache.hadoop.hdfs.DFSOutputStream$DataStreamer.endBlock(DFSOutputStream.java:600)
	at org.apache.hadoop.hdfs.DFSOutputStream$DataStreamer.run(DFSOutputStream.java:789)
16/09/11 09:04:16 WARN hdfs.DFSClient: Caught exception 
java.lang.InterruptedException
	at java.lang.Object.wait(Native Method)
	at java.lang.Thread.join(Thread.java:1281)
	at java.lang.Thread.join(Thread.java:1355)
	at org.apache.hadoop.hdfs.DFSOutputStream$DataStreamer.closeResponder(DFSOutputStream.java:862)
	at org.apache.hadoop.hdfs.DFSOutputStream$DataStreamer.endBlock(DFSOutputStream.java:600)
	at org.apache.hadoop.hdfs.DFSOutputStream$DataStreamer.run(DFSOutputStream.java:789)
16/09/11 09:04:16 INFO mapreduce.JobSubmitter: number of splits:2
16/09/11 09:04:17 INFO mapreduce.JobSubmitter: Submitting tokens for job: job_1473609390916_0002
16/09/11 09:04:17 INFO impl.YarnClientImpl: Submitted application application_1473609390916_0002
16/09/11 09:04:17 INFO mapreduce.Job: The url to track the job: http://quickstart.cloudera:8088/proxy/application_1473609390916_0002/
16/09/11 09:04:17 INFO mapreduce.Job: Running job: job_1473609390916_0002
16/09/11 09:04:26 INFO mapreduce.Job: Job job_1473609390916_0002 running in uber mode : false
16/09/11 09:04:26 INFO mapreduce.Job:  map 0% reduce 0%
16/09/11 09:04:40 INFO mapreduce.Job:  map 50% reduce 0%
16/09/11 09:04:41 INFO mapreduce.Job:  map 100% reduce 0%
16/09/11 09:04:59 INFO mapreduce.Job:  map 100% reduce 67%
16/09/11 09:05:00 INFO mapreduce.Job:  map 100% reduce 100%
16/09/11 09:05:00 INFO mapreduce.Job: Job job_1473609390916_0002 completed successfully
16/09/11 09:05:00 INFO mapreduce.Job: Counters: 52
	File System Counters
		FILE: Number of bytes read=45299
		FILE: Number of bytes written=685397
		FILE: Number of read operations=0
		FILE: Number of large read operations=0
		FILE: Number of write operations=0
		HDFS: Number of bytes read=171854
		HDFS: Number of bytes written=28490
		HDFS: Number of read operations=15
		HDFS: Number of large read operations=0
		HDFS: Number of write operations=6
	Job Counters 
		Killed map tasks=1
		Killed reduce tasks=1
		Launched map tasks=2
		Launched reduce tasks=3
		Data-local map tasks=2
		Total time spent by all maps in occupied slots (ms)=21682
		Total time spent by all reduces in occupied slots (ms)=48183
		Total time spent by all map tasks (ms)=21682
		Total time spent by all reduce tasks (ms)=48183
		Total vcore-seconds taken by all map tasks=21682
		Total vcore-seconds taken by all reduce tasks=48183
		Total megabyte-seconds taken by all map tasks=22202368
		Total megabyte-seconds taken by all reduce tasks=49339392
	Map-Reduce Framework
		Map input records=3735
		Map output records=30419
		Map output bytes=214246
		Map output materialized bytes=45317
		Input split bytes=240
		Combine input records=30419
		Combine output records=4028
		Reduce input groups=3007
		Reduce shuffle bytes=45317
		Reduce input records=4028
		Reduce output records=3007
		Spilled Records=8056
		Shuffled Maps =6
		Failed Shuffles=0
		Merged Map outputs=6
		GC time elapsed (ms)=493
		CPU time spent (ms)=5350
		Physical memory (bytes) snapshot=830279680
		Virtual memory (bytes) snapshot=7525326848
		Total committed heap usage (bytes)=513482752
	Reducer Counters
		Calls=9
	Shuffle Errors
		BAD_ID=0
		CONNECTION=0
		IO_ERROR=0
		WRONG_LENGTH=0
		WRONG_MAP=0
		WRONG_REDUCE=0
	File Input Format Counters 
		Bytes Read=171614
	File Output Format Counters 
		Bytes Written=28490
16/09/11 09:05:00 INFO streaming.StreamJob: Output directory: alice_words
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[41]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="o">!</span>hdfs dfs -cat alice_words/part-00001 <span class="p">|</span> head -10
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>alice	403
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="HW2.1.2-TOTAL-SORT-using-multiple-reducers-[OPTITIONAL-for-this-week;-will-be-covered-in-next-live-session]">HW2.1.2 TOTAL SORT using multiple reducers [OPTITIONAL for this week; will be covered in next live session]<a class="anchor-link" href="#HW2.1.2-TOTAL-SORT-using-multiple-reducers-[OPTITIONAL-for-this-week;-will-be-covered-in-next-live-session]">&#182;</a></h3><p>Change the mapper.py/reducer.py combination from the the above WordCount example so that you get the longest word present in the text version of Alices Adventures in Wonderland. (You can obtain a free plain text version of the book, along with many others, from <a href="http://www.gutenberg.org/cache/epub/11/pg11.txt">here</a>.</p>
<ul>
<li>First use one reducer and report your result. HINT: from emit records of the form: "longestWord\theLongWordEver\t15".  </li>
<li>Run you Hadoop streaming job with 3 reducers? Anything change with respect to your solution.</li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="HW2.1.3-How-many-times-does-the-word-alice-occur-in-the-book?">HW2.1.3 How many times does the word alice occur in the book?<a class="anchor-link" href="#HW2.1.3-How-many-times-does-the-word-alice-occur-in-the-book?">&#182;</a></h3><p>Write a MapReduce job to determine this. Please pay attention to what you use for a  key and value as output from your mapper.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[8]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span>%%bash
sudo touch /home/cloudera/share/WordCount/mapper213.py
sudo chmod -R <span class="m">777</span> /home/cloudera/share/WordCount/
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[11]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="o">%%</span><span class="k">writefile</span> /home/cloudera/share/WordCount/mapper213.py
#!/usr/bin/env python
## mapper.py
## Author: Anthony Spalvieri-Kruse
## Description: mapper that maps to tuples of all upper and lower case words 

import sys
import re

for line in sys.stdin:
    for word in re.findall(r&#39;[a-z]+&#39;, line.lower()):  #line.split() previously 
        if word == &quot;alice&quot;:
            print &#39;%s\t%s&#39; % (word, 1)
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>Overwriting /home/cloudera/share/WordCount/mapper213.py
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[12]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="o">!</span>hdfs dfs -rm alicesTExtFilename.txt
<span class="o">!</span>hdfs dfs -copyFromLocal /home/cloudera/share/WordCount/alicesTExtFilename.txt
<span class="o">!</span>hdfs dfs -rm -r alice_words
<span class="c1">#usr/local/Cellar/hadoop/2.6.0/libexec/share/hadoop/tools/lib</span>
<span class="n">dataDir</span> <span class="o">=</span> <span class="s2">&quot;/home/cloudera/share/WordCount&quot;</span>

<span class="o">!</span>hadoop jar /usr/lib/hadoop-0.20-mapreduce/contrib/streaming/hadoop-streaming-2.6.0-mr1-cdh5.8.0.jar <span class="err">\</span>
   <span class="o">-</span><span class="n">mapper</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">cloudera</span><span class="o">/</span><span class="n">share</span><span class="o">/</span><span class="n">WordCount</span><span class="o">/</span><span class="n">mapper213</span><span class="o">.</span><span class="n">py</span> \
   <span class="o">-</span><span class="n">reducer</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">cloudera</span><span class="o">/</span><span class="n">share</span><span class="o">/</span><span class="n">WordCount</span><span class="o">/</span><span class="n">reducer212</span><span class="o">.</span><span class="n">py</span> \
   <span class="o">-</span><span class="n">combiner</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">cloudera</span><span class="o">/</span><span class="n">share</span><span class="o">/</span><span class="n">WordCount</span><span class="o">/</span><span class="n">reducer212</span><span class="o">.</span><span class="n">py</span> \
   <span class="o">-</span><span class="nb">input</span> <span class="n">alicesTExtFilename</span><span class="o">.</span><span class="n">txt</span> \
   <span class="o">-</span><span class="n">output</span> <span class="n">alice_words</span>  \
   <span class="o">-</span><span class="n">numReduceTasks</span> <span class="mi">3</span>
   <span class="c1">#--D mapreduce.job.reduces=2  depecated</span>
<span class="c1">#-input historical_tours.txt  file on Hadoop</span>


<span class="c1">#output directory on Hadoop </span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>Deleted alicesTExtFilename.txt
Deleted alice_words
packageJobJar: [] [/usr/lib/hadoop-mapreduce/hadoop-streaming-2.6.0-cdh5.8.0.jar] /tmp/streamjob4144715607618691852.jar tmpDir=null
16/09/11 11:13:11 INFO client.RMProxy: Connecting to ResourceManager at /0.0.0.0:8032
16/09/11 11:13:11 INFO client.RMProxy: Connecting to ResourceManager at /0.0.0.0:8032
16/09/11 11:13:12 INFO mapred.FileInputFormat: Total input paths to process : 1
16/09/11 11:13:12 WARN hdfs.DFSClient: Caught exception 
java.lang.InterruptedException
	at java.lang.Object.wait(Native Method)
	at java.lang.Thread.join(Thread.java:1281)
	at java.lang.Thread.join(Thread.java:1355)
	at org.apache.hadoop.hdfs.DFSOutputStream$DataStreamer.closeResponder(DFSOutputStream.java:862)
	at org.apache.hadoop.hdfs.DFSOutputStream$DataStreamer.endBlock(DFSOutputStream.java:600)
	at org.apache.hadoop.hdfs.DFSOutputStream$DataStreamer.run(DFSOutputStream.java:789)
16/09/11 11:13:12 WARN hdfs.DFSClient: Caught exception 
java.lang.InterruptedException
	at java.lang.Object.wait(Native Method)
	at java.lang.Thread.join(Thread.java:1281)
	at java.lang.Thread.join(Thread.java:1355)
	at org.apache.hadoop.hdfs.DFSOutputStream$DataStreamer.closeResponder(DFSOutputStream.java:862)
	at org.apache.hadoop.hdfs.DFSOutputStream$DataStreamer.endBlock(DFSOutputStream.java:600)
	at org.apache.hadoop.hdfs.DFSOutputStream$DataStreamer.run(DFSOutputStream.java:789)
16/09/11 11:13:12 INFO mapreduce.JobSubmitter: number of splits:2
16/09/11 11:13:13 INFO mapreduce.JobSubmitter: Submitting tokens for job: job_1473609390916_0004
16/09/11 11:13:13 INFO impl.YarnClientImpl: Submitted application application_1473609390916_0004
16/09/11 11:13:13 INFO mapreduce.Job: The url to track the job: http://quickstart.cloudera:8088/proxy/application_1473609390916_0004/
16/09/11 11:13:13 INFO mapreduce.Job: Running job: job_1473609390916_0004
16/09/11 11:13:23 INFO mapreduce.Job: Job job_1473609390916_0004 running in uber mode : false
16/09/11 11:13:23 INFO mapreduce.Job:  map 0% reduce 0%
16/09/11 11:13:34 INFO mapreduce.Job:  map 50% reduce 0%
16/09/11 11:13:35 INFO mapreduce.Job:  map 100% reduce 0%
16/09/11 11:13:48 INFO mapreduce.Job:  map 100% reduce 33%
16/09/11 11:13:51 INFO mapreduce.Job:  map 100% reduce 100%
16/09/11 11:13:52 INFO mapreduce.Job: Job job_1473609390916_0004 completed successfully
16/09/11 11:13:52 INFO mapreduce.Job: Counters: 52
	File System Counters
		FILE: Number of bytes read=42
		FILE: Number of bytes written=594883
		FILE: Number of read operations=0
		FILE: Number of large read operations=0
		FILE: Number of write operations=0
		HDFS: Number of bytes read=171854
		HDFS: Number of bytes written=10
		HDFS: Number of read operations=15
		HDFS: Number of large read operations=0
		HDFS: Number of write operations=6
	Job Counters 
		Killed map tasks=1
		Killed reduce tasks=1
		Launched map tasks=2
		Launched reduce tasks=3
		Data-local map tasks=2
		Total time spent by all maps in occupied slots (ms)=19190
		Total time spent by all reduces in occupied slots (ms)=38671
		Total time spent by all map tasks (ms)=19190
		Total time spent by all reduce tasks (ms)=38671
		Total vcore-seconds taken by all map tasks=19190
		Total vcore-seconds taken by all reduce tasks=38671
		Total megabyte-seconds taken by all map tasks=19650560
		Total megabyte-seconds taken by all reduce tasks=39599104
	Map-Reduce Framework
		Map input records=3735
		Map output records=403
		Map output bytes=3224
		Map output materialized bytes=60
		Input split bytes=240
		Combine input records=403
		Combine output records=2
		Reduce input groups=1
		Reduce shuffle bytes=60
		Reduce input records=2
		Reduce output records=1
		Spilled Records=4
		Shuffled Maps =6
		Failed Shuffles=0
		Merged Map outputs=6
		GC time elapsed (ms)=333
		CPU time spent (ms)=2940
		Physical memory (bytes) snapshot=804835328
		Virtual memory (bytes) snapshot=7524892672
		Total committed heap usage (bytes)=513482752
	Reducer Counters
		Calls=3
	Shuffle Errors
		BAD_ID=0
		CONNECTION=0
		IO_ERROR=0
		WRONG_LENGTH=0
		WRONG_MAP=0
		WRONG_REDUCE=0
	File Input Format Counters 
		Bytes Read=171614
	File Output Format Counters 
		Bytes Written=10
16/09/11 11:13:52 INFO streaming.StreamJob: Output directory: alice_words
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[14]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="o">!</span>hdfs dfs -cat alice_words/part-0000*
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>alice	403
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="3.--HW2.2-EDA-using-WORDCOUNT-in--Hadoop---">3.  HW2.2 EDA using WORDCOUNT in  Hadoop   <a name="1.2" /><a class="anchor-link" href="#3.--HW2.2-EDA-using-WORDCOUNT-in--Hadoop---">&#182;</a></h2><p><a href="#TOC">Back to Table of Contents</a></p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="HW2.2.1-WORDCOUNT">HW2.2.1 WORDCOUNT<a class="anchor-link" href="#HW2.2.1-WORDCOUNT">&#182;</a></h3><p>Using the Enron data from and Hadoop MapReduce streaming, write the mapper/reducer job that  will determine the word count (number of occurrences) of each white-space delimitted token (assume spaces, fullstops, comma as delimiters). Examine the word assistance and report its word count in both SPAM and HAM classes.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[17]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span>%%bash

sudo touch /home/cloudera/share/NaiveBayes/mapper221.py
sudo chmod -R <span class="m">777</span> /home/cloudera/share/NaiveBayes/
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[34]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="o">%%</span><span class="k">writefile</span> /home/cloudera/share/NaiveBayes/mapper221.py
#!/usr/bin/env python
## mapper.py
## Author: Anthony Spalvieri-Kruse
## Description: mapper that maps to tuples of all upper and lower case words 

import sys
import re

for line in sys.stdin:
    spamOrHam = &quot;spam&quot; if line.split()[1]==&quot;1&quot; else &quot;ham&quot;
    for word in re.findall(r&#39;[a-z/\&#39;]+&#39;, line.lower()):  #line.split() previously 
        print &#39;%s\t%s&#39; % (word+&quot;_&quot;+spamOrHam, 1)
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>Overwriting /home/cloudera/share/NaiveBayes/mapper221.py
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="o">!</span>head NaiveBayes/enronemail_1h.txt <span class="p">|</span> NaiveBayes/mapper221.py
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[35]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="o">!</span>hdfs dfs -rm enronemail_1h.txt
<span class="o">!</span>hdfs dfs -copyFromLocal /home/cloudera/share/NaiveBayes/enronemail_1h.txt
<span class="o">!</span>hdfs dfs -rm -r enron_emails
<span class="c1">#usr/local/Cellar/hadoop/2.6.0/libexec/share/hadoop/tools/lib</span>
<span class="n">dataDir</span> <span class="o">=</span> <span class="s2">&quot;/home/cloudera/share/NaiveBayes&quot;</span>

<span class="o">!</span>hadoop jar /usr/lib/hadoop-0.20-mapreduce/contrib/streaming/hadoop-streaming-2.6.0-mr1-cdh5.8.0.jar <span class="err">\</span>
   <span class="o">-</span><span class="n">mapper</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">cloudera</span><span class="o">/</span><span class="n">share</span><span class="o">/</span><span class="n">NaiveBayes</span><span class="o">/</span><span class="n">mapper221</span><span class="o">.</span><span class="n">py</span> \
   <span class="o">-</span><span class="n">reducer</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">cloudera</span><span class="o">/</span><span class="n">share</span><span class="o">/</span><span class="n">WordCount</span><span class="o">/</span><span class="n">reducer212</span><span class="o">.</span><span class="n">py</span> \
   <span class="o">-</span><span class="n">combiner</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">cloudera</span><span class="o">/</span><span class="n">share</span><span class="o">/</span><span class="n">WordCount</span><span class="o">/</span><span class="n">reducer212</span><span class="o">.</span><span class="n">py</span> \
   <span class="o">-</span><span class="nb">input</span> <span class="n">enronemail_1h</span><span class="o">.</span><span class="n">txt</span> \
   <span class="o">-</span><span class="n">output</span> <span class="n">enron_emails</span>  \
   <span class="o">-</span><span class="n">numReduceTasks</span> <span class="mi">3</span>
   <span class="c1">#--D mapreduce.job.reduces=2  depecated</span>
<span class="c1">#-input historical_tours.txt  file on Hadoop</span>


<span class="c1">#output directory on Hadoop </span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>Deleted enronemail_1h.txt
Deleted enron_emails
packageJobJar: [] [/usr/lib/hadoop-mapreduce/hadoop-streaming-2.6.0-cdh5.8.0.jar] /tmp/streamjob4873923857655333708.jar tmpDir=null
16/09/11 12:03:24 INFO client.RMProxy: Connecting to ResourceManager at /0.0.0.0:8032
16/09/11 12:03:24 INFO client.RMProxy: Connecting to ResourceManager at /0.0.0.0:8032
16/09/11 12:03:25 INFO mapred.FileInputFormat: Total input paths to process : 1
16/09/11 12:03:25 WARN hdfs.DFSClient: Caught exception 
java.lang.InterruptedException
	at java.lang.Object.wait(Native Method)
	at java.lang.Thread.join(Thread.java:1281)
	at java.lang.Thread.join(Thread.java:1355)
	at org.apache.hadoop.hdfs.DFSOutputStream$DataStreamer.closeResponder(DFSOutputStream.java:862)
	at org.apache.hadoop.hdfs.DFSOutputStream$DataStreamer.endBlock(DFSOutputStream.java:600)
	at org.apache.hadoop.hdfs.DFSOutputStream$DataStreamer.run(DFSOutputStream.java:789)
16/09/11 12:03:25 WARN hdfs.DFSClient: Caught exception 
java.lang.InterruptedException
	at java.lang.Object.wait(Native Method)
	at java.lang.Thread.join(Thread.java:1281)
	at java.lang.Thread.join(Thread.java:1355)
	at org.apache.hadoop.hdfs.DFSOutputStream$DataStreamer.closeResponder(DFSOutputStream.java:862)
	at org.apache.hadoop.hdfs.DFSOutputStream$DataStreamer.endBlock(DFSOutputStream.java:600)
	at org.apache.hadoop.hdfs.DFSOutputStream$DataStreamer.run(DFSOutputStream.java:789)
16/09/11 12:03:25 INFO mapreduce.JobSubmitter: number of splits:2
16/09/11 12:03:25 INFO mapreduce.JobSubmitter: Submitting tokens for job: job_1473609390916_0007
16/09/11 12:03:25 INFO impl.YarnClientImpl: Submitted application application_1473609390916_0007
16/09/11 12:03:26 INFO mapreduce.Job: The url to track the job: http://quickstart.cloudera:8088/proxy/application_1473609390916_0007/
16/09/11 12:03:26 INFO mapreduce.Job: Running job: job_1473609390916_0007
16/09/11 12:03:34 INFO mapreduce.Job: Job job_1473609390916_0007 running in uber mode : false
16/09/11 12:03:34 INFO mapreduce.Job:  map 0% reduce 0%
16/09/11 12:03:49 INFO mapreduce.Job:  map 50% reduce 0%
16/09/11 12:03:50 INFO mapreduce.Job:  map 100% reduce 0%
16/09/11 12:04:11 INFO mapreduce.Job:  map 100% reduce 33%
16/09/11 12:04:12 INFO mapreduce.Job:  map 100% reduce 100%
16/09/11 12:04:12 INFO mapreduce.Job: Job job_1473609390916_0007 completed successfully
16/09/11 12:04:12 INFO mapreduce.Job: Counters: 51
	File System Counters
		FILE: Number of bytes read=126505
		FILE: Number of bytes written=847794
		FILE: Number of read operations=0
		FILE: Number of large read operations=0
		FILE: Number of write operations=0
		HDFS: Number of bytes read=217097
		HDFS: Number of bytes written=89561
		HDFS: Number of read operations=15
		HDFS: Number of large read operations=0
		HDFS: Number of write operations=6
	Job Counters 
		Killed map tasks=1
		Launched map tasks=2
		Launched reduce tasks=3
		Data-local map tasks=2
		Total time spent by all maps in occupied slots (ms)=25507
		Total time spent by all reduces in occupied slots (ms)=57999
		Total time spent by all map tasks (ms)=25507
		Total time spent by all reduce tasks (ms)=57999
		Total vcore-seconds taken by all map tasks=25507
		Total vcore-seconds taken by all reduce tasks=57999
		Total megabyte-seconds taken by all map tasks=26119168
		Total megabyte-seconds taken by all reduce tasks=59390976
	Map-Reduce Framework
		Map input records=100
		Map output records=31046
		Map output bytes=385761
		Map output materialized bytes=126523
		Input split bytes=230
		Combine input records=31046
		Combine output records=7815
		Reduce input groups=6215
		Reduce shuffle bytes=126523
		Reduce input records=7815
		Reduce output records=6215
		Spilled Records=15630
		Shuffled Maps =6
		Failed Shuffles=0
		Merged Map outputs=6
		GC time elapsed (ms)=572
		CPU time spent (ms)=6760
		Physical memory (bytes) snapshot=808808448
		Virtual memory (bytes) snapshot=7525765120
		Total committed heap usage (bytes)=513482752
	Reducer Counters
		Calls=9
	Shuffle Errors
		BAD_ID=0
		CONNECTION=0
		IO_ERROR=0
		WRONG_LENGTH=0
		WRONG_MAP=0
		WRONG_REDUCE=0
	File Input Format Counters 
		Bytes Read=216867
	File Output Format Counters 
		Bytes Written=89561
16/09/11 12:04:12 INFO streaming.StreamJob: Output directory: enron_emails
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[36]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="o">!</span>hdfs dfs -cat enron_emails/part-0000* <span class="p">|</span> grep assistance 
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>assistance_ham	2
assistance_spam	8
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="HW2.2.2">HW2.2.2<a class="anchor-link" href="#HW2.2.2">&#182;</a></h3><p>Using Hadoop MapReduce and your wordcount job (from HW2.2.1) determine the top-10 occurring tokens (most frequent tokens) using a single reducer for the SPAM class and for the HAM class.</p>
<h3 id="HW2.2.3-(Optional)">HW2.2.3 (Optional)<a class="anchor-link" href="#HW2.2.3-(Optional)">&#182;</a></h3><p>Using Hadoop MapReduce and your wordcount job (from HW2.2.1) determine the top-10 occurring tokens (most frequent tokens) using multiple reducers.</p>
<p>To achieve a total sort one needs to write a custom mapper to to prepend a partition key to each record. The shuffle phase will need a custom partitioner based upon the prepended key, while the sort is based upon a composite key which is made up of the partition key and the word count (i.e., we will  do a secondary sort  on a composite key that is made up of the prepended key and the word count.  This all can be done with one map-reduce job.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[48]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="o">!</span>sudo touch tmp.txt
<span class="o">!</span>sudo chmod <span class="m">777</span> tmp.txt
<span class="o">!</span>hdfs dfs -cat enron_emails/part-0000* <span class="p">|</span> grep _spam <span class="p">|</span> sort -rn -k2,2 &gt; tmp.txt <span class="o">&amp;&amp;</span> head -10 tmp.txt
<span class="o">!</span>hdfs dfs -cat enron_emails/part-0000* <span class="p">|</span> grep _ham <span class="p">|</span> sort -rn -k2,2 &gt; tmp.txt <span class="o">&amp;&amp;</span>  head -10 tmp.txt
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>the_spam	698
to_spam	565
and_spam	403
your_spam	357
a_spam	345
of_spam	336
you_spam	333
in_spam	235
for_spam	203
this_spam	143
the_ham	549
to_ham	398
and_ham	276
of_ham	230
a_ham	196
ect_ham	183
in_ham	182
for_ham	170
/_ham	153
on_ham	135
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="3.--HW2.3-Multinomial-NAIVE-BAYES-with-NO-Smoothing-using-a-single-reducer---">3.  HW2.3 Multinomial NAIVE BAYES with NO Smoothing using a single reducer   <a name="1.3" /><a class="anchor-link" href="#3.--HW2.3-Multinomial-NAIVE-BAYES-with-NO-Smoothing-using-a-single-reducer---">&#182;</a></h2><p><a href="#TOC">Back to Table of Contents</a></p>
<h3 id="HW2.3.-Multinomial-NAIVE-BAYES-model-with-NO-Smoothing-using-a-single-reducer">HW2.3. Multinomial NAIVE BAYES model with NO Smoothing using a single reducer<a class="anchor-link" href="#HW2.3.-Multinomial-NAIVE-BAYES-model-with-NO-Smoothing-using-a-single-reducer">&#182;</a></h3><p>In this assignment you will produce a spam filter based upon a multinomial naive Bayes classifier. For a quick reference on the construction of the Multinomial NAIVE BAYES classifier that you will code, please consult the following:</p>
<ul>
<li>A nice textbook introduction to the different flavors of Naive Bayes is provide in <a href="http://nlp.stanford.edu/IR-book/pdf/13bayes.pdf">chapter 13</a> of the IRBook.  Nice worked out examples are also provdied</li>
<li>The "Document Classification" section of the  wikipedia page on <a href="https://en.wikipedia.org/wiki/Naive_Bayes_classifier#Document_classification">Naive Bayes</a></li>
<li>OR the original <a href="http://www.aueb.gr/users/ion/docs/ceas2006_paper.pdf">paper</a> by the curators of the Enron email data.</li>
</ul>
<p>For the sake of this assignment we will focus on the basic construction  of the parallelized classifier, and not consider its validation or calibration, and so you will have the classifier operate on its own training data (unlike a 
field application where one would use non-overlapping subsets for training, validation and testing).
NOTE: please use the subject field and the body field for all your Naive Bayes modeling.</p>
<p><strong>For all tasks in this HW problem, please use one (1) reducer.</strong></p>
<h3 id="HW2.3.1-Learn-a-Multinomial-Naive-Bayes-model">HW2.3.1 Learn a Multinomial Naive Bayes model<a class="anchor-link" href="#HW2.3.1-Learn-a-Multinomial-Naive-Bayes-model">&#182;</a></h3><p>Using Hadoop streaming MapReduce, write  a mapper/reducer job(s) that will  learn a Naive Bayes classifier Use all white-space delimitted tokens as independent input variables (assume spaces, fullstops, commas as delimiters). Note: for multinomial Naive Bayes, the class conditional probability for a word such as "assistance" given the class is SPAM, Pr(X=assistance|Y=SPAM), is calculated as follows:</p>
<p>the number of times assistance occurs in SPAM labeled documents / the number of words in documents labeled SPAM</p>
<p>E.g.,  consider that assistance occurs 5 times in all of the documents Labeled SPAM, and the length in terms of the number of words in all documents labeled as SPAM (when concatenated) is 1,000. Then Pr(X=assistance|Y=SPAM) = 5/1000. Note this is a multinomial estimation of the class conditional for a Naive Bayes Classifier. No smoothing is needed in this HW problem. Please represent you model as a record where the key is the first field (TAB separated), and the value, the remaining part, is composed of two values corresponding the class conditional counts or probabilities depending on what phase of learning we are in. A typical record whether in a file or in memory will have the following KEY-VALUE structure:</p>
<ul>
<li>Word\tCount(of Word in documents corresponding to HAM)\tCount(of Word in documents corresponding to SPAM)</li>
<li>In memory this TSV-type data can be stored as a dictionary or defaultDict to record the learnt model or intermediate versions of the model</li>
</ul>
<p>Finally the learnt model should consist of three columnes</p>
<ul>
<li>word\tPr(Word|HAM)\tPr(Word|SPAM)</li>
</ul>
<p>Note we can also insert a special record for the class priors. For example, we can use the token ClassPrior as the key to the class priors in this dictionary representation of the learnt model.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[55]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span>%%bash

sudo touch NaiveBayes/mapper231.py
sudo touch NaiveBayes/reducer231.py
sudo touch NaiveBayes/combiner231.py
sudo chmod -R <span class="m">777</span> NaiveBayes/
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[90]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="o">%%</span><span class="k">writefile</span> NaiveBayes/mapper231.py
#!/usr/bin/env python

import sys
import re
from collections import defaultdict

spam = defaultdict(int)
ham = defaultdict(int)
words = set()


for line in sys.stdin:
    spamOrHam = &quot;spam&quot; if line.split()[1]==&quot;1&quot; else &quot;ham&quot;
    for word in re.findall(r&#39;[a-z/\&#39;]+&#39;, line.lower())[1:]:  #line.split() previously 
        words.add(word)
        if spamOrHam == &quot;spam&quot;:
            spam[word]+=1
        elif spamOrHam == &quot;ham&quot;:
            ham[word]+=1

for word in words:
    print &#39;%s\t%s\t%s&#39; % (word, ham[word],spam[word])    
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>Overwriting NaiveBayes/mapper231.py
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[91]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="o">%%</span><span class="k">writefile</span> NaiveBayes/reducer231.py
#!/usr/bin/env python

import sys
from collections import defaultdict

spamD = defaultdict(int)
hamD = defaultdict(int)
spamWords=0
hamWords=0
words = set()
    
for line in sys.stdin:
    word, ham, spam = line.split()
    spamD[word]+=float(spam)
    hamD[word]+=float(ham)
    spamWords+=float(spam)
    hamWords+=float(ham)
    words.add(word)

for word in words:
    spamProb = str(0 if spamWords==0 else float(spamD[word])/int(spamWords))
    hamProb = str(0 if hamWords==0 else float(hamD[word])/int(hamWords))
    print &#39;%s\t%s\t%s&#39; % (word, hamProb, spamProb)
    
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>Overwriting NaiveBayes/reducer231.py
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Write-a-systems-test-to-regression-test-your-map-reduce-job">Write a systems test to regression test your map reduce job<a class="anchor-link" href="#Write-a-systems-test-to-regression-test-your-map-reduce-job">&#182;</a></h3><p>Write a systems test to test your learning algorithm implementation using the following "Chinese" dataset.
Please reserve document D5 as an independent test document (i.e., dont use it for training. Just use it for testing) Use the Chinese dataset to  unit test your Mapper, reducer and final output.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[108]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span>%%bash
sudo touch NaiveBayes/chineseExample.txt
sudo touch NaiveBayes/chineseExampleFull.txt
sudo chmod -R <span class="m">777</span> NaiveBayes/
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Chinese-dataset">Chinese dataset<a class="anchor-link" href="#Chinese-dataset">&#182;</a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[92]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="o">%%</span><span class="k">writefile</span> NaiveBayes/chineseExample.txt
D1	1	Chinese Beijing	Chinese
D2	1	Chinese Chinese	Shanghai
D3	1	Chinese	Macao
D4	0	Tokyo Japan	Chinese
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>Overwriting NaiveBayes/chineseExample.txt
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[109]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="o">%%</span><span class="k">writefile</span> NaiveBayes/chineseExampleFull.txt
D1	1	Chinese Beijing	Chinese
D2	1	Chinese Chinese	Shanghai
D3	1	Chinese	Macao
D4	0	Tokyo Japan	Chinese
D5	0	Chinese Chinese	Chinese Tokyo Japan
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>Overwriting NaiveBayes/chineseExampleFull.txt
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[93]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="o">!</span>less NaiveBayes/chineseExample.txt <span class="p">|</span> NaiveBayes/mapper231.py
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>beijing	0	1
chinese	1	5
tokyo	1	0
shanghai	0	1
japan	1	0
macao	0	1
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[94]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="o">!</span><span class="nb">printf</span> <span class="s2">&quot;dog 1 4 \n cat 3 4&quot;</span> <span class="p">|</span> NaiveBayes/reducer231.py
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>dog	0.25	0.5
cat	0.75	0.5
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[95]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="o">!</span>head NaiveBayes/chineseExample.txt <span class="p">|</span> NaiveBayes/mapper231.py <span class="p">|</span> NaiveBayes/reducer231.py #<span class="p">|</span> NaiveBayes/combiner231.py  
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>beijing	0.0	0.125
chinese	0.333333333333	0.625
tokyo	0.333333333333	0.0
shanghai	0.0	0.125
japan	0.333333333333	0.0
macao	0.0	0.125
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[96]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="o">!</span>hdfs dfs -rm chineseExample.txt
<span class="o">!</span>hdfs dfs -copyFromLocal /home/cloudera/share/NaiveBayes/chineseExample.txt
<span class="o">!</span>hdfs dfs -rm -r chinese
<span class="c1">#usr/local/Cellar/hadoop/2.6.0/libexec/share/hadoop/tools/lib</span>
<span class="n">dataDir</span> <span class="o">=</span> <span class="s2">&quot;/home/cloudera/share/NaiveBayes&quot;</span>

<span class="o">!</span>hadoop jar /usr/lib/hadoop-0.20-mapreduce/contrib/streaming/hadoop-streaming-2.6.0-mr1-cdh5.8.0.jar <span class="err">\</span>
   <span class="o">-</span><span class="n">mapper</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">cloudera</span><span class="o">/</span><span class="n">share</span><span class="o">/</span><span class="n">NaiveBayes</span><span class="o">/</span><span class="n">mapper231</span><span class="o">.</span><span class="n">py</span> \
   <span class="o">-</span><span class="n">reducer</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">cloudera</span><span class="o">/</span><span class="n">share</span><span class="o">/</span><span class="n">NaiveBayes</span><span class="o">/</span><span class="n">reducer231</span><span class="o">.</span><span class="n">py</span> \
   <span class="o">-</span><span class="nb">input</span> <span class="n">chineseExample</span><span class="o">.</span><span class="n">txt</span> \
   <span class="o">-</span><span class="n">output</span> <span class="n">chinese</span>  \
   <span class="o">-</span><span class="n">numReduceTasks</span> <span class="mi">1</span>
<span class="c1">#--D mapreduce.job.reduces=2  depecated</span>
<span class="c1">#-input historical_tours.txt  file on Hadoop</span>


<span class="c1">#output directory on Hadoop </span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>Deleted chineseExample.txt
Deleted chinese
packageJobJar: [] [/usr/lib/hadoop-mapreduce/hadoop-streaming-2.6.0-cdh5.8.0.jar] /tmp/streamjob7203795122085155486.jar tmpDir=null
16/09/12 10:34:23 INFO client.RMProxy: Connecting to ResourceManager at /0.0.0.0:8032
16/09/12 10:34:23 INFO client.RMProxy: Connecting to ResourceManager at /0.0.0.0:8032
16/09/12 10:34:24 INFO mapred.FileInputFormat: Total input paths to process : 1
16/09/12 10:34:24 WARN hdfs.DFSClient: Caught exception 
java.lang.InterruptedException
	at java.lang.Object.wait(Native Method)
	at java.lang.Thread.join(Thread.java:1281)
	at java.lang.Thread.join(Thread.java:1355)
	at org.apache.hadoop.hdfs.DFSOutputStream$DataStreamer.closeResponder(DFSOutputStream.java:862)
	at org.apache.hadoop.hdfs.DFSOutputStream$DataStreamer.endBlock(DFSOutputStream.java:600)
	at org.apache.hadoop.hdfs.DFSOutputStream$DataStreamer.run(DFSOutputStream.java:789)
16/09/12 10:34:24 INFO mapreduce.JobSubmitter: number of splits:2
16/09/12 10:34:24 INFO mapreduce.JobSubmitter: Submitting tokens for job: job_1473686220901_0007
16/09/12 10:34:25 INFO impl.YarnClientImpl: Submitted application application_1473686220901_0007
16/09/12 10:34:25 INFO mapreduce.Job: The url to track the job: http://quickstart.cloudera:8088/proxy/application_1473686220901_0007/
16/09/12 10:34:25 INFO mapreduce.Job: Running job: job_1473686220901_0007
16/09/12 10:34:34 INFO mapreduce.Job: Job job_1473686220901_0007 running in uber mode : false
16/09/12 10:34:34 INFO mapreduce.Job:  map 0% reduce 0%
16/09/12 10:34:45 INFO mapreduce.Job:  map 50% reduce 0%
16/09/12 10:34:46 INFO mapreduce.Job:  map 100% reduce 0%
16/09/12 10:34:53 INFO mapreduce.Job:  map 100% reduce 100%
16/09/12 10:34:53 INFO mapreduce.Job: Job job_1473686220901_0007 completed successfully
16/09/12 10:34:53 INFO mapreduce.Job: Counters: 49
	File System Counters
		FILE: Number of bytes read=99
		FILE: Number of bytes written=355952
		FILE: Number of read operations=0
		FILE: Number of large read operations=0
		FILE: Number of write operations=0
		HDFS: Number of bytes read=385
		HDFS: Number of bytes written=132
		HDFS: Number of read operations=9
		HDFS: Number of large read operations=0
		HDFS: Number of write operations=2
	Job Counters 
		Launched map tasks=2
		Launched reduce tasks=1
		Data-local map tasks=2
		Total time spent by all maps in occupied slots (ms)=18616
		Total time spent by all reduces in occupied slots (ms)=4925
		Total time spent by all map tasks (ms)=18616
		Total time spent by all reduce tasks (ms)=4925
		Total vcore-seconds taken by all map tasks=18616
		Total vcore-seconds taken by all reduce tasks=4925
		Total megabyte-seconds taken by all map tasks=19062784
		Total megabyte-seconds taken by all reduce tasks=5043200
	Map-Reduce Framework
		Map input records=4
		Map output records=7
		Map output bytes=79
		Map output materialized bytes=105
		Input split bytes=232
		Combine input records=0
		Combine output records=0
		Reduce input groups=6
		Reduce shuffle bytes=105
		Reduce input records=7
		Reduce output records=6
		Spilled Records=14
		Shuffled Maps =2
		Failed Shuffles=0
		Merged Map outputs=2
		GC time elapsed (ms)=310
		CPU time spent (ms)=1820
		Physical memory (bytes) snapshot=574812160
		Virtual memory (bytes) snapshot=4511506432
		Total committed heap usage (bytes)=391979008
	Shuffle Errors
		BAD_ID=0
		CONNECTION=0
		IO_ERROR=0
		WRONG_LENGTH=0
		WRONG_MAP=0
		WRONG_REDUCE=0
	File Input Format Counters 
		Bytes Read=153
	File Output Format Counters 
		Bytes Written=132
16/09/12 10:34:53 INFO streaming.StreamJob: Output directory: chinese
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[97]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="o">!</span>hdfs dfs -cat chinese/part-0000*
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>beijing	0.0	0.125
chinese	0.333333333333	0.625
tokyo	0.333333333333	0.0
shanghai	0.0	0.125
japan	0.333333333333	0.0
macao	0.0	0.125
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[98]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span>%%bash

sudo touch NaiveBayes/chineseModel.tsv
sudo chmod -R <span class="m">777</span> NaiveBayes/
hdfs dfs -cat chinese/part-0000* &gt; NaiveBayes/chineseModel.tsv <span class="p">|</span> head -10
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="HW2.3.2-Learn-a-multinomial-naive-Bayes-model-(with-no-smoothing)-by-hand">HW2.3.2 Learn a multinomial naive Bayes model (with no smoothing) by hand<a class="anchor-link" href="#HW2.3.2-Learn-a-multinomial-naive-Bayes-model-(with-no-smoothing)-by-hand">&#182;</a></h3><p>Learn the multinomial naive Bayes by hand and show the formulas, and your calculations in a nice tabular form.</p>
<p>Compare your hand calculations for the following:</p>
<ul>
<li>the learnt multinomial naive Bayes with NO smoothing</li>
<li>the classification of the D5 test document</li>
</ul>
<p>with textbook calculation listed here:</p>
<ul>
<li>Note the worked example  <a href="https://www.dropbox.com/s/f17c4mvmm5fuwav/chineseTestCaseFullyWorkedOut.png">here</a> is with smoothing "<a href="https://www.dropbox.com/s/f17c4mvmm5fuwav/chineseTestCaseFullyWorkedOut.png">https://www.dropbox.com/s/f17c4mvmm5fuwav/chineseTestCaseFullyWorkedOut.png</a>". It is taken from the IRBook <a href="http://nlp.stanford.edu/IR-book/pdf/13bayes.pdf">chapter</a> on Naive Bayes.</li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[118]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="c1"># download the image with worked solution and render it in the next cell below.</span>
<span class="o">!</span>curl <span class="s2">&quot;https://www.dropbox.com/s/f17c4mvmm5fuwav/chineseTestCaseFullyWorkedOut.png&quot;</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[120]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="o">%%</span><span class="k">HTML</span>
&lt;img src =&quot;https://www.dropbox.com/s/f17c4mvmm5fuwav/chineseTestCaseFullyWorkedOut.png&quot;&gt;
&lt;H!&gt; NB Example &lt;/H1&gt;
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>

<div class="output_html rendered_html output_subarea ">
<img src ="https://www.dropbox.com/s/f17c4mvmm5fuwav/chineseTestCaseFullyWorkedOut.png">
<H!> NB Example </H1>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Hand-calculations-for-Multinomial-naive-Bayes-(Learning-and-classifiction)">Hand calculations for Multinomial naive Bayes (Learning and classifiction)<a class="anchor-link" href="#Hand-calculations-for-Multinomial-naive-Bayes-(Learning-and-classifiction)">&#182;</a></h3><ul>
<li>Insert hand calculations for learning a multinomial naive Bayes Classifier from the Chinese dataset</li>
<li>Insert hand calculations for classifying the test document "D5" using the learnt multinomial naive Bayes Classifier from the Chinese dataset</li>
</ul>
\begin{equation}
P(c) = 3/4
\\
P(!c) = 1/4
\\
P(Chinese|c) = 5/8
\\
P(Tokyo|c) = P(Japan|c) = (0)/(8) = 0
\\
P(Chinese|!c) = 1/3
\\
P(Tokyo|!c) = P(Japan|!c) = 1/3
\\
P(Beijing|c)=P(Shanghai|c)=P(Macao|c)=1/8
\\
P(Beijing|!c)=P(Shanghai|!c)=P(Macao|!c)=0/3=0
\\
P(c|D5) = P(c)*P(Chinese|c)^3*P(Tokyo|c)*P(Japan|c)  =  3/4 * (5/8)^3 * 0 * 0 = 0 
\\
P(!c|D5) = P(!c)*P(Chinese|!c)^3*P(Tokyo|!c)*P(Japan|!c) = 1/4 * (1/3)^3 * 1/3 * 1/3 = 1/972 ~ .001
\end{equation}<p>Therefore we predict that D5 is not a chinese document.</p>
<h6 id="Learnt-Multinomial-Naive-Bayes-Model-WITHOUT-Smoothing">Learnt Multinomial Naive Bayes Model WITHOUT Smoothing<a class="anchor-link" href="#Learnt-Multinomial-Naive-Bayes-Model-WITHOUT-Smoothing">&#182;</a></h6><table>
<thead><tr>
<th>Word</th>
<th>Word Class Conditional counts and probs</th>
</tr>
</thead>
<tbody>
<tr>
<td>Beijing</td>
<td>[0.0, 1.0, 0, 1/8]</td>
</tr>
<tr>
<td>Chinese</td>
<td>[1.0, 5.0, 1/3, 5/8]</td>
</tr>
<tr>
<td>Tokyo</td>
<td>[1.0, 0.0, 1/3, 0]</td>
</tr>
<tr>
<td>Shanghai</td>
<td>[0.0, 1.0, 0, 1/8]</td>
</tr>
<tr>
<td><strong>ModelPrior</strong></td>
<td>[1.0, 3.0, 0.25, 0.75]</td>
</tr>
<tr>
<td>Japan</td>
<td>[1.0, 0.0, 1/3, 0]</td>
</tr>
<tr>
<td>Macao</td>
<td>[0.0, 1.0, 0, 1/8]</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="HW2.3.3-Learn-a-multinomial-naive-Bayes-model-(with-no-smoothing)-for-SPAM-filtering">HW2.3.3 Learn a multinomial naive Bayes model (with no smoothing) for SPAM filtering<a class="anchor-link" href="#HW2.3.3-Learn-a-multinomial-naive-Bayes-model-(with-no-smoothing)-for-SPAM-filtering">&#182;</a></h3><p>Systems test your code first with the Chinese Example and show the resulting model.</p>
<p>Learn a SPAM filtering model from the ENRON dataset provided above. Save the model to file SPAM_Model_MNB.tsv.</p>
<p>Show the top 10 terms  alphabetically sortig the words increasing and their corresponding model entries. Write a mapreduce job to accomplish this. Show the bottom 10 terms also.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="Systems-test-for-the-Chinese-example-is-all-done-in-2.3.1-above.">Systems test for the Chinese example is all done in 2.3.1 above.<a class="anchor-link" href="#Systems-test-for-the-Chinese-example-is-all-done-in-2.3.1-above.">&#182;</a></h4>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[4]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span>%%bash
<span class="c1">#Run a mapreduce that includes the subject line.  Save the hadoop output to a regular file SPAM_Model_MNB.tsv</span>
<span class="c1">#Do a simple head and tail sort situation to show top 10 and bottom 10 terms alphabetically ordered</span>
<span class="c1">#Really this should be easy, it&#39;s just tweaking the mapper, running it, saving the model, then printing results</span>

sudo touch NaiveBayes/mapper233.py
sudo touch NaiveBayes/reducer233.py
sudo chmod -R <span class="m">777</span> NaiveBayes/
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[216]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="o">%%</span><span class="k">writefile</span> NaiveBayes/mapper233.py
#!/usr/bin/env python

import sys
import re
from collections import defaultdict

spam = defaultdict(int)
ham = defaultdict(int)
words = set()


#Modify this so that you don&#39;t count the key; key is not the same as subject line
for line in sys.stdin:
    cp = line.split()
    label = cp[1]
    email = cp[2:]
    email = &quot; &quot;.join(cp[2:])
    spamOrHam = &quot;spam&quot; if label==&quot;1&quot; else &quot;ham&quot;
    for word in re.findall(r&#39;[a-z/\&#39;]+&#39;, email.lower()):  #line.split() previously 
        words.add(word)
        if spamOrHam == &quot;spam&quot;:
            spam[word]+=1
        elif spamOrHam == &quot;ham&quot;:
            ham[word]+=1

for word in words:
    print &#39;%s\t%s\t%s&#39; % (word, ham[word],spam[word])
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>Overwriting NaiveBayes/mapper233.py
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[217]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="o">%%</span><span class="k">writefile</span> NaiveBayes/reducer233.py
#!/usr/bin/env python

import sys
from collections import defaultdict

spamD = defaultdict(int)
hamD = defaultdict(int)
spamWords=0
hamWords=0
words = set()
    
for line in sys.stdin:
    word, ham, spam = line.split()
    spamD[word]+=float(spam)
    hamD[word]+=float(ham)
    spamWords+=float(spam)
    hamWords+=float(ham)
    words.add(word)

for word in words:
    spamProb = str(0 if spamWords==0 else float(spamD[word])/int(spamWords))
    hamProb = str(0 if hamWords==0 else float(hamD[word])/int(hamWords))
    print &#39;%s\t%s\t%s&#39; % (word, hamProb, spamProb)
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>Overwriting NaiveBayes/reducer233.py
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[218]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="o">!</span>hdfs dfs -rm enronemail_1h.txt
<span class="o">!</span>hdfs dfs -copyFromLocal /home/cloudera/share/NaiveBayes/enronemail_1h.txt
<span class="o">!</span>hdfs dfs -rm -r enron
<span class="c1">#usr/local/Cellar/hadoop/2.6.0/libexec/share/hadoop/tools/lib</span>
<span class="n">dataDir</span> <span class="o">=</span> <span class="s2">&quot;/home/cloudera/share/NaiveBayes&quot;</span>

<span class="o">!</span>hadoop jar /usr/lib/hadoop-0.20-mapreduce/contrib/streaming/hadoop-streaming-2.6.0-mr1-cdh5.8.0.jar <span class="err">\</span>
   <span class="o">-</span><span class="n">mapper</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">cloudera</span><span class="o">/</span><span class="n">share</span><span class="o">/</span><span class="n">NaiveBayes</span><span class="o">/</span><span class="n">mapper233</span><span class="o">.</span><span class="n">py</span> \
   <span class="o">-</span><span class="n">reducer</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">cloudera</span><span class="o">/</span><span class="n">share</span><span class="o">/</span><span class="n">NaiveBayes</span><span class="o">/</span><span class="n">reducer233</span><span class="o">.</span><span class="n">py</span> \
   <span class="o">-</span><span class="nb">input</span> <span class="n">enronemail_1h</span><span class="o">.</span><span class="n">txt</span> \
   <span class="o">-</span><span class="n">output</span> <span class="n">enron</span>  \
   <span class="o">-</span><span class="n">numReduceTasks</span> <span class="mi">1</span>
<span class="c1">#--D mapreduce.job.reduces=2  depecated</span>
<span class="c1">#-input historical_tours.txt  file on Hadoop</span>


<span class="c1">#output directory on Hadoop </span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>Deleted enronemail_1h.txt
Deleted enron
packageJobJar: [] [/usr/lib/hadoop-mapreduce/hadoop-streaming-2.6.0-cdh5.8.0.jar] /tmp/streamjob6689366285903958411.jar tmpDir=null
16/09/12 21:13:37 INFO client.RMProxy: Connecting to ResourceManager at /0.0.0.0:8032
16/09/12 21:13:38 INFO client.RMProxy: Connecting to ResourceManager at /0.0.0.0:8032
16/09/12 21:13:38 WARN hdfs.DFSClient: Caught exception 
java.lang.InterruptedException
	at java.lang.Object.wait(Native Method)
	at java.lang.Thread.join(Thread.java:1281)
	at java.lang.Thread.join(Thread.java:1355)
	at org.apache.hadoop.hdfs.DFSOutputStream$DataStreamer.closeResponder(DFSOutputStream.java:862)
	at org.apache.hadoop.hdfs.DFSOutputStream$DataStreamer.endBlock(DFSOutputStream.java:600)
	at org.apache.hadoop.hdfs.DFSOutputStream$DataStreamer.run(DFSOutputStream.java:789)
16/09/12 21:13:38 INFO mapred.FileInputFormat: Total input paths to process : 1
16/09/12 21:13:39 WARN hdfs.DFSClient: Caught exception 
java.lang.InterruptedException
	at java.lang.Object.wait(Native Method)
	at java.lang.Thread.join(Thread.java:1281)
	at java.lang.Thread.join(Thread.java:1355)
	at org.apache.hadoop.hdfs.DFSOutputStream$DataStreamer.closeResponder(DFSOutputStream.java:862)
	at org.apache.hadoop.hdfs.DFSOutputStream$DataStreamer.endBlock(DFSOutputStream.java:600)
	at org.apache.hadoop.hdfs.DFSOutputStream$DataStreamer.run(DFSOutputStream.java:789)
16/09/12 21:13:39 INFO mapreduce.JobSubmitter: number of splits:2
16/09/12 21:13:39 INFO mapreduce.JobSubmitter: Submitting tokens for job: job_1473686220901_0010
16/09/12 21:13:39 INFO impl.YarnClientImpl: Submitted application application_1473686220901_0010
16/09/12 21:13:39 INFO mapreduce.Job: The url to track the job: http://quickstart.cloudera:8088/proxy/application_1473686220901_0010/
16/09/12 21:13:39 INFO mapreduce.Job: Running job: job_1473686220901_0010
16/09/12 21:13:50 INFO mapreduce.Job: Job job_1473686220901_0010 running in uber mode : false
16/09/12 21:13:50 INFO mapreduce.Job:  map 0% reduce 0%
16/09/12 21:14:03 INFO mapreduce.Job:  map 50% reduce 0%
16/09/12 21:14:04 INFO mapreduce.Job:  map 100% reduce 0%
16/09/12 21:14:13 INFO mapreduce.Job:  map 100% reduce 100%
16/09/12 21:14:13 INFO mapreduce.Job: Job job_1473686220901_0010 completed successfully
16/09/12 21:14:13 INFO mapreduce.Job: Counters: 50
	File System Counters
		FILE: Number of bytes read=92545
		FILE: Number of bytes written=540835
		FILE: Number of read operations=0
		FILE: Number of large read operations=0
		FILE: Number of write operations=0
		HDFS: Number of bytes read=217097
		HDFS: Number of bytes written=169613
		HDFS: Number of read operations=9
		HDFS: Number of large read operations=0
		HDFS: Number of write operations=2
	Job Counters 
		Killed map tasks=1
		Launched map tasks=2
		Launched reduce tasks=1
		Data-local map tasks=2
		Total time spent by all maps in occupied slots (ms)=21162
		Total time spent by all reduces in occupied slots (ms)=7763
		Total time spent by all map tasks (ms)=21162
		Total time spent by all reduce tasks (ms)=7763
		Total vcore-seconds taken by all map tasks=21162
		Total vcore-seconds taken by all reduce tasks=7763
		Total megabyte-seconds taken by all map tasks=21669888
		Total megabyte-seconds taken by all reduce tasks=7949312
	Map-Reduce Framework
		Map input records=100
		Map output records=6696
		Map output bytes=79147
		Map output materialized bytes=92551
		Input split bytes=230
		Combine input records=0
		Combine output records=0
		Reduce input groups=5211
		Reduce shuffle bytes=92551
		Reduce input records=6696
		Reduce output records=5211
		Spilled Records=13392
		Shuffled Maps =2
		Failed Shuffles=0
		Merged Map outputs=2
		GC time elapsed (ms)=276
		CPU time spent (ms)=3000
		Physical memory (bytes) snapshot=566407168
		Virtual memory (bytes) snapshot=4511920128
		Total committed heap usage (bytes)=391979008
	Shuffle Errors
		BAD_ID=0
		CONNECTION=0
		IO_ERROR=0
		WRONG_LENGTH=0
		WRONG_MAP=0
		WRONG_REDUCE=0
	File Input Format Counters 
		Bytes Read=216867
	File Output Format Counters 
		Bytes Written=169613
16/09/12 21:14:13 INFO streaming.StreamJob: Output directory: enron
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[225]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span>%%bash

sudo touch NaiveBayes/SPAM_Model_MNB.tsv
sudo chmod -R <span class="m">777</span> NaiveBayes/
hdfs dfs -cat enron/part-0000* &gt; NaiveBayes/SPAM_Model_MNB.tsv
hdfs dfs -cat enron/part-0000* <span class="p">|</span> head -10
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>stock	0.000220264317181	0.000129444252675
limited	0.000275330396476	0.000474628926476
entergyr	0.00011013215859	4.31480842251e-05
additionally	0.00011013215859	8.62961684501e-05
doubts	5.50660792952e-05	8.62961684501e-05
dynamic	0.000165198237885	4.31480842251e-05
externally	5.50660792952e-05	0.000129444252675
yellow	5.50660792952e-05	8.62961684501e-05
barraged	5.50660792952e-05	8.62961684501e-05
prefix	5.50660792952e-05	8.62961684501e-05
</pre>
</div>
</div>

<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stderr output_text">
<pre>cat: Unable to write to output stream.
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[226]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span>%%bash

sudo chmod -R <span class="m">777</span> NaiveBayes/
less NaiveBayes/SPAM_Model_MNB.tsv <span class="p">|</span> sort -k1,1 <span class="p">|</span> head -10 
<span class="nb">printf</span> <span class="s2">&quot;\n&quot;</span>
less NaiveBayes/SPAM_Model_MNB.tsv <span class="p">|</span> sort -k1,1 <span class="p">|</span> tail -10
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>/	0.00848017621145	0.000819813600276
//	0.00011013215859	0.0027614773904
&apos;	0.000220264317181	0.000129444252675
a	0.0108480176211	0.0149292371419
ab	0.000330396475771	4.31480842251e-05
abidjan	5.50660792952e-05	0.000129444252675
ability	5.50660792952e-05	0.000129444252675
able	0.000220264317181	0.000517777010701
abn	5.50660792952e-05	8.62961684501e-05
about	0.000550660792952	0.0018985157059

zac	5.50660792952e-05	0.000129444252675
zadorozhny/hou/ect	0.000275330396476	4.31480842251e-05
zero	0.000220264317181	8.62961684501e-05
zesto	5.50660792952e-05	0.000474628926476
zimin	0.000330396475771	4.31480842251e-05
zinc	5.50660792952e-05	8.62961684501e-05
zk	5.50660792952e-05	8.62961684501e-05
zo	5.50660792952e-05	0.000129444252675
zolam	5.50660792952e-05	0.000129444252675
zxs	5.50660792952e-05	8.62961684501e-05
</pre>
</div>
</div>

<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stderr output_text">
<pre>sort: write failed: standard output: Broken pipe
sort: write error
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="HW-2.3.4-Classify-Documents-using-the-learnt-Multinomial-Naive-Bayes-model-using-Hadoop-Streaming">HW 2.3.4 Classify Documents using the learnt Multinomial Naive Bayes model using Hadoop Streaming<a class="anchor-link" href="#HW-2.3.4-Classify-Documents-using-the-learnt-Multinomial-Naive-Bayes-model-using-Hadoop-Streaming">&#182;</a></h3><p>Classify each Enron email messages using the learnt Naive Bayes classifier (Testing on the training set is bad practice but we will allow that here to simplify the work here).</p>
<p>Write a separate map-reduce job to classify a corpus of documents using a provided/learnt Multinomial Naive Bayes model. A model file consisting of the triples  <em>word\tPr(Word|HAM)\tPr(Word|SPAM)</em> should be broadcast to the worker nodes using the <em>-file</em> command line option when running a Hadoop streaming job. Please write the corresponding mapper and reducer portions of this classifier job.</p>
<h4 id="Note:-Map-Tasks-and-map-lifecycles">Note: Map Tasks and map lifecycles<a class="anchor-link" href="#Note:-Map-Tasks-and-map-lifecycles">&#182;</a></h4><p>Note that for each chunk in the input data a  mapper task is executed. Each mapper task  has three phases: a init phase (to initialize variables used down stream in the mapper task or read in data from disk that might be used downstream in the map task); a loop to process each record in the input stream; and a final phase that is executed prior to the map task finishing. A Reduce task goes through a similar lifecycle.</p>
<h4 id="NOTE:-on-small-multiplying-small-numbers">NOTE: on small multiplying small numbers<a class="anchor-link" href="#NOTE:-on-small-multiplying-small-numbers">&#182;</a></h4><p>Multiplying lots of probabilities, which are between 0 and 1, can result in floating-point underflow. Since log(xy) = log(x) + log(y), it is better to perform all computations by summing logs of probabilities rather than multiplying probabilities. Please pay attention to probabilites that are zero! They will need special attention. Count up how many times clasification of a document results in  a zero class posterior probabilty for each class and report when using the Enron training set for evaluation.</p>
<ul>
<li><p>Report the performance of your learnt classifier in terms of misclassifcation error rate of your multinomial Naive Bayes Classifier.</p>
<ul>
<li>Error Rate = misclassification rate with respect to a provided set (say training set in this case). It is more formally defined here:</li>
</ul>
</li>
<li><p>Let DF represent the evalution set in the following:</p>
<ul>
<li>Err(Model, DF) = |{(X, c(X))  DF : c(X) != Model(x)}|   / |DF|</li>
</ul>
</li>
</ul>
<p>Where || denotes set cardinality; c(X) denotes the class of the tuple X in DF; and Model(X) denotes the class inferred by the Model Model</p>
<p><strong>In this exercise, please complete the following tasks:</strong></p>
<ul>
<li>Once again unit test your classifier map reduce job using the Chinese example. Please show a trace of your prediction and classification steps.</li>
<li>Once you are happy the Chinese dataset results run </li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[100]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span>%%bash
<span class="c1">#Run a mapreduce that includes the subject line.  Save the hadoop output to a regular file SPAM_Model_MNB.tsv</span>
<span class="c1">#Do a simple head and tail sort situation to show top 10 and bottom 10 terms alphabetically ordered</span>
<span class="c1">#Really this should be easy, it&#39;s just tweaking the mapper, running it, saving the model, then printing results</span>

sudo touch NaiveBayes/mapper234.py
sudo touch NaiveBayes/mapper234_chinese.py
sudo touch NaiveBayes/reducer234.py
sudo chmod -R <span class="m">777</span> NaiveBayes/
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[153]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="o">%%</span><span class="k">writefile</span> NaiveBayes/mapper234_chinese.py
#!/usr/bin/env python

import sys
import re
import math
from collections import defaultdict

def jointProbability(hamSpamTuples):
    
    spamSum = 0
    hamSum = 0 
    
    for hamSpamTuple in hamSpamTuples:
        ham = hamSpamTuple[0]
        spam = hamSpamTuple[1]
        spamSum += math.log(spam + sys.float_info.epsilon)
        hamSum += math.log(ham + sys.float_info.epsilon)
    
    return (hamSum, spamSum)

modelProbs = defaultdict(tuple)
spam = defaultdict(int)
ham = defaultdict(int)
words = set()

#Don&#39;t forget to rerun the model so that ham and spam aren&#39;t mixed up 
with open(&quot;chineseModel.tsv&quot;) as f:
    model = f.readlines()
    for line in model:
        word, ham, spam = line.split()
        modelProbs[word] = (float(ham), float(spam))

for line in sys.stdin:
    cp = line.split()
    key = cp[0]
    label = cp[1]
    email = cp[2:]
    email = &quot; &quot;.join(cp[2:])
    email = re.findall(r&#39;[a-z/\&#39;]+&#39;,email.lower())
    numWords = len(email)
    email = [modelProbs[word] for word in email]
    email = [word if word!=() else (0,0) for word in email]
    #probs = reduce(lambda x,y : (x[0]*y[0],x[1]*y[1]),email)
    probs = jointProbability(email)
    print &quot;%s\t%s\t%s\t%s\t%s&quot; % (key, label, numWords, probs[0], probs[1])
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>Overwriting NaiveBayes/mapper234_chinese.py
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[155]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="o">%%</span><span class="k">writefile</span> NaiveBayes/mapper234.py
#!/usr/bin/env python

import sys
import re
import math
from collections import defaultdict

def jointProbability(hamSpamTuples):
    
    spamSum = 0
    hamSum = 0 
    
    for hamSpamTuple in hamSpamTuples:
        ham = hamSpamTuple[0]
        spam = hamSpamTuple[1]
        spamSum += math.log(spam + sys.float_info.epsilon)
        hamSum += math.log(ham + sys.float_info.epsilon)

    return (hamSum, spamSum)

modelProbs = defaultdict(tuple)
spam = defaultdict(int)
ham = defaultdict(int)
words = set()

#Don&#39;t forget to rerun the model so that ham and spam aren&#39;t mixed up 
with open(&quot;SPAM_Model_MNB.tsv&quot;) as f:
    model = f.readlines()
    for line in model:
        word, ham, spam = line.split()
        modelProbs[word] = (float(ham), float(spam))

for line in sys.stdin:
    cp = line.split()
    key = cp[0]
    label = cp[1]
    email = cp[2:]
    email = &quot; &quot;.join(cp[2:])
    email = re.findall(r&#39;[a-z/\&#39;]+&#39;,email.lower())
    numWords = len(email)
    email = [modelProbs[word] for word in email]
    email = [word if word!=() else (0,0) for word in email]
    #probs = reduce(lambda x,y : (x[0]*y[0],x[1]*y[1]),email)
    probs = jointProbability(email)
    print &quot;%s\t%s\t%s\t%s\t%s&quot; % (key, label, numWords, probs[0], probs[1])
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>Overwriting NaiveBayes/mapper234.py
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[151]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="o">!</span>cat NaiveBayes/chineseExample.txt <span class="p">|</span> NaiveBayes/mapper234_chinese.py
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>D1	1	3	-38.2408779665	-3.01944880017
D2	1	3	-38.2408779665	-3.01944880017
D3	1	2	-37.1422656778	-2.54944517093
D4	0	3	-3.29583686601	-72.5573104075
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[156]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="o">!</span>cat NaiveBayes/enronemail_1h.txt <span class="p">|</span> NaiveBayes/mapper234.py
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>0001.1999-12-10.farmer	0	5	-98.5966817029	-44.703926964
0001.1999-12-10.kaminski	0	4	-56.4572037513	-28.8096250757
0001.2000-01-17.beck	0	488	-7751.65568673	-3379.44686229
0001.2000-06-06.lokay	0	515	-7969.77491438	-3523.32882341
0001.2001-02-07.kitchen	0	47	-809.410178796	-329.080406899
0001.2001-04-02.williams	0	196	-2341.27329758	-1359.80156274
0002.1999-12-13.farmer	0	271	-4541.09125954	-2195.34794892
0002.2001-02-07.kitchen	0	64	-820.843598773	-443.812489943
0002.2001-05-25.SA_and_HP	1	77	-524.51945811	-1067.85505757
0002.2003-12-18.GP	1	162	-1230.0531725	-3349.69675034
0002.2004-08-01.BG	1	131	-835.4635765	-1531.094811
0003.1999-12-10.kaminski	0	54	-912.487935969	-337.908335147
0003.1999-12-14.farmer	0	9	-272.008171965	-71.1828308529
0003.2000-01-17.beck	0	192	-2865.59148574	-1267.82821072
0003.2001-02-08.kitchen	0	183	-2792.40906498	-1313.65220609
0003.2003-12-18.GP	1	116	-852.775458338	-1805.77531169
0003.2004-08-01.BG	1	100	-757.36352503	-1939.65264625
0004.1999-12-10.kaminski	0	135	-2542.80014878	-932.937366017
0004.1999-12-14.farmer	0	138	-2592.34914565	-1267.19091486
0004.2001-04-02.williams	0	96	-1109.62595684	-659.15591319
0004.2001-06-12.SA_and_HP	1	125	-834.52969374	-1598.87036136
0004.2004-08-01.BG	1	92	-715.59652275	-1816.83310985
0005.1999-12-12.kaminski	0	100	-2445.10866897	-776.635053902
0005.1999-12-14.farmer	0	136	-2646.46916951	-1140.55974013
0005.2000-06-06.lokay	0	61	-1011.35165509	-423.883458337
0005.2001-02-08.kitchen	0	109	-1975.83360745	-916.16430231
0005.2001-06-23.SA_and_HP	1	22	-164.680063892	-384.417016604
0005.2003-12-18.GP	1	950	-7054.82485411	-17391.9189108
0006.1999-12-13.kaminski	0	69	-862.956928848	-454.372011963
0006.2001-02-08.kitchen	0	1390	-19520.8512483	-9324.56331637
0006.2001-04-03.williams	0	46	-598.721017387	-300.307513123
0006.2001-06-25.SA_and_HP	1	43	-308.979598358	-689.562976531
0006.2003-12-18.GP	1	144	-1134.06235004	-3239.07250062
0006.2004-08-01.BG	1	139	-1031.51195179	-2593.98543783
0007.1999-12-13.kaminski	0	220	-2662.55987959	-1516.25962908
0007.1999-12-14.farmer	0	97	-1634.78855279	-728.474717342
0007.2000-01-17.beck	0	410	-7152.6322023	-2741.12560784
0007.2001-02-09.kitchen	0	240	-3659.6745393	-1641.93203114
0007.2003-12-18.GP	1	167	-1258.62376116	-3355.68460794
0007.2004-08-01.BG	1	144	-1170.0886956	-4181.04138386
0008.2001-02-09.kitchen	0	537	-13462.9523618	-4170.34283263
0008.2001-06-12.SA_and_HP	1	125	-834.52969374	-1598.87036136
0008.2001-06-25.SA_and_HP	1	614	-4221.34232311	-10397.1223917
0008.2003-12-18.GP	1	148	-1021.75485172	-2367.30833525
0008.2004-08-01.BG	1	850	-5937.95098555	-13932.7984852
0009.1999-12-13.kaminski	0	807	-17283.057214	-5785.88960317
0009.1999-12-14.farmer	0	52	-918.61150687	-370.590678468
0009.2000-06-07.lokay	0	386	-6956.47906977	-2679.36764054
0009.2001-02-09.kitchen	0	836	-12157.2786431	-5712.54397982
0009.2001-06-26.SA_and_HP	1	131	-935.934147712	-2273.84831353
0009.2003-12-18.GP	1	97	-778.862351242	-2354.80579472
0010.1999-12-14.farmer	0	145	-3194.95857344	-1147.05963717
0010.1999-12-14.kaminski	0	30	-511.461735502	-201.84587879
0010.2001-02-09.kitchen	0	441	-6700.96586713	-3016.78828029
0010.2001-06-28.SA_and_HP	1	516	-3364.55503145	-7838.97428065
0010.2003-12-18.GP	1	6	-54.6769779259	-160.118983036
0010.2004-08-01.BG	1	263	-1952.37949046	-5793.86533962
0011.1999-12-14.farmer	0	281	-3831.22402827	-1798.53875679
0011.2001-06-28.SA_and_HP	1	515	-3356.78317387	-7802.93062726
0011.2001-06-29.SA_and_HP	1	2403	-15598.343214	-33855.8455837
0011.2003-12-18.GP	1	65	-500.674625085	-1384.57070071
0011.2004-08-01.BG	1	95	-678.197882448	-1580.48167556
0012.1999-12-14.farmer	0	473	-6847.16510284	-3122.32626111
0012.1999-12-14.kaminski	0	128	-2220.71559484	-1109.10248234
0012.2000-01-17.beck	0	409	-7087.89821591	-2732.21385476
0012.2000-06-08.lokay	0	132	-1656.25572554	-907.293995699
0012.2001-02-09.kitchen	0	66	-864.100309684	-441.46592025
0012.2003-12-19.GP	1	18	-135.064033935	-358.719990257
0013.1999-12-14.farmer	0	280	-3558.2563678	-1786.2255381
0013.1999-12-14.kaminski	0	181	-2700.84339589	-1365.37708393
0013.2001-04-03.williams	0	92	-1088.33721186	-644.821439369
0013.2001-06-30.SA_and_HP	1	4290	-27766.2809143	-58054.0755743
0013.2004-08-01.BG	1	207	-1475.92647428	-3316.42221596
0014.1999-12-14.kaminski	0	257	-3591.58126288	-1874.30615538
0014.1999-12-15.farmer	0	132	-2485.67101527	-1143.90931984
0014.2001-02-12.kitchen	0	162	-3091.69839876	-1193.971776
0014.2001-07-04.SA_and_HP	1	467	-3225.0849239	-6671.13178405
0014.2003-12-19.GP	1	20	-152.557061436	-371.944510996
0014.2004-08-01.BG	1	103	-838.939304674	-1984.22376721
0015.1999-12-14.kaminski	0	83	-1416.88679466	-568.238932111
0015.1999-12-15.farmer	0	79	-1792.7039595	-757.305356864
0015.2000-06-09.lokay	0	18	-204.120545238	-120.717708371
0015.2001-02-12.kitchen	0	755	-10796.5171831	-4977.60125812
0015.2001-07-05.SA_and_HP	1	128	-853.358751156	-1820.6014379
0015.2003-12-19.GP	1	164	-1176.28454986	-2973.21857056
0016.1999-12-15.farmer	0	100	-1113.90538655	-669.411962117
0016.2001-02-12.kitchen	0	140	-2797.77060262	-1031.09430131
0016.2001-07-05.SA_and_HP	1	128	-853.358751156	-1820.6014379
0016.2001-07-06.SA_and_HP	1	2531	-16419.0335015	-37573.0436559
0016.2003-12-19.GP	1	99	-800.592755909	-2430.64830359
0016.2004-08-01.BG	1	96	-649.62539644	-1391.69211099
0017.1999-12-14.kaminski	0	56	-696.461581566	-372.147442129
0017.2000-01-17.beck	0	410	-7123.9418693	-2743.36322452
0017.2001-04-03.williams	0	63	-713.665849126	-436.730200308
0017.2003-12-18.GP	1	30	-201.610082531	-344.097611676
0017.2004-08-01.BG	1	97	-915.072114266	-3228.20015383
0017.2004-08-02.BG	1	339	-2459.298202	-5015.45728432
0018.1999-12-14.kaminski	0	143	-1290.26547926	-910.030518781
0018.2001-07-13.SA_and_HP	1	500	-3261.65449708	-6644.41686491
0018.2003-12-18.GP	1	508	-3375.71772349	-6957.81656413
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[167]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="o">%%</span><span class="k">writefile</span> NaiveBayes/reducer234.py
#!/usr/bin/env python

import sys
import math
from collections import defaultdict

spamWords=0
hamWords=0
totalWords=0
lines = []
    
for line in sys.stdin:
    lines.append(line)
    key, label, wordCount, notImp1, notImp2 = line.split()
    totalWords+=1
    if int(label)==1:
        spamWords+=1
    else:
        hamWords+=1

spamProb = math.log(sys.float_info.epsilon + float(spamWords)/totalWords)
hamProb = math.log(sys.float_info.epsilon + float(hamWords)/totalWords)
        
for line in lines:
    key, label, wordCount, hamProbCond, spamProbCond = line.split()
    probs = (float(hamProbCond)+hamProb, float(spamProbCond)+spamProb)
    
    if probs[0]==probs[1]:
        predLabel = 1 if spamProb &gt; hamProb else 0
    else:
        predLabel = 1 if probs[0] &gt; probs[1] else 0 
    
    print &quot;%s\t%s&quot; % (key, predLabel)
    
    
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>Overwriting NaiveBayes/reducer234.py
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[168]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="o">!</span><span class="nb">echo</span> <span class="s2">&quot;0018.2003-12-18.GP	1	508	0.0	0.0&quot;</span> <span class="p">|</span> NaiveBayes/reducer234.py
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>0018.2003-12-18.GP	0
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[169]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="o">!</span>cat NaiveBayes/chineseExampleFull.txt <span class="p">|</span> NaiveBayes/mapper234_chinese.py <span class="p">|</span> NaiveBayes/reducer234.py
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>D1	0
D2	0
D3	0
D4	1
D5	1
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[170]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="o">!</span>cat NaiveBayes/enronemail_1h.txt <span class="p">|</span> NaiveBayes/mapper234.py <span class="p">|</span> NaiveBayes/reducer234.py
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>0001.1999-12-10.farmer	0
0001.1999-12-10.kaminski	0
0001.2000-01-17.beck	0
0001.2000-06-06.lokay	0
0001.2001-02-07.kitchen	0
0001.2001-04-02.williams	0
0002.1999-12-13.farmer	0
0002.2001-02-07.kitchen	0
0002.2001-05-25.SA_and_HP	1
0002.2003-12-18.GP	1
0002.2004-08-01.BG	1
0003.1999-12-10.kaminski	0
0003.1999-12-14.farmer	0
0003.2000-01-17.beck	0
0003.2001-02-08.kitchen	0
0003.2003-12-18.GP	1
0003.2004-08-01.BG	1
0004.1999-12-10.kaminski	0
0004.1999-12-14.farmer	0
0004.2001-04-02.williams	0
0004.2001-06-12.SA_and_HP	1
0004.2004-08-01.BG	1
0005.1999-12-12.kaminski	0
0005.1999-12-14.farmer	0
0005.2000-06-06.lokay	0
0005.2001-02-08.kitchen	0
0005.2001-06-23.SA_and_HP	1
0005.2003-12-18.GP	1
0006.1999-12-13.kaminski	0
0006.2001-02-08.kitchen	0
0006.2001-04-03.williams	0
0006.2001-06-25.SA_and_HP	1
0006.2003-12-18.GP	1
0006.2004-08-01.BG	1
0007.1999-12-13.kaminski	0
0007.1999-12-14.farmer	0
0007.2000-01-17.beck	0
0007.2001-02-09.kitchen	0
0007.2003-12-18.GP	1
0007.2004-08-01.BG	1
0008.2001-02-09.kitchen	0
0008.2001-06-12.SA_and_HP	1
0008.2001-06-25.SA_and_HP	1
0008.2003-12-18.GP	1
0008.2004-08-01.BG	1
0009.1999-12-13.kaminski	0
0009.1999-12-14.farmer	0
0009.2000-06-07.lokay	0
0009.2001-02-09.kitchen	0
0009.2001-06-26.SA_and_HP	1
0009.2003-12-18.GP	1
0010.1999-12-14.farmer	0
0010.1999-12-14.kaminski	0
0010.2001-02-09.kitchen	0
0010.2001-06-28.SA_and_HP	1
0010.2003-12-18.GP	1
0010.2004-08-01.BG	1
0011.1999-12-14.farmer	0
0011.2001-06-28.SA_and_HP	1
0011.2001-06-29.SA_and_HP	1
0011.2003-12-18.GP	1
0011.2004-08-01.BG	1
0012.1999-12-14.farmer	0
0012.1999-12-14.kaminski	0
0012.2000-01-17.beck	0
0012.2000-06-08.lokay	0
0012.2001-02-09.kitchen	0
0012.2003-12-19.GP	1
0013.1999-12-14.farmer	0
0013.1999-12-14.kaminski	0
0013.2001-04-03.williams	0
0013.2001-06-30.SA_and_HP	1
0013.2004-08-01.BG	1
0014.1999-12-14.kaminski	0
0014.1999-12-15.farmer	0
0014.2001-02-12.kitchen	0
0014.2001-07-04.SA_and_HP	1
0014.2003-12-19.GP	1
0014.2004-08-01.BG	1
0015.1999-12-14.kaminski	0
0015.1999-12-15.farmer	0
0015.2000-06-09.lokay	0
0015.2001-02-12.kitchen	0
0015.2001-07-05.SA_and_HP	1
0015.2003-12-19.GP	1
0016.1999-12-15.farmer	0
0016.2001-02-12.kitchen	0
0016.2001-07-05.SA_and_HP	1
0016.2001-07-06.SA_and_HP	1
0016.2003-12-19.GP	1
0016.2004-08-01.BG	1
0017.1999-12-14.kaminski	0
0017.2000-01-17.beck	0
0017.2001-04-03.williams	0
0017.2003-12-18.GP	1
0017.2004-08-01.BG	1
0017.2004-08-02.BG	1
0018.1999-12-14.kaminski	0
0018.2001-07-13.SA_and_HP	1
0018.2003-12-18.GP	1
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[171]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="o">!</span>hdfs dfs -rm enronemail_1h.txt
<span class="o">!</span>hdfs dfs -copyFromLocal /home/cloudera/share/NaiveBayes/enronemail_1h.txt
<span class="o">!</span>hdfs dfs -rm -r enron
<span class="c1">#usr/local/Cellar/hadoop/2.6.0/libexec/share/hadoop/tools/lib</span>
<span class="n">dataDir</span> <span class="o">=</span> <span class="s2">&quot;/home/cloudera/share/NaiveBayes&quot;</span>

<span class="o">!</span>hadoop jar /usr/lib/hadoop-0.20-mapreduce/contrib/streaming/hadoop-streaming-2.6.0-mr1-cdh5.8.0.jar <span class="err">\</span>
   <span class="o">-</span><span class="n">mapper</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">cloudera</span><span class="o">/</span><span class="n">share</span><span class="o">/</span><span class="n">NaiveBayes</span><span class="o">/</span><span class="n">mapper234</span><span class="o">.</span><span class="n">py</span> \
   <span class="o">-</span><span class="n">reducer</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">cloudera</span><span class="o">/</span><span class="n">share</span><span class="o">/</span><span class="n">NaiveBayes</span><span class="o">/</span><span class="n">reducer234</span><span class="o">.</span><span class="n">py</span> \
   <span class="o">-</span><span class="nb">input</span> <span class="n">enronemail_1h</span><span class="o">.</span><span class="n">txt</span> \
   <span class="o">-</span><span class="n">output</span> <span class="n">enron</span>  \
   <span class="o">-</span><span class="nb">file</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">cloudera</span><span class="o">/</span><span class="n">share</span><span class="o">/</span><span class="n">NaiveBayes</span><span class="o">/</span><span class="n">SPAM_Model_MNB</span><span class="o">.</span><span class="n">tsv</span> \
   <span class="o">-</span><span class="n">numReduceTasks</span> <span class="mi">1</span>
<span class="c1">#--D mapreduce.job.reduces=2  depecated</span>
<span class="c1">#-input historical_tours.txt  file on Hadoop</span>


<span class="c1">#output directory on Hadoop </span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>Deleted enronemail_1h.txt
Deleted enron
16/09/12 14:48:26 WARN streaming.StreamJob: -file option is deprecated, please use generic option -files instead.
packageJobJar: [/home/cloudera/share/NaiveBayes/SPAM_Model_MNB.tsv] [/usr/lib/hadoop-mapreduce/hadoop-streaming-2.6.0-cdh5.8.0.jar] /tmp/streamjob5687186373081415694.jar tmpDir=null
16/09/12 14:48:28 INFO client.RMProxy: Connecting to ResourceManager at /0.0.0.0:8032
16/09/12 14:48:29 INFO client.RMProxy: Connecting to ResourceManager at /0.0.0.0:8032
16/09/12 14:48:29 WARN hdfs.DFSClient: Caught exception 
java.lang.InterruptedException
	at java.lang.Object.wait(Native Method)
	at java.lang.Thread.join(Thread.java:1281)
	at java.lang.Thread.join(Thread.java:1355)
	at org.apache.hadoop.hdfs.DFSOutputStream$DataStreamer.closeResponder(DFSOutputStream.java:862)
	at org.apache.hadoop.hdfs.DFSOutputStream$DataStreamer.endBlock(DFSOutputStream.java:600)
	at org.apache.hadoop.hdfs.DFSOutputStream$DataStreamer.run(DFSOutputStream.java:789)
16/09/12 14:48:29 INFO mapred.FileInputFormat: Total input paths to process : 1
16/09/12 14:48:30 WARN hdfs.DFSClient: Caught exception 
java.lang.InterruptedException
	at java.lang.Object.wait(Native Method)
	at java.lang.Thread.join(Thread.java:1281)
	at java.lang.Thread.join(Thread.java:1355)
	at org.apache.hadoop.hdfs.DFSOutputStream$DataStreamer.closeResponder(DFSOutputStream.java:862)
	at org.apache.hadoop.hdfs.DFSOutputStream$DataStreamer.endBlock(DFSOutputStream.java:600)
	at org.apache.hadoop.hdfs.DFSOutputStream$DataStreamer.run(DFSOutputStream.java:789)
16/09/12 14:48:30 WARN hdfs.DFSClient: Caught exception 
java.lang.InterruptedException
	at java.lang.Object.wait(Native Method)
	at java.lang.Thread.join(Thread.java:1281)
	at java.lang.Thread.join(Thread.java:1355)
	at org.apache.hadoop.hdfs.DFSOutputStream$DataStreamer.closeResponder(DFSOutputStream.java:862)
	at org.apache.hadoop.hdfs.DFSOutputStream$DataStreamer.endBlock(DFSOutputStream.java:600)
	at org.apache.hadoop.hdfs.DFSOutputStream$DataStreamer.run(DFSOutputStream.java:789)
16/09/12 14:48:30 INFO mapreduce.JobSubmitter: number of splits:2
16/09/12 14:48:30 INFO mapreduce.JobSubmitter: Submitting tokens for job: job_1473686220901_0008
16/09/12 14:48:30 INFO impl.YarnClientImpl: Submitted application application_1473686220901_0008
16/09/12 14:48:30 INFO mapreduce.Job: The url to track the job: http://quickstart.cloudera:8088/proxy/application_1473686220901_0008/
16/09/12 14:48:30 INFO mapreduce.Job: Running job: job_1473686220901_0008
16/09/12 14:48:39 INFO mapreduce.Job: Job job_1473686220901_0008 running in uber mode : false
16/09/12 14:48:39 INFO mapreduce.Job:  map 0% reduce 0%
16/09/12 14:48:50 INFO mapreduce.Job:  map 50% reduce 0%
16/09/12 14:48:51 INFO mapreduce.Job:  map 100% reduce 0%
16/09/12 14:48:58 INFO mapreduce.Job:  map 100% reduce 100%
16/09/12 14:48:58 INFO mapreduce.Job: Job job_1473686220901_0008 completed successfully
16/09/12 14:48:58 INFO mapreduce.Job: Counters: 49
	File System Counters
		FILE: Number of bytes read=6020
		FILE: Number of bytes written=371211
		FILE: Number of read operations=0
		FILE: Number of large read operations=0
		FILE: Number of write operations=0
		HDFS: Number of bytes read=217097
		HDFS: Number of bytes written=2472
		HDFS: Number of read operations=9
		HDFS: Number of large read operations=0
		HDFS: Number of write operations=2
	Job Counters 
		Launched map tasks=2
		Launched reduce tasks=1
		Data-local map tasks=2
		Total time spent by all maps in occupied slots (ms)=18437
		Total time spent by all reduces in occupied slots (ms)=4918
		Total time spent by all map tasks (ms)=18437
		Total time spent by all reduce tasks (ms)=4918
		Total vcore-seconds taken by all map tasks=18437
		Total vcore-seconds taken by all reduce tasks=4918
		Total megabyte-seconds taken by all map tasks=18879488
		Total megabyte-seconds taken by all reduce tasks=5036032
	Map-Reduce Framework
		Map input records=100
		Map output records=100
		Map output bytes=5814
		Map output materialized bytes=6026
		Input split bytes=230
		Combine input records=0
		Combine output records=0
		Reduce input groups=100
		Reduce shuffle bytes=6026
		Reduce input records=100
		Reduce output records=100
		Spilled Records=200
		Shuffled Maps =2
		Failed Shuffles=0
		Merged Map outputs=2
		GC time elapsed (ms)=289
		CPU time spent (ms)=1810
		Physical memory (bytes) snapshot=579117056
		Virtual memory (bytes) snapshot=4511346688
		Total committed heap usage (bytes)=391979008
	Shuffle Errors
		BAD_ID=0
		CONNECTION=0
		IO_ERROR=0
		WRONG_LENGTH=0
		WRONG_MAP=0
		WRONG_REDUCE=0
	File Input Format Counters 
		Bytes Read=216867
	File Output Format Counters 
		Bytes Written=2472
16/09/12 14:48:58 INFO streaming.StreamJob: Output directory: enron
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[172]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="o">!</span>sudo touch NaiveBayes/enronPredicted.txt
<span class="o">!</span>sudo chmod -R <span class="m">777</span> NaiveBayes/
<span class="o">!</span>hdfs dfs -cat enron/part-0000*
<span class="o">!</span>hdfs dfs -cat enron/part-0000* &gt; NaiveBayes/enronPredicted.txt <span class="p">|</span> head -10
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>0001.1999-12-10.farmer	0
0001.1999-12-10.kaminski	0
0001.2000-01-17.beck	0
0001.2000-06-06.lokay	0
0001.2001-02-07.kitchen	0
0001.2001-04-02.williams	0
0002.1999-12-13.farmer	0
0002.2001-02-07.kitchen	0
0002.2001-05-25.SA_and_HP	1
0002.2003-12-18.GP	1
0002.2004-08-01.BG	1
0003.1999-12-10.kaminski	0
0003.1999-12-14.farmer	0
0003.2000-01-17.beck	0
0003.2001-02-08.kitchen	0
0003.2003-12-18.GP	1
0003.2004-08-01.BG	1
0004.1999-12-10.kaminski	0
0004.1999-12-14.farmer	0
0004.2001-04-02.williams	0
0004.2001-06-12.SA_and_HP	1
0004.2004-08-01.BG	1
0005.1999-12-12.kaminski	0
0005.1999-12-14.farmer	0
0005.2000-06-06.lokay	0
0005.2001-02-08.kitchen	0
0005.2001-06-23.SA_and_HP	1
0005.2003-12-18.GP	1
0006.1999-12-13.kaminski	0
0006.2001-02-08.kitchen	0
0006.2001-04-03.williams	0
0006.2001-06-25.SA_and_HP	1
0006.2003-12-18.GP	1
0006.2004-08-01.BG	1
0007.1999-12-13.kaminski	0
0007.1999-12-14.farmer	0
0007.2000-01-17.beck	0
0007.2001-02-09.kitchen	0
0007.2003-12-18.GP	1
0007.2004-08-01.BG	1
0008.2001-02-09.kitchen	0
0008.2001-06-12.SA_and_HP	1
0008.2001-06-25.SA_and_HP	1
0008.2003-12-18.GP	1
0008.2004-08-01.BG	1
0009.1999-12-13.kaminski	0
0009.1999-12-14.farmer	0
0009.2000-06-07.lokay	0
0009.2001-02-09.kitchen	0
0009.2001-06-26.SA_and_HP	1
0009.2003-12-18.GP	1
0010.1999-12-14.farmer	0
0010.1999-12-14.kaminski	0
0010.2001-02-09.kitchen	0
0010.2001-06-28.SA_and_HP	1
0010.2003-12-18.GP	1
0010.2004-08-01.BG	1
0011.1999-12-14.farmer	0
0011.2001-06-28.SA_and_HP	1
0011.2001-06-29.SA_and_HP	1
0011.2003-12-18.GP	1
0011.2004-08-01.BG	1
0012.1999-12-14.farmer	0
0012.1999-12-14.kaminski	0
0012.2000-01-17.beck	0
0012.2000-06-08.lokay	0
0012.2001-02-09.kitchen	0
0012.2003-12-19.GP	1
0013.1999-12-14.farmer	0
0013.1999-12-14.kaminski	0
0013.2001-04-03.williams	0
0013.2001-06-30.SA_and_HP	1
0013.2004-08-01.BG	1
0014.1999-12-14.kaminski	0
0014.1999-12-15.farmer	0
0014.2001-02-12.kitchen	0
0014.2001-07-04.SA_and_HP	1
0014.2003-12-19.GP	1
0014.2004-08-01.BG	1
0015.1999-12-14.kaminski	0
0015.1999-12-15.farmer	0
0015.2000-06-09.lokay	0
0015.2001-02-12.kitchen	0
0015.2001-07-05.SA_and_HP	1
0015.2003-12-19.GP	1
0016.1999-12-15.farmer	0
0016.2001-02-12.kitchen	0
0016.2001-07-05.SA_and_HP	1
0016.2001-07-06.SA_and_HP	1
0016.2003-12-19.GP	1
0016.2004-08-01.BG	1
0017.1999-12-14.kaminski	0
0017.2000-01-17.beck	0
0017.2001-04-03.williams	0
0017.2003-12-18.GP	1
0017.2004-08-01.BG	1
0017.2004-08-02.BG	1
0018.1999-12-14.kaminski	0
0018.2001-07-13.SA_and_HP	1
0018.2003-12-18.GP	1
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[118]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">defaultdict</span>

<span class="k">def</span> <span class="nf">accuracy</span><span class="p">(</span><span class="n">trueFile</span><span class="p">,</span> <span class="n">predictFile</span><span class="p">):</span>
    <span class="n">actual</span> <span class="o">=</span> <span class="n">defaultdict</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
    <span class="n">predicted</span> <span class="o">=</span> <span class="n">defaultdict</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
    <span class="n">matches</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">total</span> <span class="o">=</span> <span class="mi">0</span>
 
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">trueFile</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
        <span class="n">lines</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">readlines</span><span class="p">()</span>
 
        <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">lines</span><span class="p">:</span>
            <span class="n">elements</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
            <span class="n">key</span> <span class="o">=</span> <span class="n">elements</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            <span class="n">label</span> <span class="o">=</span> <span class="n">elements</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
            <span class="n">actual</span><span class="p">[</span><span class="n">key</span><span class="p">]</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">label</span><span class="p">)</span>
    <span class="n">f</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
 
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">predictFile</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
        <span class="n">lines</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">readlines</span><span class="p">()</span>
 
        <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">lines</span><span class="p">:</span>
            <span class="n">elements</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
            <span class="n">key</span> <span class="o">=</span> <span class="n">elements</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            <span class="n">label</span> <span class="o">=</span> <span class="n">elements</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
            <span class="n">predicted</span><span class="p">[</span><span class="n">key</span><span class="p">]</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">label</span><span class="p">)</span>
 
    <span class="k">if</span> <span class="nb">set</span><span class="p">(</span><span class="n">actual</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span><span class="o">==</span><span class="nb">set</span><span class="p">(</span><span class="n">predicted</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span>
        <span class="k">for</span> <span class="n">k</span><span class="p">,</span><span class="n">v</span> <span class="ow">in</span> <span class="n">actual</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">v</span><span class="o">==</span><span class="n">predicted</span><span class="p">[</span><span class="n">k</span><span class="p">]:</span>
                <span class="n">matches</span><span class="o">+=</span><span class="mi">1</span>
            <span class="n">total</span><span class="o">+=</span><span class="mi">1</span>
        <span class="k">print</span> <span class="nb">str</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">matches</span><span class="p">)</span><span class="o">/</span><span class="nb">len</span><span class="p">(</span><span class="n">actual</span><span class="p">))</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">print</span> <span class="s2">&quot;shit&quot;</span>
        
<span class="n">accuracy</span><span class="p">(</span><span class="s2">&quot;NaiveBayes/enronPredicted.txt&quot;</span><span class="p">,</span> <span class="s2">&quot;NaiveBayes/enronemail_1h.txt&quot;</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>0.67
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Plot-a-histogram-of-the--posterior-probabilities">Plot a histogram of the  posterior probabilities<a class="anchor-link" href="#Plot-a-histogram-of-the--posterior-probabilities">&#182;</a></h3><p>Plot a histogram of the  posterior probabilities (i.e., Pr(Class|Doc)) for each class over the ENRON training set. Summarize what you see.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[203]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="o">%</span><span class="k">matplotlib</span> inline
<span class="c1">#!/usr/bin/env python</span>

<span class="kn">import</span> <span class="nn">sys</span>
<span class="kn">import</span> <span class="nn">re</span>
<span class="kn">import</span> <span class="nn">math</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="kn">as</span> <span class="nn">plt</span>
<span class="kn">from</span> <span class="nn">decimal</span> <span class="kn">import</span> <span class="n">Decimal</span> 
<span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">defaultdict</span>

<span class="k">def</span> <span class="nf">jointProbability</span><span class="p">(</span><span class="n">hamSpamTuples</span><span class="p">):</span>
    
    <span class="n">spamSum</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">hamSum</span> <span class="o">=</span> <span class="mi">0</span> 
    
    <span class="k">for</span> <span class="n">hamSpamTuple</span> <span class="ow">in</span> <span class="n">hamSpamTuples</span><span class="p">:</span>
        <span class="n">ham</span> <span class="o">=</span> <span class="n">hamSpamTuple</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">spam</span> <span class="o">=</span> <span class="n">hamSpamTuple</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
        <span class="n">spamSum</span> <span class="o">+=</span> <span class="n">math</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">spam</span> <span class="o">+</span> <span class="n">sys</span><span class="o">.</span><span class="n">float_info</span><span class="o">.</span><span class="n">epsilon</span><span class="p">)</span>
        <span class="n">hamSum</span> <span class="o">+=</span> <span class="n">math</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">ham</span> <span class="o">+</span> <span class="n">sys</span><span class="o">.</span><span class="n">float_info</span><span class="o">.</span><span class="n">epsilon</span><span class="p">)</span>
    
    <span class="k">return</span> <span class="p">(</span><span class="n">hamSum</span><span class="p">,</span> <span class="n">spamSum</span><span class="p">)</span>
    <span class="c1">#return (math.exp(hamSum),math.exp(spamSum))</span>

<span class="n">modelProbs</span> <span class="o">=</span> <span class="n">defaultdict</span><span class="p">(</span><span class="nb">tuple</span><span class="p">)</span>

<span class="c1">#Format: {key: (P(D|ham), P(D|spam))}</span>
<span class="n">conditionalProbs</span> <span class="o">=</span> <span class="n">defaultdict</span><span class="p">(</span><span class="nb">tuple</span><span class="p">)</span>
<span class="n">totalWords</span> <span class="o">=</span> <span class="mi">0</span> 
<span class="n">spamWords</span> <span class="o">=</span> <span class="mi">0</span> 
<span class="n">hamWords</span> <span class="o">=</span> <span class="mi">0</span> 
<span class="n">posteriorSpam</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">posteriorHam</span> <span class="o">=</span> <span class="p">[]</span>

<span class="c1">#Don&#39;t forget to rerun the model so that ham and spam aren&#39;t mixed up </span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;SPAM_Model_MNB.tsv&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">model</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">readlines</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">model</span><span class="p">:</span>
        <span class="n">word</span><span class="p">,</span> <span class="n">ham</span><span class="p">,</span> <span class="n">spam</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
        <span class="n">modelProbs</span><span class="p">[</span><span class="n">word</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">ham</span><span class="p">),</span> <span class="nb">float</span><span class="p">(</span><span class="n">spam</span><span class="p">))</span>

<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;NaiveBayes/enronemail_1h.txt&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">lines</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">readlines</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">lines</span><span class="p">:</span>
        <span class="n">cp</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
        <span class="n">key</span> <span class="o">=</span> <span class="n">cp</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">label</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">cp</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
        <span class="n">email</span> <span class="o">=</span> <span class="n">cp</span><span class="p">[</span><span class="mi">2</span><span class="p">:]</span>
        <span class="n">email</span> <span class="o">=</span> <span class="s2">&quot; &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">cp</span><span class="p">[</span><span class="mi">2</span><span class="p">:])</span>
        <span class="n">email</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="s1">r&#39;[a-z/</span><span class="se">\&#39;</span><span class="s1">]+&#39;</span><span class="p">,</span><span class="n">email</span><span class="o">.</span><span class="n">lower</span><span class="p">())</span>
        <span class="n">wordCount</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">email</span><span class="p">)</span>
        <span class="n">email</span> <span class="o">=</span> <span class="p">[</span><span class="n">modelProbs</span><span class="p">[</span><span class="n">word</span><span class="p">]</span> <span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">email</span><span class="p">]</span>
        <span class="n">email</span> <span class="o">=</span> <span class="p">[</span><span class="n">word</span> <span class="k">if</span> <span class="n">word</span><span class="o">!=</span><span class="p">()</span> <span class="k">else</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span> <span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">email</span><span class="p">]</span>
        <span class="c1">#probs = reduce(lambda x,y : (math.exp(math.log(x[0] + sys.float_info.epsilon)+math.log(y[0] + sys.float_info.epsilon)),math.exp(math.log(x[1] + sys.float_info.epsilon)+math.log(y[1] + sys.float_info.epsilon))),email)</span>
        <span class="c1">#probs = (math.exp(probs[0]),math.exp(probs[1]))</span>
        <span class="n">probs</span> <span class="o">=</span> <span class="n">jointProbability</span><span class="p">(</span><span class="n">email</span><span class="p">)</span>
        <span class="n">conditionalProbs</span><span class="p">[</span><span class="n">key</span><span class="p">]</span><span class="o">=</span><span class="n">probs</span>
        
        <span class="n">totalWords</span><span class="o">+=</span><span class="mi">1</span>
        <span class="k">if</span> <span class="nb">int</span><span class="p">(</span><span class="n">label</span><span class="p">)</span><span class="o">==</span><span class="mi">1</span><span class="p">:</span>
            <span class="n">spamWords</span><span class="o">+=</span><span class="mi">1</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">hamWords</span><span class="o">+=</span><span class="mi">1</span>

<span class="n">probSpam</span> <span class="o">=</span> <span class="n">spamWords</span><span class="o">/</span><span class="n">totalWords</span>
<span class="n">probHam</span> <span class="o">=</span> <span class="n">hamWords</span><span class="o">/</span><span class="n">totalWords</span>

<span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">conditionalProbs</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
    <span class="c1">#Assumes that v is (condProbHam, condProbSpam)</span>
    <span class="n">probDoc</span> <span class="o">=</span> <span class="n">probSpam</span><span class="o">*</span><span class="n">v</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">+</span><span class="n">probHam</span><span class="o">*</span><span class="n">v</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">probSpamCond</span> <span class="o">=</span> <span class="n">probSpam</span> <span class="o">*</span> <span class="n">v</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">/</span> <span class="n">probDoc</span>
    <span class="n">probHamCond</span> <span class="o">=</span> <span class="n">probHam</span> <span class="o">*</span> <span class="n">v</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">/</span> <span class="n">probDoc</span>
    
    <span class="c1">#print &quot;%s\t%s\t%s&quot; % (k, probHamCond, probSpamCond)</span>
    
    <span class="c1">#Did some math hopefully i didn&#39;t make a big mistake</span>
    <span class="c1">#ab/cd = exp(ln(ab/cd)) = exp(ln(a)+ln(b)-ln(c)-ln(d)</span>
    <span class="c1">#P(S|D) = exp(-ln(1+exp(ln(a)+ln(b)-ln(c)-ln(d))))</span>
    <span class="c1">#a = P(D|H) b = P(H) c = P(D|S) d = P(S)</span>
    <span class="c1">#print &quot;%s\t%s\t%s\t%s&quot; % (v[0] ,v[1],math.log(probHam), math.log(probSpam))</span>
    
    <span class="c1">#Either zero or one</span>
    <span class="n">probSpamCond</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="o">-</span><span class="n">math</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="mi">1</span><span class="o">+</span><span class="n">math</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="nb">min</span><span class="p">(</span><span class="mi">500</span><span class="p">,</span><span class="nb">max</span><span class="p">(</span><span class="o">-</span><span class="mi">500</span><span class="p">,</span><span class="n">v</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="n">math</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">probHam</span><span class="p">)</span> <span class="o">-</span> <span class="n">v</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">math</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">probSpam</span><span class="p">))))))</span>
    <span class="n">probHamCond</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="o">-</span><span class="n">math</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="mi">1</span><span class="o">+</span><span class="n">math</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="nb">min</span><span class="p">(</span><span class="mi">500</span><span class="p">,</span><span class="nb">max</span><span class="p">(</span><span class="o">-</span><span class="mi">500</span><span class="p">,</span><span class="n">v</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">math</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">probSpam</span><span class="p">)</span> <span class="o">-</span> <span class="n">v</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">math</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">probHam</span><span class="p">))))))</span>
    <span class="c1">#print &quot;%s\t%s\t%s&quot; % (k, probHamCond, probSpamCond)</span>
    <span class="n">posteriorSpam</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">probSpamCond</span><span class="p">)</span>
    <span class="n">posteriorHam</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">probHamCond</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">posteriorHam</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="s1">&#39;auto&#39;</span><span class="p">)</span>  <span class="c1"># plt.hist passes it&#39;s arguments to np.histogram</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Ham Posterior Probability Distribution&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">posteriorSpam</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="s1">&#39;auto&#39;</span><span class="p">)</span>  <span class="c1"># plt.hist passes it&#39;s arguments to np.histogram</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Spam Posterior Probability Distribution&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>


<div class="output_png output_subarea ">
<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAXUAAAEKCAYAAADticXcAAAABHNCSVQICAgIfAhkiAAAAAlwSFlz
AAALEgAACxIB0t1+/AAAFtRJREFUeJzt3Xu0pXV93/H3BwYtIoMgMqNcFQskeEGrU40mTAQragjU
WlQS5NJoojbapksFq2UmiVG6VopWoi0N2gG8EYmClxZEHCkKKMrNGxFE5DYHuQreGOXbP57nOHuO
57LPOfucM/x4v9baa579XL/7t/f+7N/+7ec5k6pCktSGrZa6AEnS6BjqktQQQ12SGmKoS1JDDHVJ
aoihLkkNMdQ1Ukm+meT3lrqOySR5MMmT5rjtDUleMMWy5yf5zmTrJjkhyalzq3hOde6e5MdJMqL9
fSDJf+6nD0xy0yj22+9vs3bTaBjqczTZmzzJ0Un+3yIdf32Sn/Vv4NuTnJ1kxTz3OefQG1dVT6mq
i+azj4F6jk7yy/4x3pPkG0leOp/yRlHXb+y06uKq+q0plr2rql4LkGTPvo3n9L6b0B4/TnJ9kg8m
+ecDx7upqpbXDBegDPtararXVdU7B2fNpfb+mJu9vqZrN82doT56i3U1VwGvr6rlwD7AY4CTR7DP
OUmy9XwOPM32X+lD6jHAB4Gzkuwwx+OPpPc6D6Fr4/nU8ZX+Od8BOBj4GfD1JL89x1qmXmGOHz7T
8ErHRWCoL6Akb01yXd+r+maSwweWHZ3k4iT/Lcnd/XrP7ef/MMmGJK+e6RAAVXUPcDbwlH7fy5Oc
3vfgbxj/+twv27vv5d/TL/9oP/9L/f6u7uv9t/38P0hyRV/jxUmeOrCvG5K8JclVwP1Jtp4w9PCI
JO9JckuSm5OcnGSbftmBSW7qt7+NLrBn8kFgW2DvqbZP8pok30tyR5JPJXn8hH28tO/h3p7kvw48
licl+UK/3e1JzkyyfMK2q5J8K8mdSU5L8ojBxzLpE5ScmOT0/u6X+n/v6dv49/p97T+w/uOS/CTJ
Y6driOrcUFVv6Pe7pt9+s28DSY7pH+94z/5VSfYDPgA8N8l9Se7q1/1Qkvcn+WyS+4DV/by/3Pwh
5YQkP0ry/SRHDiz4YpLjBu7/+tvAZK+vie2WZL9+H3cnuSbJoQPLPpTklCSf6be/JMkTp2ujhytD
fbQm9sCuA57X96zWAmdm8yGSVcCVwE7AR4GPAc8C9gaOAk5J8qgZD5rsDPwb4Bv9rFOA7YG9gNXA
q5Mc2y/7K+C8vue7G/A+gKo6sF/+1L5n/A9JngGcBrymr/F/AueOB3PvlcCLgcdU1a8mlPb2/jE+
DXh6P/32geUr6b5h7AG8dobHuKyv4z7ge5Nt33+Y/A3wcuDxwA/p2nTQ4cAz+9thAyGUftuVwG/1
bbNmwrZHAi+ke372nfBYhumFjv/WsLxv44vonvc/HljnVcAFVXXnEPsb94/A706spX/tvBd4Uf8a
/B3gyqr6LvBnwCVVtX1V7TTh+H9VVdsDX57kWCvpXgtPAI4BTs3A8M8kCiZ/fU2odRnwaeD/Ao8D
3gh8eMK+XwGcSPecXw8MDgupZ6jPz6eS3DV+A/5ucGFVnV1VY/30P9CF0aqBVW6oqtP78c+P0wXJ
2qraWFWfBx4AnjzN8d/XH/cK4FbgP/U9tFcAx1fVT6vqRuBv6T4kADYCeybZtaoeqKqvTNjn4AfT
a4D/UVWX9z3DM4BfAM8ZWOe9VXVrVf1ikvqO7B/PnX1IrR2oA+BXwIn9451se+h6k3f1j+8VwOFV
dd8U2x8JnFZVV1XVRuCEfvs9Bvb37qq6t6puBt5DF2JU1fVV9YWq+mVf68nAgWzuff1jvYcuUF41
Rc0zGWzj0/u6xx0FnDHL/d1KF7ST+RXw1CT/rKrGqmqmHybPqapLAaZ4Tgp4R9/mFwGfBY6YRa1T
DT09F9iuqk7qn4MvAp9h8zb+ZFV9vaoeBD4MHDCL4z5sGOrzc1hV7TR+A14/uDDJqweGLu4G9gd2
HlhlbGD6ZwBVdceEeY+e5vh/3h9796o6qg+jnYFldL3UcTcCu/bTb6F73r/af8U9lqntSfdBMf7B
dTfdB88TBta5eZrtnzBJHYPb/qgP3+lc0j/GXarqd/o3+1TbP6E/BgBV9RPgTjY99on1/rqeJLsk
+Wg/THQPcCabP1dTbjsfVfVV4Cf9UMS+dN8Czp3lbnYF7ppk3z+l+yB8HXBbkk/3x5jOTGe33F1V
Px+4P5J2oPtmNfHYg69bgA0D0z9l+vfGw5ahPj9T/uDV9w5Ppfsxc8eq2hH41nTbjMgd9L3xgXl7
ArcA9L2111bVrnRfwd+fqc94uQl458AH145V9eiq+vjAOtMNO9w6SR23DrntMCZuv9nxkmwHPJbN
w3j3Kep5F/AgsH8/NPXH/OZzNdW2c6133Dq6HvpRwCeq6oFZ7vdfA5OeyVJVn6+qf0U3bHIt3Wty
ulpmek52TLLtwP092NQOPwEGhwtXzrCvQbeyefuO7/uWWexDGOoLaTu6kLgjyVZ9j/gpM2wz78Dv
v5qeBbwzyaOT7An8R/qv9ElenmS893NPX+OD/f0NwGDA/y/gz5Ks6rfdLslL+rAcxkeBtyfZuR/3
fwezH1qYjY8CxyZ5WpJH0o2RX1pVgz3ANyd5TJLd6cZtx8fcHw3cD9zXt8+bJ9n/G5LsmmQn4G38
5nj9TH5E19Z7T5j/Ybpg/iO64ZjpBLozU5LsleR9dMNEayZZZ5ckf9iPrW+ke3zjz/UYsNuE30eG
EWBtkm2S/C7wUrrXG3S/D70sybZJngz8uwnbTnx9DboM+Gm6H76XJVkN/AHdc6pZMNTnbtoeTT92
+bfApXQv5v2Bi2e5z+mOMd2yN9J9Pf0+cBFwZlV9qF/2bOCyJD8GPgW8sap+0C9bA5zeD7W8vKq+
Tjeufko/rv1PwNEz1DA476+By4Grgav66QX7cauqvkD3wfGPdD28J9L9kDtY2znA1+l+VP40m866
WQv8C7oPuk/TnU3EhG0/ApxP9wP495j6sUz63FTVz/ptvty38ap+/s19PVVVM71GntM/d/cCX6T7
MHp2VX17kuNvBfwFXVvcQfdD7ev6ZRfSfXPckOT2GY456Dbgbrqe9RnAn1bV+A/XJ9N9eGwAPkQ3
hDVoDQOvr8EF/TDaocBL+lpPAY4a2LenQw4pNcR/kpHuvOC/p+tpPggcR/cG/zjd19AfAEdU1b0L
VqnUsCSnAbdU1X9Z6lr00DZsT/29wOequ/rr6cB3gePpTr3al+5T/4SFKVFqW5K96IZfTlvaStSC
GXvq6S7AuKKq9p4w/7vAgVU1lmQlsL6q9lu4UqX29Bf2/Afgb6rq3Utdjx76hgn1p9P9Yv5tul76
5XQvwlv6MzrG17trwkUMkqRFNszwyzK6q+/+rqqeSXfa0vHM7kc9SdIiWDbEOjcDN1XV5f39s+lC
fSzJioHhl0l/QU9i2EvSHFTVrE9znrGn3l/mflOSffpZB9GdCnUu3d9+gO40t3Om2Ye3Kk488cQl
r2FLudkWtoVtMf1trobpqcOmP66zDd25z8cCW9P9GdTj6C7nnc3ff5AkLYChQr2qrqK7aGWig0db
jiRpPryidBGtXr16qUvYYtgWm9gWm9gW8zfUFaXzOkBSC30MSWpNEmohfiiVJD10GOqS1BBDXZIa
YqhLUkMMdUlqiKEuSQ0x1CWpIcP+mYB52bhxpv8wfults81s/6tGSdryLMrFR1tttSifHfNy2WWX
8KxnPWupy5AkYO4XHy1K2j744JbdU1++/FBuu+22pS5DkubNMXVJaoihLkkNMdQlqSGGuiQ1xFCX
pIYY6pLUEENdkhpiqEtSQwx1SWqIoS5JDTHUJakhhrokNcRQl6SGGOqS1BBDXZIaYqhLUkOG+k8y
kvwAuBd4ENhYVauS7Ah8HNgT+AFwRFXdu0B1SpKGMGxP/UFgdVU9o6pW9fOOBy6oqn2BC4ETFqJA
SdLwhg31TLLuYcC6fnodcPioipIkzc2woV7A55N8Lcmf9PNWVNUYQFVtAHZZiAIlScMb9j+efl5V
3ZbkccD5Sa6lC/pBE+9LkhbZUKFeVbf1//4oyaeAVcBYkhVVNZZkJXD71HtYMzC9ur9JksatX7+e
9evXz3s/qZq+g53kUcBWVXV/ku2A84G1wEHAXVV1UpK3AjtW1fGTbF9beid++fJDOfPM13LooYcu
dSmSBEASqiqz3W6YnvoK4JNdOLMM+HBVnZ/kcuCsJMcBNwJHzPbgkqTRmjHUq+oG4IBJ5t8FHLwQ
RUmS5sYrSiWpIYa6JDXEUJekhhjqktQQQ12SGmKoS1JDDHVJaoihLkkNMdQlqSGGuiQ1xFCXpIYY
6pLUEENdkhpiqEtSQwx1SWqIoS5JDTHUJakhhrokNWSY/6NUkpqxcuVejI3duNRlLBhDXdLDShfo
tdRlDCFz2srhF0lqiKEuSQ0x1CWpIYa6JDXEUJekhhjqktQQQ12SGmKoS1JDDHVJasjQoZ5kqyTf
SHJuf3/HJOcnuTbJeUl2WLgyJUnDmE1P/U3AtwfuHw9cUFX7AhcCJ4yyMEnS7A0V6kl2A14C/P3A
7MOAdf30OuDw0ZYmSZqtYXvqJwNvZvO/grOiqsYAqmoDsMuIa5MkzdKMf6UxyUuBsaq6MsnqaVad
5s+erRmYXt3fJEmbrO9v8zPMn959HvCHSV4CbAtsn+QMYEOSFVU1lmQlcPvUu1gz70IlqW2r2bzD
u3ZOe5lx+KWq3lZVe1TVk4BXAhdW1VHAp4Fj+tWOBs6ZUwWSpJGZz3nq7wZemORa4KD+viRpCc3q
fz6qqi8BX+qn7wIOXoiiJElz4xWlktQQQ12SGmKoS1JDDHVJaoihLkkNMdQlqSGGuiQ1xFCXpIYY
6pLUEENdkhpiqEtSQwx1SWqIoS5JDTHUJakhhrokNcRQl6SGGOqS1BBDXZIaYqhLUkMMdUlqiKEu
SQ0x1CWpIYa6JDXEUJekhhjqktQQQ12SGmKoS1JDDHVJasiMoZ7kkUkuS3JFkmuSnNjP3zHJ+Umu
TXJekh0WvlxJ0nRmDPWq+gXw+1X1DOAA4MVJVgHHAxdU1b7AhcAJC1qpJGlGQw2/VNVP+8lHAsuA
Ag4D1vXz1wGHj7w6SdKsDBXqSbZKcgWwAfh8VX0NWFFVYwBVtQHYZeHKlCQNY9kwK1XVg8AzkiwH
Pplkf7re+marTb2HNQPTq/ubJGmT9f1tfoYK9XFV9eMk64FDgLEkK6pqLMlK4Papt1wzjxIl6eFg
NZt3eNfOaS/DnP2y8/iZLUm2BV4IfAc4FzimX+1o4Jw5VSBJGplheuqPB9Yl2YruQ+DjVfW5JJcC
ZyU5DrgROGIB65QkDWHGUK+qa4BnTjL/LuDghShKkjQ3XlEqSQ0x1CWpIYa6JDXEUJekhhjqktQQ
Q12SGmKoS1JDDHVJaoihLkkNMdQlqSGGuiQ1xFCXpIYY6pLUEENdkhpiqEtSQwx1SWqIoS5JDTHU
JakhhrokNcRQl6SGGOqS1BBDXZIaYqhLUkMMdUlqiKEuSQ0x1CWpIYa6JDXEUJekhswY6kl2S3Jh
km8luSbJG/v5OyY5P8m1Sc5LssPClytJms4wPfVfAn9RVfsDzwXekGQ/4HjggqraF7gQOGHhypQk
DWPGUK+qDVV1ZT99P/AdYDfgMGBdv9o64PCFKlKSNJxZjakn2Qs4ALgUWFFVY9AFP7DLqIuTJM3O
smFXTPJo4BPAm6rq/iQ1YZWJ9wesGZhe3d8kSZus72/zM1SoJ1lGF+hnVNU5/eyxJCuqaizJSuD2
qfewZp5lSlLrVrN5h3ftnPYy7PDLB4FvV9V7B+adCxzTTx8NnDNxI0nS4pqxp57kecAfAdckuYJu
mOVtwEnAWUmOA24EjljIQiVJM5sx1Kvqy8DWUyw+eLTlSJLmwytKJakhhrokNcRQl6SGGOqS1BBD
XZIaYqhLUkMMdUlqiKEuSQ0x1CWpIYa6JDXEUJekhhjqktQQQ12SGmKoS1JDDHVJaoihLkkNMdQl
qSGGuiQ1xFCXpIYY6pLUEENdkhpiqEtSQwx1SWqIoS5JDTHUJakhhrokNcRQl6SGGOqS1JAZQz3J
aUnGklw9MG/HJOcnuTbJeUl2WNgyJUnDGKan/iHgRRPmHQ9cUFX7AhcCJ4y6MEnS7M0Y6lV1MXD3
hNmHAev66XXA4SOuS5I0B3MdU9+lqsYAqmoDsMvoSpIkzdWofiitEe1HkjQPy+a43ViSFVU1lmQl
cPv0q68ZmF7d3yRJm6zvb/MzbKinv407FzgGOAk4Gjhn+s3XzLowSXp4Wc3mHd61c9rLMKc0fgT4
CrBPkh8mORZ4N/DCJNcCB/X3JUlLbMaeelUdOcWig0dciyRpnryiVJIaYqhLUkMMdUlqiKEuSQ0x
1CWpIYa6JDXEUJekhhjqktQQQ12SGmKoS1JDDHVJaoihLkkNMdQlqSGGuiQ1xFCXpIYY6pLUEENd
khpiqEtSQwx1SWqIoS5JDTHUJakhhrokNcRQl6SGGOqS1BBDXZIaYqhLUkMMdUlqiKEuSQ2ZV6gn
OSTJd5P8U5K3jqooSdLczDnUk2wFnAK8CNgfeFWS/UZVWIvWr1+/1CVsMWyLTWyLTWyL+ZtPT30V
8L2qurGqNgIfAw4bTVlt8gW7iW2xiW2xiW0xf/MJ9V2Bmwbu39zPkyQtkWWLcZDlyw9djMPM2QMP
fJVttnnDUpchSfOWqprbhslzgDVVdUh//3igquqkCevN7QCS9DBXVZntNvMJ9a2Ba4GDgNuArwKv
qqrvzGmHkqR5m/PwS1X9Ksm/B86nG5s/zUCXpKU15566JGnLM7IrSoe5ECnJf0/yvSRXJjlgVMfe
0szUFkmOTHJVf7s4yVOXos6FNuzFaUmenWRjkpctZn2Lacj3x+okVyT5ZpIvLnaNi2WI98fyJOf2
OXFNkmOWoMxFkeS0JGNJrp5mndnlZlXN+0b34XAdsCewDXAlsN+EdV4MfLaf/pfApaM49pZ2G7It
ngPs0E8f0mJbDNMOA+t9AfgM8LKlrnsJXxM7AN8Cdu3v77zUdS9hW5wAvGu8HYA7gWVLXfsCtcfz
gQOAq6dYPuvcHFVPfZgLkQ4DTgeoqsuAHZKsGNHxtyQztkVVXVpV9/Z3L6XN8/uHvTjtz4FPALcv
ZnGLbJi2OBI4u6puAaiqOxa5xsUyTFsUsH0/vT1wZ1X9chFrXDRVdTFw9zSrzDo3RxXqw1yINHGd
WyZZpwWzvSjrT4D/s6AVLY0Z2yHJE4DDq+oDwKxP3XoIGeY1sQ+wU5IvJvlakqMWrbrFNUxbnAL8
dpJbgauANy1SbVuiWefmolx8pMkl+X3gWLqvYA9H7wEGx1RbDvaZLAOeCbwA2A64JMklVXXd0pa1
JF4EXFFVL0iyN/D5JE+rqvuXurCHglGF+i3AHgP3d+vnTVxn9xnWacEwbUGSpwGnAodU1XRfvx6q
hmmHZwEfSxK6sdMXJ9lYVecuUo2LZZi2uBm4o6p+Dvw8yUXA0+nGn1syTFscC7wLoKquT3IDsB9w
+aJUuGWZdW6Oavjla8CTk+yZ5BHAK4GJb8xzgVfDr69GvaeqxkZ0/C3JjG2RZA/gbOCoqrp+CWpc
DDO2Q1U9qb89kW5c/fUNBjoM9/44B3h+kq2TPIruR7EWr/sYpi1uBA4G6MeP9wG+v6hVLq4w9bfU
WefmSHrqNcWFSEn+tFtcp1bV55K8JMl1wE/oPo2bM0xbAO8AdgLe3/dSN1bVqqWrevSGbIfNNln0
IhfJkO+P7yY5D7ga+BVwalV9ewnLXhBDvi7+GvjfA6f5vaWq7lqikhdUko8Aq4HHJvkhcCLwCOaR
m158JEkN8b+zk6SGGOqS1BBDXZIaYqhLUkMMdUlqiKEuSQ0x1CWpIYa6JDXk/wOFwtZzgVxdWgAA
AABJRU5ErkJggg==
"
>
</div>

</div>

<div class="output_area"><div class="prompt"></div>


<div class="output_png output_subarea ">
<img src="data:image/png;base64,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
P7HydfRcbmKVAAAAAElFTkSuQmCC
"
>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The two distributions are entirely consisting of ~0 and ~1 probabilities for each document.  This is not surprising considering that if a document contains a word that is not included in either the spam or ham corpus, then the probability of it occurring is zero, so the entire probability is zero.  This is due to the no-smoothing approach.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="3.--HW2.4-Use-Laplace-plus-one-smoothing--">3.  HW2.4 Use Laplace plus-one smoothing  <a name="2.4" /><a class="anchor-link" href="#3.--HW2.4-Use-Laplace-plus-one-smoothing--">&#182;</a></h2><p><a href="#TOC">Back to Table of Contents</a></p>
<p>Repeat HW2.3 with the following modification: use Laplace plus-one smoothing.</p>
<p>In addition, compare the misclassifcation error rates for 2.3 versus 2.4 and explain the differences.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[204]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span>%%bash

sudo touch NaiveBayes/mapper241.py
sudo touch NaiveBayes/reducer241.py
sudo touch NaiveBayes/combiner241.py
sudo chmod -R <span class="m">777</span> NaiveBayes/
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[205]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="o">%%</span><span class="k">writefile</span> NaiveBayes/mapper241.py
#!/usr/bin/env python

import sys
import re
from collections import defaultdict

spam = defaultdict(int)
ham = defaultdict(int)
words = set()


for line in sys.stdin:
    spamOrHam = &quot;spam&quot; if line.split()[1]==&quot;1&quot; else &quot;ham&quot;
    for word in re.findall(r&#39;[a-z/\&#39;]+&#39;, line.lower())[1:]:  #line.split() previously 
        words.add(word)
        if spamOrHam == &quot;spam&quot;:
            spam[word]+=1
        elif spamOrHam == &quot;ham&quot;:
            ham[word]+=1

for word in words:
    print &#39;%s\t%s\t%s&#39; % (word, ham[word],spam[word])    
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>Overwriting NaiveBayes/mapper241.py
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[206]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="o">%%</span><span class="k">writefile</span> NaiveBayes/reducer241.py
#!/usr/bin/env python

import sys
from collections import defaultdict

spamD = defaultdict(int)
hamD = defaultdict(int)
spamWords=0
hamWords=0
words = set()
    
for line in sys.stdin:
    word, ham, spam = line.split()
    spamD[word]+=float(spam)
    hamD[word]+=float(ham)
    spamWords+=float(spam)
    hamWords+=float(ham)
    words.add(word)

vocabSize = len(words)

for word in words:
    spamProb = str(0 if spamWords==0 else (float(spamD[word])+1)/(int(spamWords) + vocabSize))
    hamProb = str(0 if hamWords==0 else (float(hamD[word])+1)/(int(hamWords) + vocabSize))
    print &#39;%s\t%s\t%s&#39; % (word, hamProb, spamProb)
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>Overwriting NaiveBayes/reducer241.py
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[208]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="o">!</span>less NaiveBayes/chineseExample.txt <span class="p">|</span> NaiveBayes/mapper241.py
<span class="o">!</span><span class="nb">printf</span> <span class="s2">&quot;dog 1 4 \n cat 3 4&quot;</span> <span class="p">|</span> NaiveBayes/reducer241.py
<span class="o">!</span>head NaiveBayes/chineseExample.txt <span class="p">|</span> NaiveBayes/mapper241.py <span class="p">|</span> NaiveBayes/reducer241.py #<span class="p">|</span> NaiveBayes/combiner231.py  
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>dog	0.333333333333	0.5
cat	0.666666666667	0.5
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[210]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="o">!</span>hdfs dfs -rm chineseExample.txt
<span class="o">!</span>hdfs dfs -copyFromLocal /home/cloudera/share/NaiveBayes/chineseExample.txt
<span class="o">!</span>hdfs dfs -rm -r chinese
<span class="c1">#usr/local/Cellar/hadoop/2.6.0/libexec/share/hadoop/tools/lib</span>
<span class="n">dataDir</span> <span class="o">=</span> <span class="s2">&quot;/home/cloudera/share/NaiveBayes&quot;</span>

<span class="o">!</span>hadoop jar /usr/lib/hadoop-0.20-mapreduce/contrib/streaming/hadoop-streaming-2.6.0-mr1-cdh5.8.0.jar <span class="err">\</span>
   <span class="o">-</span><span class="n">mapper</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">cloudera</span><span class="o">/</span><span class="n">share</span><span class="o">/</span><span class="n">NaiveBayes</span><span class="o">/</span><span class="n">mapper241</span><span class="o">.</span><span class="n">py</span> \
   <span class="o">-</span><span class="n">reducer</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">cloudera</span><span class="o">/</span><span class="n">share</span><span class="o">/</span><span class="n">NaiveBayes</span><span class="o">/</span><span class="n">reducer241</span><span class="o">.</span><span class="n">py</span> \
   <span class="o">-</span><span class="nb">input</span> <span class="n">chineseExample</span><span class="o">.</span><span class="n">txt</span> \
   <span class="o">-</span><span class="n">output</span> <span class="n">chinese</span>  \
   <span class="o">-</span><span class="n">numReduceTasks</span> <span class="mi">1</span>
<span class="c1">#--D mapreduce.job.reduces=2  depecated</span>
<span class="c1">#-input historical_tours.txt  file on Hadoop</span>


<span class="c1">#output directory on Hadoop </span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>Deleted chineseExample.txt
Deleted chinese
packageJobJar: [] [/usr/lib/hadoop-mapreduce/hadoop-streaming-2.6.0-cdh5.8.0.jar] /tmp/streamjob5928567885221697648.jar tmpDir=null
16/09/12 20:57:51 INFO client.RMProxy: Connecting to ResourceManager at /0.0.0.0:8032
16/09/12 20:57:51 INFO client.RMProxy: Connecting to ResourceManager at /0.0.0.0:8032
16/09/12 20:57:52 INFO mapred.FileInputFormat: Total input paths to process : 1
16/09/12 20:57:52 WARN hdfs.DFSClient: Caught exception 
java.lang.InterruptedException
	at java.lang.Object.wait(Native Method)
	at java.lang.Thread.join(Thread.java:1281)
	at java.lang.Thread.join(Thread.java:1355)
	at org.apache.hadoop.hdfs.DFSOutputStream$DataStreamer.closeResponder(DFSOutputStream.java:862)
	at org.apache.hadoop.hdfs.DFSOutputStream$DataStreamer.endBlock(DFSOutputStream.java:600)
	at org.apache.hadoop.hdfs.DFSOutputStream$DataStreamer.run(DFSOutputStream.java:789)
16/09/12 20:57:52 INFO mapreduce.JobSubmitter: number of splits:2
16/09/12 20:57:52 INFO mapreduce.JobSubmitter: Submitting tokens for job: job_1473686220901_0009
16/09/12 20:57:53 INFO impl.YarnClientImpl: Submitted application application_1473686220901_0009
16/09/12 20:57:53 INFO mapreduce.Job: The url to track the job: http://quickstart.cloudera:8088/proxy/application_1473686220901_0009/
16/09/12 20:57:53 INFO mapreduce.Job: Running job: job_1473686220901_0009
16/09/12 20:58:01 INFO mapreduce.Job: Job job_1473686220901_0009 running in uber mode : false
16/09/12 20:58:01 INFO mapreduce.Job:  map 0% reduce 0%
16/09/12 20:58:13 INFO mapreduce.Job:  map 50% reduce 0%
16/09/12 20:58:14 INFO mapreduce.Job:  map 100% reduce 0%
16/09/12 20:58:23 INFO mapreduce.Job:  map 100% reduce 100%
16/09/12 20:58:23 INFO mapreduce.Job: Job job_1473686220901_0009 completed successfully
16/09/12 20:58:23 INFO mapreduce.Job: Counters: 50
	File System Counters
		FILE: Number of bytes read=99
		FILE: Number of bytes written=355952
		FILE: Number of read operations=0
		FILE: Number of large read operations=0
		FILE: Number of write operations=0
		HDFS: Number of bytes read=385
		HDFS: Number of bytes written=225
		HDFS: Number of read operations=9
		HDFS: Number of large read operations=0
		HDFS: Number of write operations=2
	Job Counters 
		Killed map tasks=1
		Launched map tasks=2
		Launched reduce tasks=1
		Data-local map tasks=2
		Total time spent by all maps in occupied slots (ms)=21150
		Total time spent by all reduces in occupied slots (ms)=7399
		Total time spent by all map tasks (ms)=21150
		Total time spent by all reduce tasks (ms)=7399
		Total vcore-seconds taken by all map tasks=21150
		Total vcore-seconds taken by all reduce tasks=7399
		Total megabyte-seconds taken by all map tasks=21657600
		Total megabyte-seconds taken by all reduce tasks=7576576
	Map-Reduce Framework
		Map input records=4
		Map output records=7
		Map output bytes=79
		Map output materialized bytes=105
		Input split bytes=232
		Combine input records=0
		Combine output records=0
		Reduce input groups=6
		Reduce shuffle bytes=105
		Reduce input records=7
		Reduce output records=6
		Spilled Records=14
		Shuffled Maps =2
		Failed Shuffles=0
		Merged Map outputs=2
		GC time elapsed (ms)=272
		CPU time spent (ms)=2010
		Physical memory (bytes) snapshot=569569280
		Virtual memory (bytes) snapshot=4511948800
		Total committed heap usage (bytes)=391979008
	Shuffle Errors
		BAD_ID=0
		CONNECTION=0
		IO_ERROR=0
		WRONG_LENGTH=0
		WRONG_MAP=0
		WRONG_REDUCE=0
	File Input Format Counters 
		Bytes Read=153
	File Output Format Counters 
		Bytes Written=225
16/09/12 20:58:23 INFO streaming.StreamJob: Output directory: chinese
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[212]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span>%%bash

sudo touch NaiveBayes/chineseModel.tsv
sudo chmod -R <span class="m">777</span> NaiveBayes/
hdfs dfs -cat chinese/part-0000* &gt; NaiveBayes/chineseModel.tsv
hdfs dfs -cat chinese/part-0000*
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Hand-calculations-for-Multinomial-naive-Bayes-(Learning-and-classifiction)">Hand calculations for Multinomial naive Bayes (Learning and classifiction)<a class="anchor-link" href="#Hand-calculations-for-Multinomial-naive-Bayes-(Learning-and-classifiction)">&#182;</a></h3><ul>
<li>Insert hand calculations for learning a multinomial naive Bayes Classifier from the Chinese dataset</li>
<li>Insert hand calculations for classifying the test document "D5" using the learnt multinomial naive Bayes Classifier from the Chinese dataset</li>
</ul>
\begin{equation}
P(c) = 3/4
\\
P(!c) = 1/4
\\
P(Chinese|c) = (1+5)/(8+6) = 6/14 = 3/7
\\
P(Tokyo|c) = P(Japan|c) = (1)/(8+6) = 1/14
\\
P(Chinese|!c) = (1+1)/(3+6) = 2/9
\\
P(Tokyo|!c) = P(Japan|!c) = (1+1)/(3+6)=2/9
\\
P(Beijing|c)=P(Shanghai|c)=P(Macao|c)=(1+1)/(8+6) = 2/14 = 1/7
\\
P(Beijing|!c)=P(Shanghai|!c)=P(Macao|!c)=1/(6+3)= 1/9
\\
P(c|D5) = P(c)*P(Chinese|c)^3*P(Tokyo|c)*P(Japan|c)  =  3/4 * (3/7)^3 * ( 1/(14) ) = 0.0003
\\
P(!c|D5) = P(!c)*P(Chinese|!c)^3*P(Tokyo|!c)*P(Japan|!c) = 1/4 * (2/9)^3 * 2/3 * 2/3 = 0.0001
\end{equation}<p>Therefore we predict that D5 is a chinese document.</p>
<h6 id="Learnt-Multinomial-Naive-Bayes-Model-WITH-Smoothing">Learnt Multinomial Naive Bayes Model WITH Smoothing<a class="anchor-link" href="#Learnt-Multinomial-Naive-Bayes-Model-WITH-Smoothing">&#182;</a></h6><table>
<thead><tr>
<th>Word</th>
<th>Word Class Conditional counts and probs</th>
</tr>
</thead>
<tbody>
<tr>
<td>Beijing</td>
<td>[0.0, 1.0, 1/9, 1/7]</td>
</tr>
<tr>
<td>Chinese</td>
<td>[1.0, 5.0, 2/9, 3/7]</td>
</tr>
<tr>
<td>Tokyo</td>
<td>[1.0, 0.0, 2/9, 1/14]</td>
</tr>
<tr>
<td>Shanghai</td>
<td>[0.0, 1.0, 1/9, 1/7]</td>
</tr>
<tr>
<td><strong>ModelPrior</strong></td>
<td>[1.0, 3.0, 0.25, 0.75]</td>
</tr>
<tr>
<td>Japan</td>
<td>[1.0, 0.0, 2/9, 1/14]</td>
</tr>
<tr>
<td>Macao</td>
<td>[0.0, 1.0, 1/9, 1/7]</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[220]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span>%%bash
<span class="c1">#Run a mapreduce that includes the subject line.  Save the hadoop output to a regular file SPAM_Model_MNB.tsv</span>
<span class="c1">#Do a simple head and tail sort situation to show top 10 and bottom 10 terms alphabetically ordered</span>
<span class="c1">#Really this should be easy, it&#39;s just tweaking the mapper, running it, saving the model, then printing results</span>

sudo touch NaiveBayes/mapper243.py
sudo touch NaiveBayes/reducer243.py
sudo chmod -R <span class="m">777</span> NaiveBayes/
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[221]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="o">%%</span><span class="k">writefile</span> NaiveBayes/mapper243.py
#!/usr/bin/env python

import sys
import re
from collections import defaultdict

spam = defaultdict(int)
ham = defaultdict(int)
words = set()


#Modify this so that you don&#39;t count the key; key is not the same as subject line
for line in sys.stdin:
    cp = line.split()
    label = cp[1]
    email = cp[2:]
    email = &quot; &quot;.join(cp[2:])
    spamOrHam = &quot;spam&quot; if label==&quot;1&quot; else &quot;ham&quot;
    for word in re.findall(r&#39;[a-z/\&#39;]+&#39;, email.lower()):  #line.split() previously 
        words.add(word)
        if spamOrHam == &quot;spam&quot;:
            spam[word]+=1
        elif spamOrHam == &quot;ham&quot;:
            ham[word]+=1

for word in words:
    print &#39;%s\t%s\t%s&#39; % (word, ham[word],spam[word])
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>Overwriting NaiveBayes/mapper243.py
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[222]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="o">%%</span><span class="k">writefile</span> NaiveBayes/reducer243.py
#!/usr/bin/env python

import sys
from collections import defaultdict

spamD = defaultdict(int)
hamD = defaultdict(int)
spamWords=0
hamWords=0
words = set()
    
for line in sys.stdin:
    word, ham, spam = line.split()
    spamD[word]+=float(spam)
    hamD[word]+=float(ham)
    spamWords+=float(spam)
    hamWords+=float(ham)
    words.add(word) 

vocabSize = len(words)

for word in words:
    spamProb = str(0 if spamWords==0 else (float(spamD[word])+1)/(int(spamWords) + vocabSize))
    hamProb = str(0 if hamWords==0 else (float(hamD[word])+1)/(int(hamWords) + vocabSize))
    print &#39;%s\t%s\t%s&#39; % (word, hamProb, spamProb)
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>Overwriting NaiveBayes/reducer243.py
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[223]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="o">!</span>hdfs dfs -rm enronemail_1h.txt
<span class="o">!</span>hdfs dfs -copyFromLocal /home/cloudera/share/NaiveBayes/enronemail_1h.txt
<span class="o">!</span>hdfs dfs -rm -r enron
<span class="c1">#usr/local/Cellar/hadoop/2.6.0/libexec/share/hadoop/tools/lib</span>
<span class="n">dataDir</span> <span class="o">=</span> <span class="s2">&quot;/home/cloudera/share/NaiveBayes&quot;</span>

<span class="o">!</span>hadoop jar /usr/lib/hadoop-0.20-mapreduce/contrib/streaming/hadoop-streaming-2.6.0-mr1-cdh5.8.0.jar <span class="err">\</span>
   <span class="o">-</span><span class="n">mapper</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">cloudera</span><span class="o">/</span><span class="n">share</span><span class="o">/</span><span class="n">NaiveBayes</span><span class="o">/</span><span class="n">mapper243</span><span class="o">.</span><span class="n">py</span> \
   <span class="o">-</span><span class="n">reducer</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">cloudera</span><span class="o">/</span><span class="n">share</span><span class="o">/</span><span class="n">NaiveBayes</span><span class="o">/</span><span class="n">reducer243</span><span class="o">.</span><span class="n">py</span> \
   <span class="o">-</span><span class="nb">input</span> <span class="n">enronemail_1h</span><span class="o">.</span><span class="n">txt</span> \
   <span class="o">-</span><span class="n">output</span> <span class="n">enron</span>  \
   <span class="o">-</span><span class="n">numReduceTasks</span> <span class="mi">1</span>
<span class="c1">#--D mapreduce.job.reduces=2  depecated</span>
<span class="c1">#-input historical_tours.txt  file on Hadoop</span>


<span class="c1">#output directory on Hadoop </span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>Deleted enronemail_1h.txt
Deleted enron
packageJobJar: [] [/usr/lib/hadoop-mapreduce/hadoop-streaming-2.6.0-cdh5.8.0.jar] /tmp/streamjob7473866770594567201.jar tmpDir=null
16/09/12 21:19:06 INFO client.RMProxy: Connecting to ResourceManager at /0.0.0.0:8032
16/09/12 21:19:06 INFO client.RMProxy: Connecting to ResourceManager at /0.0.0.0:8032
16/09/12 21:19:07 INFO mapred.FileInputFormat: Total input paths to process : 1
16/09/12 21:19:07 WARN hdfs.DFSClient: Caught exception 
java.lang.InterruptedException
	at java.lang.Object.wait(Native Method)
	at java.lang.Thread.join(Thread.java:1281)
	at java.lang.Thread.join(Thread.java:1355)
	at org.apache.hadoop.hdfs.DFSOutputStream$DataStreamer.closeResponder(DFSOutputStream.java:862)
	at org.apache.hadoop.hdfs.DFSOutputStream$DataStreamer.endBlock(DFSOutputStream.java:600)
	at org.apache.hadoop.hdfs.DFSOutputStream$DataStreamer.run(DFSOutputStream.java:789)
16/09/12 21:19:07 WARN hdfs.DFSClient: Caught exception 
java.lang.InterruptedException
	at java.lang.Object.wait(Native Method)
	at java.lang.Thread.join(Thread.java:1281)
	at java.lang.Thread.join(Thread.java:1355)
	at org.apache.hadoop.hdfs.DFSOutputStream$DataStreamer.closeResponder(DFSOutputStream.java:862)
	at org.apache.hadoop.hdfs.DFSOutputStream$DataStreamer.endBlock(DFSOutputStream.java:600)
	at org.apache.hadoop.hdfs.DFSOutputStream$DataStreamer.run(DFSOutputStream.java:789)
16/09/12 21:19:07 INFO mapreduce.JobSubmitter: number of splits:2
16/09/12 21:19:08 INFO mapreduce.JobSubmitter: Submitting tokens for job: job_1473686220901_0011
16/09/12 21:19:08 INFO impl.YarnClientImpl: Submitted application application_1473686220901_0011
16/09/12 21:19:08 INFO mapreduce.Job: The url to track the job: http://quickstart.cloudera:8088/proxy/application_1473686220901_0011/
16/09/12 21:19:08 INFO mapreduce.Job: Running job: job_1473686220901_0011
16/09/12 21:19:22 INFO mapreduce.Job: Job job_1473686220901_0011 running in uber mode : false
16/09/12 21:19:22 INFO mapreduce.Job:  map 0% reduce 0%
16/09/12 21:19:37 INFO mapreduce.Job:  map 50% reduce 0%
16/09/12 21:19:38 INFO mapreduce.Job:  map 100% reduce 0%
16/09/12 21:19:48 INFO mapreduce.Job:  map 100% reduce 100%
16/09/12 21:19:48 INFO mapreduce.Job: Job job_1473686220901_0011 completed successfully
16/09/12 21:19:49 INFO mapreduce.Job: Counters: 50
	File System Counters
		FILE: Number of bytes read=92545
		FILE: Number of bytes written=540835
		FILE: Number of read operations=0
		FILE: Number of large read operations=0
		FILE: Number of write operations=0
		HDFS: Number of bytes read=217097
		HDFS: Number of bytes written=226696
		HDFS: Number of read operations=9
		HDFS: Number of large read operations=0
		HDFS: Number of write operations=2
	Job Counters 
		Killed map tasks=1
		Launched map tasks=2
		Launched reduce tasks=1
		Data-local map tasks=2
		Total time spent by all maps in occupied slots (ms)=26699
		Total time spent by all reduces in occupied slots (ms)=7446
		Total time spent by all map tasks (ms)=26699
		Total time spent by all reduce tasks (ms)=7446
		Total vcore-seconds taken by all map tasks=26699
		Total vcore-seconds taken by all reduce tasks=7446
		Total megabyte-seconds taken by all map tasks=27339776
		Total megabyte-seconds taken by all reduce tasks=7624704
	Map-Reduce Framework
		Map input records=100
		Map output records=6696
		Map output bytes=79147
		Map output materialized bytes=92551
		Input split bytes=230
		Combine input records=0
		Combine output records=0
		Reduce input groups=5211
		Reduce shuffle bytes=92551
		Reduce input records=6696
		Reduce output records=5211
		Spilled Records=13392
		Shuffled Maps =2
		Failed Shuffles=0
		Merged Map outputs=2
		GC time elapsed (ms)=284
		CPU time spent (ms)=3270
		Physical memory (bytes) snapshot=565088256
		Virtual memory (bytes) snapshot=4512260096
		Total committed heap usage (bytes)=391979008
	Shuffle Errors
		BAD_ID=0
		CONNECTION=0
		IO_ERROR=0
		WRONG_LENGTH=0
		WRONG_MAP=0
		WRONG_REDUCE=0
	File Input Format Counters 
		Bytes Read=216867
	File Output Format Counters 
		Bytes Written=226696
16/09/12 21:19:49 INFO streaming.StreamJob: Output directory: enron
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[224]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span>%%bash

sudo touch NaiveBayes/SPAM_Model_MNB.tsv
sudo chmod -R <span class="m">777</span> NaiveBayes/
hdfs dfs -cat enron/part-0000* &gt; NaiveBayes/SPAM_Model_MNB.tsv
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>stock	0.000220264317181	0.000129444252675
limited	0.000275330396476	0.000474628926476
entergyr	0.00011013215859	4.31480842251e-05
additionally	0.00011013215859	8.62961684501e-05
doubts	5.50660792952e-05	8.62961684501e-05
dynamic	0.000165198237885	4.31480842251e-05
externally	5.50660792952e-05	0.000129444252675
yellow	5.50660792952e-05	8.62961684501e-05
barraged	5.50660792952e-05	8.62961684501e-05
prefix	5.50660792952e-05	8.62961684501e-05
</pre>
</div>
</div>

<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stderr output_text">
<pre>cat: Unable to write to output stream.
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[227]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span>%%bash

sudo chmod -R <span class="m">777</span> NaiveBayes/
less NaiveBayes/SPAM_Model_MNB.tsv <span class="p">|</span> sort -k1,1 <span class="p">|</span> head -10 
<span class="nb">printf</span> <span class="s2">&quot;\n&quot;</span>
less NaiveBayes/SPAM_Model_MNB.tsv <span class="p">|</span> sort -k1,1 <span class="p">|</span> tail -10
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>/	0.00848017621145	0.000819813600276
//	0.00011013215859	0.0027614773904
&apos;	0.000220264317181	0.000129444252675
a	0.0108480176211	0.0149292371419
ab	0.000330396475771	4.31480842251e-05
abidjan	5.50660792952e-05	0.000129444252675
ability	5.50660792952e-05	0.000129444252675
able	0.000220264317181	0.000517777010701
abn	5.50660792952e-05	8.62961684501e-05
about	0.000550660792952	0.0018985157059

zac	5.50660792952e-05	0.000129444252675
zadorozhny/hou/ect	0.000275330396476	4.31480842251e-05
zero	0.000220264317181	8.62961684501e-05
zesto	5.50660792952e-05	0.000474628926476
zimin	0.000330396475771	4.31480842251e-05
zinc	5.50660792952e-05	8.62961684501e-05
zk	5.50660792952e-05	8.62961684501e-05
zo	5.50660792952e-05	0.000129444252675
zolam	5.50660792952e-05	0.000129444252675
zxs	5.50660792952e-05	8.62961684501e-05
</pre>
</div>
</div>

<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stderr output_text">
<pre>sort: write failed: standard output: Broken pipe
sort: write error
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[246]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span>%%bash
<span class="c1">#Run a mapreduce that includes the subject line.  Save the hadoop output to a regular file SPAM_Model_MNB.tsv</span>
<span class="c1">#Do a simple head and tail sort situation to show top 10 and bottom 10 terms alphabetically ordered</span>
<span class="c1">#Really this should be easy, it&#39;s just tweaking the mapper, running it, saving the model, then printing results</span>

sudo touch NaiveBayes/mapper244.py
sudo touch NaiveBayes/mapper244_chinese.py
sudo touch NaiveBayes/reducer244.py
sudo chmod -R <span class="m">777</span> NaiveBayes/
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[247]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="o">%%</span><span class="k">writefile</span> NaiveBayes/mapper244_chinese.py
#!/usr/bin/env python

import sys
import re
import math
from collections import defaultdict

def jointProbability(hamSpamTuples):
    
    spamSum = 0
    hamSum = 0 
    
    for hamSpamTuple in hamSpamTuples:
        ham = hamSpamTuple[0]
        spam = hamSpamTuple[1]
        spamSum += math.log(spam + sys.float_info.epsilon)
        hamSum += math.log(ham + sys.float_info.epsilon)
    
    return (hamSum, spamSum)

modelProbs = defaultdict(tuple)
spam = defaultdict(int)
ham = defaultdict(int)
words = set()

#Don&#39;t forget to rerun the model so that ham and spam aren&#39;t mixed up 
with open(&quot;chineseModel.tsv&quot;) as f:
    model = f.readlines()
    for line in model:
        word, ham, spam = line.split()
        modelProbs[word] = (float(ham), float(spam))

for line in sys.stdin:
    cp = line.split()
    key = cp[0]
    label = cp[1]
    email = cp[2:]
    email = &quot; &quot;.join(cp[2:])
    email = re.findall(r&#39;[a-z/\&#39;]+&#39;,email.lower())
    numWords = len(email)
    email = [modelProbs[word] for word in email]
    email = [word if word!=() else (0,0) for word in email]
    #probs = reduce(lambda x,y : (x[0]*y[0],x[1]*y[1]),email)
    probs = jointProbability(email)
    print &quot;%s\t%s\t%s\t%s\t%s&quot; % (key, label, numWords, probs[0], probs[1])
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>Overwriting NaiveBayes/mapper244_chinese.py
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[248]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="o">%%</span><span class="k">writefile</span> NaiveBayes/mapper244.py
#!/usr/bin/env python

import sys
import re
import math
from collections import defaultdict

def jointProbability(hamSpamTuples):
    
    spamSum = 0
    hamSum = 0 
    
    for hamSpamTuple in hamSpamTuples:
        ham = hamSpamTuple[0]
        spam = hamSpamTuple[1]
        spamSum += math.log(spam + sys.float_info.epsilon)
        hamSum += math.log(ham + sys.float_info.epsilon)

    return (hamSum, spamSum)

modelProbs = defaultdict(tuple)
spam = defaultdict(int)
ham = defaultdict(int)
words = set()

#Don&#39;t forget to rerun the model so that ham and spam aren&#39;t mixed up 
with open(&quot;SPAM_Model_MNB.tsv&quot;) as f:
    model = f.readlines()
    for line in model:
        word, ham, spam = line.split()
        modelProbs[word] = (float(ham), float(spam))

for line in sys.stdin:
    cp = line.split()
    key = cp[0]
    label = cp[1]
    email = cp[2:]
    email = &quot; &quot;.join(cp[2:])
    email = re.findall(r&#39;[a-z/\&#39;]+&#39;,email.lower())
    numWords = len(email)
    email = [modelProbs[word] for word in email]
    email = [word if word!=() else (0,0) for word in email]
    #probs = reduce(lambda x,y : (x[0]*y[0],x[1]*y[1]),email)
    probs = jointProbability(email)
    print &quot;%s\t%s\t%s\t%s\t%s&quot; % (key, label, numWords, probs[0], probs[1])
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>Overwriting NaiveBayes/mapper244.py
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[254]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="o">%%</span><span class="k">writefile</span> NaiveBayes/reducer244.py
#!/usr/bin/env python

import sys
import math
from collections import defaultdict

spamWords=0
hamWords=0
totalWords=0
lines = []
    
for line in sys.stdin:
    lines.append(line)
    key, label, wordCount, notImp1, notImp2 = line.split()
    totalWords+=1
    if int(label)==1:
        spamWords+=1
    else:
        hamWords+=1

spamProb = math.log(sys.float_info.epsilon + float(spamWords)/totalWords)
hamProb = math.log(sys.float_info.epsilon + float(hamWords)/totalWords)
        
for line in lines:
    key, label, wordCount, hamProbCond, spamProbCond = line.split()
    probs = (float(hamProbCond)+hamProb, float(spamProbCond)+spamProb)
    
    if probs[0]==probs[1]:
        predLabel = 1 if spamProb &lt; hamProb else 0
    else:
        predLabel = 1 if probs[0] &lt; probs[1] else 0 
    
    print &quot;%s\t%s&quot; % (key, predLabel)
    
    
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>Overwriting NaiveBayes/reducer244.py
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[255]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="o">!</span>hdfs dfs -rm enronemail_1h.txt
<span class="o">!</span>hdfs dfs -copyFromLocal /home/cloudera/share/NaiveBayes/enronemail_1h.txt
<span class="o">!</span>hdfs dfs -rm -r enron
<span class="c1">#usr/local/Cellar/hadoop/2.6.0/libexec/share/hadoop/tools/lib</span>
<span class="n">dataDir</span> <span class="o">=</span> <span class="s2">&quot;/home/cloudera/share/NaiveBayes&quot;</span>

<span class="o">!</span>hadoop jar /usr/lib/hadoop-0.20-mapreduce/contrib/streaming/hadoop-streaming-2.6.0-mr1-cdh5.8.0.jar <span class="err">\</span>
   <span class="o">-</span><span class="n">mapper</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">cloudera</span><span class="o">/</span><span class="n">share</span><span class="o">/</span><span class="n">NaiveBayes</span><span class="o">/</span><span class="n">mapper244</span><span class="o">.</span><span class="n">py</span> \
   <span class="o">-</span><span class="n">reducer</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">cloudera</span><span class="o">/</span><span class="n">share</span><span class="o">/</span><span class="n">NaiveBayes</span><span class="o">/</span><span class="n">reducer244</span><span class="o">.</span><span class="n">py</span> \
   <span class="o">-</span><span class="nb">input</span> <span class="n">enronemail_1h</span><span class="o">.</span><span class="n">txt</span> \
   <span class="o">-</span><span class="n">output</span> <span class="n">enron</span>  \
   <span class="o">-</span><span class="nb">file</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">cloudera</span><span class="o">/</span><span class="n">share</span><span class="o">/</span><span class="n">NaiveBayes</span><span class="o">/</span><span class="n">SPAM_Model_MNB</span><span class="o">.</span><span class="n">tsv</span> \
   <span class="o">-</span><span class="n">numReduceTasks</span> <span class="mi">1</span>
<span class="c1">#--D mapreduce.job.reduces=2  depecated</span>
<span class="c1">#-input historical_tours.txt  file on Hadoop</span>


<span class="c1">#output directory on Hadoop </span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>Deleted enronemail_1h.txt
Deleted enron
16/09/12 22:04:53 WARN streaming.StreamJob: -file option is deprecated, please use generic option -files instead.
packageJobJar: [/home/cloudera/share/NaiveBayes/SPAM_Model_MNB.tsv] [/usr/lib/hadoop-mapreduce/hadoop-streaming-2.6.0-cdh5.8.0.jar] /tmp/streamjob4902966536770479033.jar tmpDir=null
16/09/12 22:04:55 INFO client.RMProxy: Connecting to ResourceManager at /0.0.0.0:8032
16/09/12 22:04:55 INFO client.RMProxy: Connecting to ResourceManager at /0.0.0.0:8032
16/09/12 22:04:56 WARN hdfs.DFSClient: Caught exception 
java.lang.InterruptedException
	at java.lang.Object.wait(Native Method)
	at java.lang.Thread.join(Thread.java:1281)
	at java.lang.Thread.join(Thread.java:1355)
	at org.apache.hadoop.hdfs.DFSOutputStream$DataStreamer.closeResponder(DFSOutputStream.java:862)
	at org.apache.hadoop.hdfs.DFSOutputStream$DataStreamer.endBlock(DFSOutputStream.java:600)
	at org.apache.hadoop.hdfs.DFSOutputStream$DataStreamer.run(DFSOutputStream.java:789)
16/09/12 22:04:56 INFO mapred.FileInputFormat: Total input paths to process : 1
16/09/12 22:04:56 WARN hdfs.DFSClient: Caught exception 
java.lang.InterruptedException
	at java.lang.Object.wait(Native Method)
	at java.lang.Thread.join(Thread.java:1281)
	at java.lang.Thread.join(Thread.java:1355)
	at org.apache.hadoop.hdfs.DFSOutputStream$DataStreamer.closeResponder(DFSOutputStream.java:862)
	at org.apache.hadoop.hdfs.DFSOutputStream$DataStreamer.endBlock(DFSOutputStream.java:600)
	at org.apache.hadoop.hdfs.DFSOutputStream$DataStreamer.run(DFSOutputStream.java:789)
16/09/12 22:04:56 INFO mapreduce.JobSubmitter: number of splits:2
16/09/12 22:04:57 INFO mapreduce.JobSubmitter: Submitting tokens for job: job_1473686220901_0013
16/09/12 22:04:57 INFO impl.YarnClientImpl: Submitted application application_1473686220901_0013
16/09/12 22:04:57 INFO mapreduce.Job: The url to track the job: http://quickstart.cloudera:8088/proxy/application_1473686220901_0013/
16/09/12 22:04:57 INFO mapreduce.Job: Running job: job_1473686220901_0013
16/09/12 22:05:06 INFO mapreduce.Job: Job job_1473686220901_0013 running in uber mode : false
16/09/12 22:05:06 INFO mapreduce.Job:  map 0% reduce 0%
16/09/12 22:05:19 INFO mapreduce.Job:  map 50% reduce 0%
16/09/12 22:05:20 INFO mapreduce.Job:  map 100% reduce 0%
16/09/12 22:05:29 INFO mapreduce.Job:  map 100% reduce 100%
16/09/12 22:05:29 INFO mapreduce.Job: Job job_1473686220901_0013 completed successfully
16/09/12 22:05:29 INFO mapreduce.Job: Counters: 49
	File System Counters
		FILE: Number of bytes read=6019
		FILE: Number of bytes written=371209
		FILE: Number of read operations=0
		FILE: Number of large read operations=0
		FILE: Number of write operations=0
		HDFS: Number of bytes read=217097
		HDFS: Number of bytes written=2472
		HDFS: Number of read operations=9
		HDFS: Number of large read operations=0
		HDFS: Number of write operations=2
	Job Counters 
		Launched map tasks=2
		Launched reduce tasks=1
		Data-local map tasks=2
		Total time spent by all maps in occupied slots (ms)=22262
		Total time spent by all reduces in occupied slots (ms)=7450
		Total time spent by all map tasks (ms)=22262
		Total time spent by all reduce tasks (ms)=7450
		Total vcore-seconds taken by all map tasks=22262
		Total vcore-seconds taken by all reduce tasks=7450
		Total megabyte-seconds taken by all map tasks=22796288
		Total megabyte-seconds taken by all reduce tasks=7628800
	Map-Reduce Framework
		Map input records=100
		Map output records=100
		Map output bytes=5813
		Map output materialized bytes=6025
		Input split bytes=230
		Combine input records=0
		Combine output records=0
		Reduce input groups=100
		Reduce shuffle bytes=6025
		Reduce input records=100
		Reduce output records=100
		Spilled Records=200
		Shuffled Maps =2
		Failed Shuffles=0
		Merged Map outputs=2
		GC time elapsed (ms)=253
		CPU time spent (ms)=1950
		Physical memory (bytes) snapshot=566411264
		Virtual memory (bytes) snapshot=4511334400
		Total committed heap usage (bytes)=391979008
	Shuffle Errors
		BAD_ID=0
		CONNECTION=0
		IO_ERROR=0
		WRONG_LENGTH=0
		WRONG_MAP=0
		WRONG_REDUCE=0
	File Input Format Counters 
		Bytes Read=216867
	File Output Format Counters 
		Bytes Written=2472
16/09/12 22:05:29 INFO streaming.StreamJob: Output directory: enron
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[256]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="o">!</span>sudo touch NaiveBayes/enronPredicted.txt
<span class="o">!</span>sudo chmod -R <span class="m">777</span> NaiveBayes/
<span class="o">!</span>hdfs dfs -cat enron/part-0000*
<span class="o">!</span>hdfs dfs -cat enron/part-0000* &gt; NaiveBayes/enronPredicted.txt <span class="p">|</span> head -10
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>0001.1999-12-10.farmer	0
0001.1999-12-10.kaminski	0
0001.2000-01-17.beck	0
0001.2000-06-06.lokay	0
0001.2001-02-07.kitchen	0
0001.2001-04-02.williams	0
0002.1999-12-13.farmer	0
0002.2001-02-07.kitchen	0
0002.2001-05-25.SA_and_HP	1
0002.2003-12-18.GP	1
0002.2004-08-01.BG	1
0003.1999-12-10.kaminski	0
0003.1999-12-14.farmer	0
0003.2000-01-17.beck	0
0003.2001-02-08.kitchen	0
0003.2003-12-18.GP	1
0003.2004-08-01.BG	1
0004.1999-12-10.kaminski	0
0004.1999-12-14.farmer	0
0004.2001-04-02.williams	0
0004.2001-06-12.SA_and_HP	1
0004.2004-08-01.BG	1
0005.1999-12-12.kaminski	0
0005.1999-12-14.farmer	0
0005.2000-06-06.lokay	0
0005.2001-02-08.kitchen	0
0005.2001-06-23.SA_and_HP	1
0005.2003-12-18.GP	1
0006.1999-12-13.kaminski	0
0006.2001-02-08.kitchen	0
0006.2001-04-03.williams	0
0006.2001-06-25.SA_and_HP	1
0006.2003-12-18.GP	1
0006.2004-08-01.BG	1
0007.1999-12-13.kaminski	0
0007.1999-12-14.farmer	0
0007.2000-01-17.beck	0
0007.2001-02-09.kitchen	0
0007.2003-12-18.GP	1
0007.2004-08-01.BG	1
0008.2001-02-09.kitchen	0
0008.2001-06-12.SA_and_HP	1
0008.2001-06-25.SA_and_HP	1
0008.2003-12-18.GP	1
0008.2004-08-01.BG	1
0009.1999-12-13.kaminski	0
0009.1999-12-14.farmer	0
0009.2000-06-07.lokay	0
0009.2001-02-09.kitchen	0
0009.2001-06-26.SA_and_HP	1
0009.2003-12-18.GP	1
0010.1999-12-14.farmer	0
0010.1999-12-14.kaminski	0
0010.2001-02-09.kitchen	0
0010.2001-06-28.SA_and_HP	1
0010.2003-12-18.GP	1
0010.2004-08-01.BG	1
0011.1999-12-14.farmer	0
0011.2001-06-28.SA_and_HP	1
0011.2001-06-29.SA_and_HP	1
0011.2003-12-18.GP	1
0011.2004-08-01.BG	1
0012.1999-12-14.farmer	0
0012.1999-12-14.kaminski	0
0012.2000-01-17.beck	0
0012.2000-06-08.lokay	0
0012.2001-02-09.kitchen	0
0012.2003-12-19.GP	1
0013.1999-12-14.farmer	0
0013.1999-12-14.kaminski	0
0013.2001-04-03.williams	0
0013.2001-06-30.SA_and_HP	1
0013.2004-08-01.BG	1
0014.1999-12-14.kaminski	0
0014.1999-12-15.farmer	0
0014.2001-02-12.kitchen	0
0014.2001-07-04.SA_and_HP	1
0014.2003-12-19.GP	1
0014.2004-08-01.BG	1
0015.1999-12-14.kaminski	0
0015.1999-12-15.farmer	0
0015.2000-06-09.lokay	0
0015.2001-02-12.kitchen	0
0015.2001-07-05.SA_and_HP	1
0015.2003-12-19.GP	1
0016.1999-12-15.farmer	0
0016.2001-02-12.kitchen	0
0016.2001-07-05.SA_and_HP	1
0016.2001-07-06.SA_and_HP	1
0016.2003-12-19.GP	1
0016.2004-08-01.BG	1
0017.1999-12-14.kaminski	0
0017.2000-01-17.beck	0
0017.2001-04-03.williams	0
0017.2003-12-18.GP	1
0017.2004-08-01.BG	1
0017.2004-08-02.BG	1
0018.1999-12-14.kaminski	0
0018.2001-07-13.SA_and_HP	1
0018.2003-12-18.GP	1
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[257]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">defaultdict</span>

<span class="k">def</span> <span class="nf">accuracy</span><span class="p">(</span><span class="n">trueFile</span><span class="p">,</span> <span class="n">predictFile</span><span class="p">):</span>
    <span class="n">actual</span> <span class="o">=</span> <span class="n">defaultdict</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
    <span class="n">predicted</span> <span class="o">=</span> <span class="n">defaultdict</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
    <span class="n">matches</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">total</span> <span class="o">=</span> <span class="mi">0</span>
 
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">trueFile</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
        <span class="n">lines</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">readlines</span><span class="p">()</span>
 
        <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">lines</span><span class="p">:</span>
            <span class="n">elements</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
            <span class="n">key</span> <span class="o">=</span> <span class="n">elements</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            <span class="n">label</span> <span class="o">=</span> <span class="n">elements</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
            <span class="n">actual</span><span class="p">[</span><span class="n">key</span><span class="p">]</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">label</span><span class="p">)</span>
    <span class="n">f</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
 
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">predictFile</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
        <span class="n">lines</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">readlines</span><span class="p">()</span>
 
        <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">lines</span><span class="p">:</span>
            <span class="n">elements</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
            <span class="n">key</span> <span class="o">=</span> <span class="n">elements</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            <span class="n">label</span> <span class="o">=</span> <span class="n">elements</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
            <span class="n">predicted</span><span class="p">[</span><span class="n">key</span><span class="p">]</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">label</span><span class="p">)</span>
 
    <span class="k">if</span> <span class="nb">set</span><span class="p">(</span><span class="n">actual</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span><span class="o">==</span><span class="nb">set</span><span class="p">(</span><span class="n">predicted</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span>
        <span class="k">for</span> <span class="n">k</span><span class="p">,</span><span class="n">v</span> <span class="ow">in</span> <span class="n">actual</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">v</span><span class="o">==</span><span class="n">predicted</span><span class="p">[</span><span class="n">k</span><span class="p">]:</span>
                <span class="n">matches</span><span class="o">+=</span><span class="mi">1</span>
            <span class="n">total</span><span class="o">+=</span><span class="mi">1</span>
        <span class="k">print</span> <span class="nb">str</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">matches</span><span class="p">)</span><span class="o">/</span><span class="nb">len</span><span class="p">(</span><span class="n">actual</span><span class="p">))</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">print</span> <span class="s2">&quot;shit&quot;</span>
        
<span class="n">accuracy</span><span class="p">(</span><span class="s2">&quot;NaiveBayes/enronPredicted.txt&quot;</span><span class="p">,</span> <span class="s2">&quot;NaiveBayes/enronemail_1h.txt&quot;</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>1.0
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[261]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="o">%</span><span class="k">matplotlib</span> inline
<span class="c1">#!/usr/bin/env python</span>

<span class="kn">import</span> <span class="nn">sys</span>
<span class="kn">import</span> <span class="nn">re</span>
<span class="kn">import</span> <span class="nn">math</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="kn">as</span> <span class="nn">plt</span>
<span class="kn">from</span> <span class="nn">decimal</span> <span class="kn">import</span> <span class="n">Decimal</span> 
<span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">defaultdict</span>

<span class="k">def</span> <span class="nf">jointProbability</span><span class="p">(</span><span class="n">hamSpamTuples</span><span class="p">):</span>
    
    <span class="n">spamSum</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">hamSum</span> <span class="o">=</span> <span class="mi">0</span> 
    
    <span class="k">for</span> <span class="n">hamSpamTuple</span> <span class="ow">in</span> <span class="n">hamSpamTuples</span><span class="p">:</span>
        <span class="n">ham</span> <span class="o">=</span> <span class="n">hamSpamTuple</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">spam</span> <span class="o">=</span> <span class="n">hamSpamTuple</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
        <span class="n">spamSum</span> <span class="o">+=</span> <span class="n">math</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">spam</span> <span class="o">+</span> <span class="n">sys</span><span class="o">.</span><span class="n">float_info</span><span class="o">.</span><span class="n">epsilon</span><span class="p">)</span>
        <span class="n">hamSum</span> <span class="o">+=</span> <span class="n">math</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">ham</span> <span class="o">+</span> <span class="n">sys</span><span class="o">.</span><span class="n">float_info</span><span class="o">.</span><span class="n">epsilon</span><span class="p">)</span>
    
    <span class="k">return</span> <span class="p">(</span><span class="n">hamSum</span><span class="p">,</span> <span class="n">spamSum</span><span class="p">)</span>
    <span class="c1">#return (math.exp(hamSum),math.exp(spamSum))</span>

<span class="n">modelProbs</span> <span class="o">=</span> <span class="n">defaultdict</span><span class="p">(</span><span class="nb">tuple</span><span class="p">)</span>

<span class="c1">#Format: {key: (P(D|ham), P(D|spam))}</span>
<span class="n">conditionalProbs</span> <span class="o">=</span> <span class="n">defaultdict</span><span class="p">(</span><span class="nb">tuple</span><span class="p">)</span>
<span class="n">totalWords</span> <span class="o">=</span> <span class="mi">0</span> 
<span class="n">spamWords</span> <span class="o">=</span> <span class="mi">0</span> 
<span class="n">hamWords</span> <span class="o">=</span> <span class="mi">0</span> 
<span class="n">posteriorSpam</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">posteriorHam</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">words</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>

<span class="c1">#Don&#39;t forget to rerun the model so that ham and spam aren&#39;t mixed up </span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;SPAM_Model_MNB.tsv&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">model</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">readlines</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">model</span><span class="p">:</span>
        <span class="n">word</span><span class="p">,</span> <span class="n">ham</span><span class="p">,</span> <span class="n">spam</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
        <span class="n">words</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">word</span><span class="p">)</span>
        <span class="n">modelProbs</span><span class="p">[</span><span class="n">word</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">ham</span><span class="p">),</span> <span class="nb">float</span><span class="p">(</span><span class="n">spam</span><span class="p">))</span>

<span class="n">vocabSize</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">words</span><span class="p">)</span>

<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;NaiveBayes/enronemail_1h.txt&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">lines</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">readlines</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">lines</span><span class="p">:</span>
        <span class="n">cp</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
        <span class="n">key</span> <span class="o">=</span> <span class="n">cp</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">label</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">cp</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
        <span class="n">email</span> <span class="o">=</span> <span class="n">cp</span><span class="p">[</span><span class="mi">2</span><span class="p">:]</span>
        <span class="n">email</span> <span class="o">=</span> <span class="s2">&quot; &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">cp</span><span class="p">[</span><span class="mi">2</span><span class="p">:])</span>
        <span class="n">email</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="s1">r&#39;[a-z/</span><span class="se">\&#39;</span><span class="s1">]+&#39;</span><span class="p">,</span><span class="n">email</span><span class="o">.</span><span class="n">lower</span><span class="p">())</span>
        <span class="n">email</span> <span class="o">=</span> <span class="p">[</span><span class="n">modelProbs</span><span class="p">[</span><span class="n">word</span><span class="p">]</span> <span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">email</span><span class="p">]</span>
        <span class="n">email</span> <span class="o">=</span> <span class="p">[</span><span class="n">word</span> <span class="k">if</span> <span class="n">word</span><span class="o">!=</span><span class="p">()</span> <span class="k">else</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span> <span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">email</span><span class="p">]</span>
        <span class="c1">#probs = reduce(lambda x,y : (math.exp(math.log(x[0] + sys.float_info.epsilon)+math.log(y[0] + sys.float_info.epsilon)),math.exp(math.log(x[1] + sys.float_info.epsilon)+math.log(y[1] + sys.float_info.epsilon))),email)</span>
        <span class="c1">#probs = (math.exp(probs[0]),math.exp(probs[1]))</span>
        <span class="n">probs</span> <span class="o">=</span> <span class="n">jointProbability</span><span class="p">(</span><span class="n">email</span><span class="p">)</span>
        <span class="n">conditionalProbs</span><span class="p">[</span><span class="n">key</span><span class="p">]</span><span class="o">=</span><span class="n">probs</span>
        
        <span class="n">totalWords</span><span class="o">+=</span><span class="mi">1</span>
        <span class="k">if</span> <span class="nb">int</span><span class="p">(</span><span class="n">label</span><span class="p">)</span><span class="o">==</span><span class="mi">1</span><span class="p">:</span>
            <span class="n">spamWords</span><span class="o">+=</span><span class="mi">1</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">hamWords</span><span class="o">+=</span><span class="mi">1</span>

<span class="n">probSpam</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">spamWords</span><span class="p">)</span><span class="o">/</span><span class="n">totalWords</span>
<span class="n">probHam</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">hamWords</span><span class="p">)</span><span class="o">/</span><span class="n">totalWords</span>

<span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">conditionalProbs</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
    <span class="c1">#Assumes that v is (condProbHam, condProbSpam)</span>
    <span class="n">probDoc</span> <span class="o">=</span> <span class="n">probSpam</span><span class="o">*</span><span class="n">v</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">+</span><span class="n">probHam</span><span class="o">*</span><span class="n">v</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">probSpamCond</span> <span class="o">=</span> <span class="p">(</span><span class="n">probSpam</span> <span class="o">*</span> <span class="n">v</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="o">/</span><span class="p">(</span><span class="n">probDoc</span><span class="p">)</span>
    <span class="n">probHamCond</span> <span class="o">=</span> <span class="p">(</span><span class="n">probHam</span> <span class="o">*</span> <span class="n">v</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">/</span> <span class="p">(</span><span class="n">probDoc</span><span class="p">)</span>
    
    
    <span class="c1">#print &quot;%s\t%s\t%s&quot; % (k, probHamCond, probSpamCond)</span>
    
    <span class="c1">#Did some math hopefully i didn&#39;t make a big mistake</span>
    <span class="c1">#ab/cd = exp(ln(ab/cd)) = exp(ln(a)+ln(b)-ln(c)-ln(d)</span>
    <span class="c1">#P(S|D) = exp(-ln(1+exp(ln(a)+ln(b)-ln(c)-ln(d))))</span>
    <span class="c1">#a = P(D|H) b = P(H) c = P(D|S) d = P(S)</span>
    <span class="c1">#print &quot;%s\t%s\t%s\t%s&quot; % (v[0] ,v[1],math.log(probHam), math.log(probSpam))</span>
    
    <span class="c1">#Either zero or one</span>
    <span class="c1">#probSpamCond = math.exp(-math.log(1+math.exp(min(500,max(-500,v[0] + math.log(probHam) - v[1] - math.log(probSpam))))))</span>
    <span class="c1">#probHamCond = math.exp(-math.log(1+math.exp(min(500,max(-500,v[1] + math.log(probSpam) - v[0] - math.log(probHam))))))</span>
    <span class="c1">#print &quot;%s\t%s\t%s&quot; % (k, probHamCond, probSpamCond)</span>
    <span class="n">posteriorSpam</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">probSpamCond</span><span class="p">)</span>
    <span class="n">posteriorHam</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">probHamCond</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">posteriorHam</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>  <span class="c1"># plt.hist passes it&#39;s arguments to np.histogram</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Ham Posterior Probability Distribution&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">posteriorSpam</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>  <span class="c1"># plt.hist passes it&#39;s arguments to np.histogram</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Spam Posterior Probability Distribution&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>


<div class="output_png output_subarea ">
<img src="data:image/png;base64,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
pIYY6pLUkP8PDV7Gw2alAyYAAAAASUVORK5CYII=
"
>
</div>

</div>

<div class="output_area"><div class="prompt"></div>


<div class="output_png output_subarea ">
<img src="data:image/png;base64,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
"
>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>It would seem that there isn't much middle ground for the distribution of the SPAM and HAM conditional probabilities; they're either mostly likely or mostly unlikely.</p>
<p>Regarding the two classification accuracies, we see that the model without smoothing has 67% accuracy whereas the one with laplace smoothing has %100 accuracy.  The accuracy of the smoothed naive bayes shouldn't be surprising because we're using our training set as our test set also, so the model should contour to this data precisely.  The main reason for the improvement is that without smoothing a conditional probability P(Doc|SPAM) may have an email with words that do not occur within the class, and as such that words individual probability would be zero, and this would deem the entire conditional probability zero.  With Laplace smoothing, every probability for an individual word occurrence has at least some small probability (1/(vocabularySize) to be precise).</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span> 
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="3.--HW2.5-Ignore-rare-words--">3.  HW2.5 Ignore rare words  <a name="2.5" /><a class="anchor-link" href="#3.--HW2.5-Ignore-rare-words--">&#182;</a></h2><p><a href="#TOC">Back to Table of Contents</a></p>
<p>Repeat HW2.4. This time when modeling and classification ignore tokens with a frequency of less than three (3) in the training set. How does it affect the misclassifcation error of learnt naive multinomial Bayesian Classifier on the training dataset. Report the error and the change in error.</p>
<p><strong>HINT:</strong> ignore tokens with a frequency of less than three (3). Think of this as a preprocessing step. How many mapreduce jobs do you need to solve thus homework?</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[277]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span>%%bash

sudo touch NaiveBayes/mapper251.py
sudo touch NaiveBayes/reducer251.py
sudo touch NaiveBayes/combiner251.py
sudo chmod -R <span class="m">777</span> NaiveBayes/
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[283]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="o">%%</span><span class="k">writefile</span> NaiveBayes/mapper251.py
#!/usr/bin/env python

import sys
import re
from collections import defaultdict

spam = defaultdict(int)
ham = defaultdict(int)
words = set()


for line in sys.stdin:
    spamOrHam = &quot;spam&quot; if line.split()[1]==&quot;1&quot; else &quot;ham&quot;
    for word in re.findall(r&#39;[a-z/\&#39;]+&#39;, line.lower())[1:]:  #line.split() previously 
        words.add(word)
        if spamOrHam == &quot;spam&quot;:
            spam[word]+=1
        elif spamOrHam == &quot;ham&quot;:
            ham[word]+=1

for word in words:
    print &#39;%s\t%s\t%s&#39; % (word, ham[word],spam[word])    
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>Overwriting NaiveBayes/mapper251.py
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[294]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="o">%%</span><span class="k">writefile</span> NaiveBayes/reducer251.py
#!/usr/bin/env python

import sys
from collections import defaultdict

spamD = defaultdict(int)
hamD = defaultdict(int)
spamWords=0
hamWords=0
allWords = set()
filteredWords = set()

for line in sys.stdin:
    word, ham, spam = line.split()
    spamD[word]+=float(spam)
    hamD[word]+=float(ham)
    allWords.add(word)
    
#Smoothing parameter should count the vocabSize after filtering
for word in allWords:
    if hamD[word]+spamD[word] &gt;= 3:
        filteredWords.add(word)
        spamWords+=spamD[word]
        hamWords+=hamD[word]

vocabSize = len(filteredWords)

for word in filteredWords:
    if hamD[word]+spamD[word] &gt;= 3:
        spamProb = str(0 if spamWords==0 else (float(spamD[word])+1)/(int(spamWords) + vocabSize))
        hamProb = str(0 if hamWords==0 else (float(hamD[word])+1)/(int(hamWords) + vocabSize))
        print &#39;%s\t%s\t%s&#39; % (word, hamProb, spamProb)
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>Overwriting NaiveBayes/reducer251.py
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[297]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="o">!</span>less NaiveBayes/chineseExample.txt <span class="p">|</span> NaiveBayes/mapper251.py
<span class="o">!</span><span class="nb">printf</span> <span class="s2">&quot;\n&quot;</span>
<span class="o">!</span><span class="nb">printf</span> <span class="s2">&quot;dog 1 4 \n cat 3 4&quot;</span> <span class="p">|</span> NaiveBayes/reducer251.py
<span class="o">!</span><span class="nb">printf</span> <span class="s2">&quot;\n&quot;</span>
<span class="o">!</span>head NaiveBayes/chineseExample.txt <span class="p">|</span> NaiveBayes/mapper251.py <span class="p">|</span> NaiveBayes/reducer251.py #<span class="p">|</span> NaiveBayes/combiner231.py  
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>beijing	0	1
chinese	1	5
tokyo	1	0
shanghai	0	1
japan	1	0
macao	0	1

dog	0.333333333333	0.5
cat	0.666666666667	0.5

chinese	1.0	1.0
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[298]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="o">!</span>hdfs dfs -rm chineseExample.txt
<span class="o">!</span>hdfs dfs -copyFromLocal /home/cloudera/share/NaiveBayes/chineseExample.txt
<span class="o">!</span>hdfs dfs -rm -r chinese
<span class="c1">#usr/local/Cellar/hadoop/2.6.0/libexec/share/hadoop/tools/lib</span>
<span class="n">dataDir</span> <span class="o">=</span> <span class="s2">&quot;/home/cloudera/share/NaiveBayes&quot;</span>

<span class="o">!</span>hadoop jar /usr/lib/hadoop-0.20-mapreduce/contrib/streaming/hadoop-streaming-2.6.0-mr1-cdh5.8.0.jar <span class="err">\</span>
   <span class="o">-</span><span class="n">mapper</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">cloudera</span><span class="o">/</span><span class="n">share</span><span class="o">/</span><span class="n">NaiveBayes</span><span class="o">/</span><span class="n">mapper251</span><span class="o">.</span><span class="n">py</span> \
   <span class="o">-</span><span class="n">reducer</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">cloudera</span><span class="o">/</span><span class="n">share</span><span class="o">/</span><span class="n">NaiveBayes</span><span class="o">/</span><span class="n">reducer251</span><span class="o">.</span><span class="n">py</span> \
   <span class="o">-</span><span class="nb">input</span> <span class="n">chineseExample</span><span class="o">.</span><span class="n">txt</span> \
   <span class="o">-</span><span class="n">output</span> <span class="n">chinese</span>  \
   <span class="o">-</span><span class="n">numReduceTasks</span> <span class="mi">1</span>
<span class="c1">#--D mapreduce.job.reduces=2  depecated</span>
<span class="c1">#-input historical_tours.txt  file on Hadoop</span>


<span class="c1">#output directory on Hadoop </span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>Deleted chineseExample.txt
Deleted chinese
packageJobJar: [] [/usr/lib/hadoop-mapreduce/hadoop-streaming-2.6.0-cdh5.8.0.jar] /tmp/streamjob2166050713681681511.jar tmpDir=null
16/09/13 00:48:08 INFO client.RMProxy: Connecting to ResourceManager at /0.0.0.0:8032
16/09/13 00:48:08 INFO client.RMProxy: Connecting to ResourceManager at /0.0.0.0:8032
16/09/13 00:48:09 INFO mapred.FileInputFormat: Total input paths to process : 1
16/09/13 00:48:09 WARN hdfs.DFSClient: Caught exception 
java.lang.InterruptedException
	at java.lang.Object.wait(Native Method)
	at java.lang.Thread.join(Thread.java:1281)
	at java.lang.Thread.join(Thread.java:1355)
	at org.apache.hadoop.hdfs.DFSOutputStream$DataStreamer.closeResponder(DFSOutputStream.java:862)
	at org.apache.hadoop.hdfs.DFSOutputStream$DataStreamer.endBlock(DFSOutputStream.java:600)
	at org.apache.hadoop.hdfs.DFSOutputStream$DataStreamer.run(DFSOutputStream.java:789)
16/09/13 00:48:09 WARN hdfs.DFSClient: Caught exception 
java.lang.InterruptedException
	at java.lang.Object.wait(Native Method)
	at java.lang.Thread.join(Thread.java:1281)
	at java.lang.Thread.join(Thread.java:1355)
	at org.apache.hadoop.hdfs.DFSOutputStream$DataStreamer.closeResponder(DFSOutputStream.java:862)
	at org.apache.hadoop.hdfs.DFSOutputStream$DataStreamer.endBlock(DFSOutputStream.java:600)
	at org.apache.hadoop.hdfs.DFSOutputStream$DataStreamer.run(DFSOutputStream.java:789)
16/09/13 00:48:09 INFO mapreduce.JobSubmitter: number of splits:2
16/09/13 00:48:09 INFO mapreduce.JobSubmitter: Submitting tokens for job: job_1473686220901_0015
16/09/13 00:48:10 INFO impl.YarnClientImpl: Submitted application application_1473686220901_0015
16/09/13 00:48:10 INFO mapreduce.Job: The url to track the job: http://quickstart.cloudera:8088/proxy/application_1473686220901_0015/
16/09/13 00:48:10 INFO mapreduce.Job: Running job: job_1473686220901_0015
16/09/13 00:48:19 INFO mapreduce.Job: Job job_1473686220901_0015 running in uber mode : false
16/09/13 00:48:19 INFO mapreduce.Job:  map 0% reduce 0%
16/09/13 00:48:33 INFO mapreduce.Job:  map 50% reduce 0%
16/09/13 00:48:34 INFO mapreduce.Job:  map 100% reduce 0%
16/09/13 00:48:42 INFO mapreduce.Job:  map 100% reduce 100%
16/09/13 00:48:42 INFO mapreduce.Job: Job job_1473686220901_0015 completed successfully
16/09/13 00:48:42 INFO mapreduce.Job: Counters: 49
	File System Counters
		FILE: Number of bytes read=99
		FILE: Number of bytes written=355952
		FILE: Number of read operations=0
		FILE: Number of large read operations=0
		FILE: Number of write operations=0
		HDFS: Number of bytes read=385
		HDFS: Number of bytes written=16
		HDFS: Number of read operations=9
		HDFS: Number of large read operations=0
		HDFS: Number of write operations=2
	Job Counters 
		Launched map tasks=2
		Launched reduce tasks=1
		Data-local map tasks=2
		Total time spent by all maps in occupied slots (ms)=22100
		Total time spent by all reduces in occupied slots (ms)=6113
		Total time spent by all map tasks (ms)=22100
		Total time spent by all reduce tasks (ms)=6113
		Total vcore-seconds taken by all map tasks=22100
		Total vcore-seconds taken by all reduce tasks=6113
		Total megabyte-seconds taken by all map tasks=22630400
		Total megabyte-seconds taken by all reduce tasks=6259712
	Map-Reduce Framework
		Map input records=4
		Map output records=7
		Map output bytes=79
		Map output materialized bytes=105
		Input split bytes=232
		Combine input records=0
		Combine output records=0
		Reduce input groups=6
		Reduce shuffle bytes=105
		Reduce input records=7
		Reduce output records=1
		Spilled Records=14
		Shuffled Maps =2
		Failed Shuffles=0
		Merged Map outputs=2
		GC time elapsed (ms)=330
		CPU time spent (ms)=1890
		Physical memory (bytes) snapshot=569921536
		Virtual memory (bytes) snapshot=4511965184
		Total committed heap usage (bytes)=391979008
	Shuffle Errors
		BAD_ID=0
		CONNECTION=0
		IO_ERROR=0
		WRONG_LENGTH=0
		WRONG_MAP=0
		WRONG_REDUCE=0
	File Input Format Counters 
		Bytes Read=153
	File Output Format Counters 
		Bytes Written=16
16/09/13 00:48:42 INFO streaming.StreamJob: Output directory: chinese
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[299]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span>%%bash

sudo touch NaiveBayes/chineseModel.tsv
sudo chmod -R <span class="m">777</span> NaiveBayes/
hdfs dfs -cat chinese/part-0000* &gt; NaiveBayes/chineseModel.tsv
hdfs dfs -cat chinese/part-0000*
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>chinese	1.0	1.0
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Hand-calculations-for-Multinomial-naive-Bayes-(Learning-and-classifiction)">Hand calculations for Multinomial naive Bayes (Learning and classifiction)<a class="anchor-link" href="#Hand-calculations-for-Multinomial-naive-Bayes-(Learning-and-classifiction)">&#182;</a></h3><p>After filtering the chinese example only contains the word "Chinese," so things get a little trivial.</p>
\begin{equation}
P(c) = 3/4
\\
P(!c) = 1/4
\\
P(Chinese|c) = (1+5)/(5+1) = 6/6 = 1
\\
P(Chinese|!c) = (1+1)/(1+1) = 2/2 = 1
\\
P(c|D5) = P(c)*P(Chinese|c)^3*P(Tokyo|c)*P(Japan|c)  =  3/4 * (1)^3 * ( 1/(6))^2 = 1/48
\\
P(!c|D5) = P(!c)*P(Chinese|!c)^3*P(Tokyo|!c)*P(Japan|!c) = 1/4 * (1)^3 * (1/2)^2 =1/8
\end{equation}<p>Therefore we predict that D5 is not a chinese document.</p>
<h6 id="Learnt-Multinomial-Naive-Bayes-Model-WITH-Smoothing">Learnt Multinomial Naive Bayes Model WITH Smoothing<a class="anchor-link" href="#Learnt-Multinomial-Naive-Bayes-Model-WITH-Smoothing">&#182;</a></h6><table>
<thead><tr>
<th>Word</th>
<th>Word Class Conditional counts and probs</th>
</tr>
</thead>
<tbody>
<tr>
<td>Beijing</td>
<td>[0.0, 0, 1/6, 1/2]</td>
</tr>
<tr>
<td>Chinese</td>
<td>[1.0, 5.0, 1, 1]</td>
</tr>
<tr>
<td>Tokyo</td>
<td>[0, 0.0, 1/6, 1/2]</td>
</tr>
<tr>
<td>Shanghai</td>
<td>[0.0, 0, 1/6, 1/2]</td>
</tr>
<tr>
<td><strong>ModelPrior</strong></td>
<td>[1.0, 3.0, 0.25, 0.75]</td>
</tr>
<tr>
<td>Japan</td>
<td>[0, 0.0, 1/6, 1/2]</td>
</tr>
<tr>
<td>Macao</td>
<td>[0.0, 0, 1/6, 1/2]</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[300]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span>%%bash
<span class="c1">#Run a mapreduce that includes the subject line.  Save the hadoop output to a regular file SPAM_Model_MNB.tsv</span>
<span class="c1">#Do a simple head and tail sort situation to show top 10 and bottom 10 terms alphabetically ordered</span>
<span class="c1">#Really this should be easy, it&#39;s just tweaking the mapper, running it, saving the model, then printing results</span>

sudo touch NaiveBayes/mapper253.py
sudo touch NaiveBayes/reducer253.py
sudo chmod -R <span class="m">777</span> NaiveBayes/
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[301]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="o">%%</span><span class="k">writefile</span> NaiveBayes/mapper253.py
#!/usr/bin/env python

import sys
import re
from collections import defaultdict

spam = defaultdict(int)
ham = defaultdict(int)
words = set()


#Modify this so that you don&#39;t count the key; key is not the same as subject line
for line in sys.stdin:
    cp = line.split()
    label = cp[1]
    email = cp[2:]
    email = &quot; &quot;.join(cp[2:])
    spamOrHam = &quot;spam&quot; if label==&quot;1&quot; else &quot;ham&quot;
    for word in re.findall(r&#39;[a-z/\&#39;]+&#39;, email.lower()):  #line.split() previously 
        words.add(word)
        if spamOrHam == &quot;spam&quot;:
            spam[word]+=1
        elif spamOrHam == &quot;ham&quot;:
            ham[word]+=1

for word in words:
    print &#39;%s\t%s\t%s&#39; % (word, ham[word],spam[word])
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>Overwriting NaiveBayes/mapper253.py
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[302]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="o">%%</span><span class="k">writefile</span> NaiveBayes/reducer253.py
#!/usr/bin/env python

import sys
from collections import defaultdict

spamD = defaultdict(int)
hamD = defaultdict(int)
spamWords=0
hamWords=0
allWords = set()
filteredWords = set()

for line in sys.stdin:
    word, ham, spam = line.split()
    spamD[word]+=float(spam)
    hamD[word]+=float(ham)
    allWords.add(word)
    
#Smoothing parameter should count the vocabSize after filtering
for word in allWords:
    if hamD[word]+spamD[word] &gt;= 3:
        filteredWords.add(word)
        spamWords+=spamD[word]
        hamWords+=hamD[word]

vocabSize = len(filteredWords)

for word in filteredWords:
    if hamD[word]+spamD[word] &gt;= 3:
        spamProb = str(0 if spamWords==0 else (float(spamD[word])+1)/(int(spamWords) + vocabSize))
        hamProb = str(0 if hamWords==0 else (float(hamD[word])+1)/(int(hamWords) + vocabSize))
        print &#39;%s\t%s\t%s&#39; % (word, hamProb, spamProb)
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>Overwriting NaiveBayes/reducer253.py
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[303]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="o">!</span>hdfs dfs -rm enronemail_1h.txt
<span class="o">!</span>hdfs dfs -copyFromLocal /home/cloudera/share/NaiveBayes/enronemail_1h.txt
<span class="o">!</span>hdfs dfs -rm -r enron
<span class="c1">#usr/local/Cellar/hadoop/2.6.0/libexec/share/hadoop/tools/lib</span>
<span class="n">dataDir</span> <span class="o">=</span> <span class="s2">&quot;/home/cloudera/share/NaiveBayes&quot;</span>

<span class="o">!</span>hadoop jar /usr/lib/hadoop-0.20-mapreduce/contrib/streaming/hadoop-streaming-2.6.0-mr1-cdh5.8.0.jar <span class="err">\</span>
   <span class="o">-</span><span class="n">mapper</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">cloudera</span><span class="o">/</span><span class="n">share</span><span class="o">/</span><span class="n">NaiveBayes</span><span class="o">/</span><span class="n">mapper253</span><span class="o">.</span><span class="n">py</span> \
   <span class="o">-</span><span class="n">reducer</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">cloudera</span><span class="o">/</span><span class="n">share</span><span class="o">/</span><span class="n">NaiveBayes</span><span class="o">/</span><span class="n">reducer253</span><span class="o">.</span><span class="n">py</span> \
   <span class="o">-</span><span class="nb">input</span> <span class="n">enronemail_1h</span><span class="o">.</span><span class="n">txt</span> \
   <span class="o">-</span><span class="n">output</span> <span class="n">enron</span>  \
   <span class="o">-</span><span class="n">numReduceTasks</span> <span class="mi">1</span>
<span class="c1">#--D mapreduce.job.reduces=2  depecated</span>
<span class="c1">#-input historical_tours.txt  file on Hadoop</span>


<span class="c1">#output directory on Hadoop</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>Deleted enronemail_1h.txt
Deleted enron
packageJobJar: [] [/usr/lib/hadoop-mapreduce/hadoop-streaming-2.6.0-cdh5.8.0.jar] /tmp/streamjob3350530036753900850.jar tmpDir=null
16/09/13 00:50:29 INFO client.RMProxy: Connecting to ResourceManager at /0.0.0.0:8032
16/09/13 00:50:29 INFO client.RMProxy: Connecting to ResourceManager at /0.0.0.0:8032
16/09/13 00:50:30 INFO mapred.FileInputFormat: Total input paths to process : 1
16/09/13 00:50:30 WARN hdfs.DFSClient: Caught exception 
java.lang.InterruptedException
	at java.lang.Object.wait(Native Method)
	at java.lang.Thread.join(Thread.java:1281)
	at java.lang.Thread.join(Thread.java:1355)
	at org.apache.hadoop.hdfs.DFSOutputStream$DataStreamer.closeResponder(DFSOutputStream.java:862)
	at org.apache.hadoop.hdfs.DFSOutputStream$DataStreamer.endBlock(DFSOutputStream.java:600)
	at org.apache.hadoop.hdfs.DFSOutputStream$DataStreamer.run(DFSOutputStream.java:789)
16/09/13 00:50:30 INFO mapreduce.JobSubmitter: number of splits:2
16/09/13 00:50:30 INFO mapreduce.JobSubmitter: Submitting tokens for job: job_1473686220901_0016
16/09/13 00:50:30 INFO impl.YarnClientImpl: Submitted application application_1473686220901_0016
16/09/13 00:50:31 INFO mapreduce.Job: The url to track the job: http://quickstart.cloudera:8088/proxy/application_1473686220901_0016/
16/09/13 00:50:31 INFO mapreduce.Job: Running job: job_1473686220901_0016
16/09/13 00:50:39 INFO mapreduce.Job: Job job_1473686220901_0016 running in uber mode : false
16/09/13 00:50:39 INFO mapreduce.Job:  map 0% reduce 0%
16/09/13 00:50:54 INFO mapreduce.Job:  map 100% reduce 0%
16/09/13 00:51:06 INFO mapreduce.Job:  map 100% reduce 100%
16/09/13 00:51:06 INFO mapreduce.Job: Job job_1473686220901_0016 completed successfully
16/09/13 00:51:06 INFO mapreduce.Job: Counters: 50
	File System Counters
		FILE: Number of bytes read=92545
		FILE: Number of bytes written=540835
		FILE: Number of read operations=0
		FILE: Number of large read operations=0
		FILE: Number of write operations=0
		HDFS: Number of bytes read=217097
		HDFS: Number of bytes written=76751
		HDFS: Number of read operations=9
		HDFS: Number of large read operations=0
		HDFS: Number of write operations=2
	Job Counters 
		Killed map tasks=1
		Launched map tasks=2
		Launched reduce tasks=1
		Data-local map tasks=2
		Total time spent by all maps in occupied slots (ms)=23031
		Total time spent by all reduces in occupied slots (ms)=8868
		Total time spent by all map tasks (ms)=23031
		Total time spent by all reduce tasks (ms)=8868
		Total vcore-seconds taken by all map tasks=23031
		Total vcore-seconds taken by all reduce tasks=8868
		Total megabyte-seconds taken by all map tasks=23583744
		Total megabyte-seconds taken by all reduce tasks=9080832
	Map-Reduce Framework
		Map input records=100
		Map output records=6696
		Map output bytes=79147
		Map output materialized bytes=92551
		Input split bytes=230
		Combine input records=0
		Combine output records=0
		Reduce input groups=5211
		Reduce shuffle bytes=92551
		Reduce input records=6696
		Reduce output records=1778
		Spilled Records=13392
		Shuffled Maps =2
		Failed Shuffles=0
		Merged Map outputs=2
		GC time elapsed (ms)=299
		CPU time spent (ms)=2900
		Physical memory (bytes) snapshot=569446400
		Virtual memory (bytes) snapshot=4511494144
		Total committed heap usage (bytes)=391979008
	Shuffle Errors
		BAD_ID=0
		CONNECTION=0
		IO_ERROR=0
		WRONG_LENGTH=0
		WRONG_MAP=0
		WRONG_REDUCE=0
	File Input Format Counters 
		Bytes Read=216867
	File Output Format Counters 
		Bytes Written=76751
16/09/13 00:51:06 INFO streaming.StreamJob: Output directory: enron
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[304]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span>%%bash

sudo touch NaiveBayes/SPAM_Model_MNB.tsv
sudo chmod -R <span class="m">777</span> NaiveBayes/
hdfs dfs -cat enron/part-0000* &gt; NaiveBayes/SPAM_Model_MNB.tsv
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[305]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span>%%bash

sudo chmod -R <span class="m">777</span> NaiveBayes/
less NaiveBayes/SPAM_Model_MNB.tsv <span class="p">|</span> sort -k1,1 <span class="p">|</span> head -10 
<span class="nb">printf</span> <span class="s2">&quot;\n&quot;</span>
less NaiveBayes/SPAM_Model_MNB.tsv <span class="p">|</span> sort -k1,1 <span class="p">|</span> tail -10
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>/	0.0117422798323	0.00111685868798
//	0.000152497140679	0.00376205031742
&apos;	0.000304994281357	0.000176346108629
a	0.0150209683568	0.0203385845286
ab	0.000457491422036	5.87820362097e-05
able	0.000304994281357	0.000705384434517
about	0.000762485703393	0.00258640959323
above	0.000304994281357	0.000529038325888
accept	7.62485703393e-05	0.000235128144839
access	0.000228745711018	0.000646602398307

you	0.00770110560427	0.0196332000941
you&apos;ll	7.62485703393e-05	0.000352692217258
your	0.00297369424323	0.0210439689631
yours	7.62485703393e-05	0.000235128144839
yourself	7.62485703393e-05	0.000705384434517
you&apos;ve	7.62485703393e-05	0.000293910181049
zadorozhny/hou/ect	0.000381242851697	5.87820362097e-05
zero	0.000304994281357	0.000117564072419
zesto	7.62485703393e-05	0.000646602398307
zimin	0.000457491422036	5.87820362097e-05
</pre>
</div>
</div>

<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stderr output_text">
<pre>sort: write failed: standard output: Broken pipe
sort: write error
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[307]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span>%%bash
<span class="c1">#Run a mapreduce that includes the subject line.  Save the hadoop output to a regular file SPAM_Model_MNB.tsv</span>
<span class="c1">#Do a simple head and tail sort situation to show top 10 and bottom 10 terms alphabetically ordered</span>
<span class="c1">#Really this should be easy, it&#39;s just tweaking the mapper, running it, saving the model, then printing results</span>

sudo touch NaiveBayes/mapper254.py
sudo touch NaiveBayes/reducer254.py
sudo chmod -R <span class="m">777</span> NaiveBayes/
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[308]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="o">%%</span><span class="k">writefile</span> NaiveBayes/mapper254.py
#!/usr/bin/env python

import sys
import re
import math
from collections import defaultdict

def jointProbability(hamSpamTuples):
    
    spamSum = 0
    hamSum = 0 
    
    for hamSpamTuple in hamSpamTuples:
        ham = hamSpamTuple[0]
        spam = hamSpamTuple[1]
        spamSum += math.log(spam + sys.float_info.epsilon)
        hamSum += math.log(ham + sys.float_info.epsilon)

    return (hamSum, spamSum)

modelProbs = defaultdict(tuple)
spam = defaultdict(int)
ham = defaultdict(int)
words = set()

#Don&#39;t forget to rerun the model so that ham and spam aren&#39;t mixed up 
with open(&quot;SPAM_Model_MNB.tsv&quot;) as f:
    model = f.readlines()
    for line in model:
        word, ham, spam = line.split()
        modelProbs[word] = (float(ham), float(spam))
        #model only contains words that occur &gt;=3 times 
        words.add(word)

for line in sys.stdin:
    cp = line.split()
    key = cp[0]
    label = cp[1]
    email = cp[2:]
    email = &quot; &quot;.join(cp[2:])
    email = re.findall(r&#39;[a-z/\&#39;]+&#39;,email.lower())
    #This is the filtering step, we just don&#39;t measure P(word) if wordOccur&lt;3
    email = [word for word in email if word in words]
    numWords = len(email)
    email = [modelProbs[word] for word in email]
    email = [word if word!=() else (0,0) for word in email]
    #probs = reduce(lambda x,y : (x[0]*y[0],x[1]*y[1]),email)
    probs = jointProbability(email)
    print &quot;%s\t%s\t%s\t%s\t%s&quot; % (key, label, numWords, probs[0], probs[1])
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>Overwriting NaiveBayes/mapper254.py
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[309]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="o">%%</span><span class="k">writefile</span> NaiveBayes/reducer254.py
#!/usr/bin/env python

import sys
import math
from collections import defaultdict

spamWords=0
hamWords=0
totalWords=0
lines = []
    
for line in sys.stdin:
    lines.append(line)
    key, label, wordCount, notImp1, notImp2 = line.split()
    totalWords+=1
    if int(label)==1:
        spamWords+=1
    else:
        hamWords+=1

spamProb = math.log(sys.float_info.epsilon + float(spamWords)/totalWords)
hamProb = math.log(sys.float_info.epsilon + float(hamWords)/totalWords)
        
for line in lines:
    key, label, wordCount, hamProbCond, spamProbCond = line.split()
    probs = (float(hamProbCond)+hamProb, float(spamProbCond)+spamProb)
    
    if probs[0]==probs[1]:
        predLabel = 1 if spamProb &lt; hamProb else 0
    else:
        predLabel = 1 if probs[0] &lt; probs[1] else 0 
    
    print &quot;%s\t%s&quot; % (key, predLabel)
    
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>Overwriting NaiveBayes/reducer254.py
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[310]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="o">!</span>hdfs dfs -rm enronemail_1h.txt
<span class="o">!</span>hdfs dfs -copyFromLocal /home/cloudera/share/NaiveBayes/enronemail_1h.txt
<span class="o">!</span>hdfs dfs -rm -r enron
<span class="c1">#usr/local/Cellar/hadoop/2.6.0/libexec/share/hadoop/tools/lib</span>
<span class="n">dataDir</span> <span class="o">=</span> <span class="s2">&quot;/home/cloudera/share/NaiveBayes&quot;</span>

<span class="o">!</span>hadoop jar /usr/lib/hadoop-0.20-mapreduce/contrib/streaming/hadoop-streaming-2.6.0-mr1-cdh5.8.0.jar <span class="err">\</span>
   <span class="o">-</span><span class="n">mapper</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">cloudera</span><span class="o">/</span><span class="n">share</span><span class="o">/</span><span class="n">NaiveBayes</span><span class="o">/</span><span class="n">mapper254</span><span class="o">.</span><span class="n">py</span> \
   <span class="o">-</span><span class="n">reducer</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">cloudera</span><span class="o">/</span><span class="n">share</span><span class="o">/</span><span class="n">NaiveBayes</span><span class="o">/</span><span class="n">reducer254</span><span class="o">.</span><span class="n">py</span> \
   <span class="o">-</span><span class="nb">input</span> <span class="n">enronemail_1h</span><span class="o">.</span><span class="n">txt</span> \
   <span class="o">-</span><span class="n">output</span> <span class="n">enron</span>  \
   <span class="o">-</span><span class="nb">file</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">cloudera</span><span class="o">/</span><span class="n">share</span><span class="o">/</span><span class="n">NaiveBayes</span><span class="o">/</span><span class="n">SPAM_Model_MNB</span><span class="o">.</span><span class="n">tsv</span> \
   <span class="o">-</span><span class="n">numReduceTasks</span> <span class="mi">1</span>
<span class="c1">#--D mapreduce.job.reduces=2  depecated</span>
<span class="c1">#-input historical_tours.txt  file on Hadoop</span>


<span class="c1">#output directory on Hadoop </span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>Deleted enronemail_1h.txt
Deleted enron
16/09/13 01:08:10 WARN streaming.StreamJob: -file option is deprecated, please use generic option -files instead.
packageJobJar: [/home/cloudera/share/NaiveBayes/SPAM_Model_MNB.tsv] [/usr/lib/hadoop-mapreduce/hadoop-streaming-2.6.0-cdh5.8.0.jar] /tmp/streamjob395157847071030934.jar tmpDir=null
16/09/13 01:08:12 INFO client.RMProxy: Connecting to ResourceManager at /0.0.0.0:8032
16/09/13 01:08:12 INFO client.RMProxy: Connecting to ResourceManager at /0.0.0.0:8032
16/09/13 01:08:13 WARN hdfs.DFSClient: Caught exception 
java.lang.InterruptedException
	at java.lang.Object.wait(Native Method)
	at java.lang.Thread.join(Thread.java:1281)
	at java.lang.Thread.join(Thread.java:1355)
	at org.apache.hadoop.hdfs.DFSOutputStream$DataStreamer.closeResponder(DFSOutputStream.java:862)
	at org.apache.hadoop.hdfs.DFSOutputStream$DataStreamer.endBlock(DFSOutputStream.java:600)
	at org.apache.hadoop.hdfs.DFSOutputStream$DataStreamer.run(DFSOutputStream.java:789)
16/09/13 01:08:13 INFO mapred.FileInputFormat: Total input paths to process : 1
16/09/13 01:08:13 WARN hdfs.DFSClient: Caught exception 
java.lang.InterruptedException
	at java.lang.Object.wait(Native Method)
	at java.lang.Thread.join(Thread.java:1281)
	at java.lang.Thread.join(Thread.java:1355)
	at org.apache.hadoop.hdfs.DFSOutputStream$DataStreamer.closeResponder(DFSOutputStream.java:862)
	at org.apache.hadoop.hdfs.DFSOutputStream$DataStreamer.endBlock(DFSOutputStream.java:600)
	at org.apache.hadoop.hdfs.DFSOutputStream$DataStreamer.run(DFSOutputStream.java:789)
16/09/13 01:08:13 WARN hdfs.DFSClient: Caught exception 
java.lang.InterruptedException
	at java.lang.Object.wait(Native Method)
	at java.lang.Thread.join(Thread.java:1281)
	at java.lang.Thread.join(Thread.java:1355)
	at org.apache.hadoop.hdfs.DFSOutputStream$DataStreamer.closeResponder(DFSOutputStream.java:862)
	at org.apache.hadoop.hdfs.DFSOutputStream$DataStreamer.endBlock(DFSOutputStream.java:600)
	at org.apache.hadoop.hdfs.DFSOutputStream$DataStreamer.run(DFSOutputStream.java:789)
16/09/13 01:08:13 INFO mapreduce.JobSubmitter: number of splits:2
16/09/13 01:08:13 INFO mapreduce.JobSubmitter: Submitting tokens for job: job_1473686220901_0017
16/09/13 01:08:14 INFO impl.YarnClientImpl: Submitted application application_1473686220901_0017
16/09/13 01:08:14 INFO mapreduce.Job: The url to track the job: http://quickstart.cloudera:8088/proxy/application_1473686220901_0017/
16/09/13 01:08:14 INFO mapreduce.Job: Running job: job_1473686220901_0017
16/09/13 01:08:23 INFO mapreduce.Job: Job job_1473686220901_0017 running in uber mode : false
16/09/13 01:08:23 INFO mapreduce.Job:  map 0% reduce 0%
16/09/13 01:08:34 INFO mapreduce.Job:  map 50% reduce 0%
16/09/13 01:08:35 INFO mapreduce.Job:  map 100% reduce 0%
16/09/13 01:08:45 INFO mapreduce.Job:  map 100% reduce 100%
16/09/13 01:08:45 INFO mapreduce.Job: Job job_1473686220901_0017 completed successfully
16/09/13 01:08:46 INFO mapreduce.Job: Counters: 49
	File System Counters
		FILE: Number of bytes read=6018
		FILE: Number of bytes written=371201
		FILE: Number of read operations=0
		FILE: Number of large read operations=0
		FILE: Number of write operations=0
		HDFS: Number of bytes read=217097
		HDFS: Number of bytes written=2472
		HDFS: Number of read operations=9
		HDFS: Number of large read operations=0
		HDFS: Number of write operations=2
	Job Counters 
		Launched map tasks=2
		Launched reduce tasks=1
		Data-local map tasks=2
		Total time spent by all maps in occupied slots (ms)=17906
		Total time spent by all reduces in occupied slots (ms)=8093
		Total time spent by all map tasks (ms)=17906
		Total time spent by all reduce tasks (ms)=8093
		Total vcore-seconds taken by all map tasks=17906
		Total vcore-seconds taken by all reduce tasks=8093
		Total megabyte-seconds taken by all map tasks=18335744
		Total megabyte-seconds taken by all reduce tasks=8287232
	Map-Reduce Framework
		Map input records=100
		Map output records=100
		Map output bytes=5812
		Map output materialized bytes=6024
		Input split bytes=230
		Combine input records=0
		Combine output records=0
		Reduce input groups=100
		Reduce shuffle bytes=6024
		Reduce input records=100
		Reduce output records=100
		Spilled Records=200
		Shuffled Maps =2
		Failed Shuffles=0
		Merged Map outputs=2
		GC time elapsed (ms)=228
		CPU time spent (ms)=1990
		Physical memory (bytes) snapshot=556638208
		Virtual memory (bytes) snapshot=4511481856
		Total committed heap usage (bytes)=391979008
	Shuffle Errors
		BAD_ID=0
		CONNECTION=0
		IO_ERROR=0
		WRONG_LENGTH=0
		WRONG_MAP=0
		WRONG_REDUCE=0
	File Input Format Counters 
		Bytes Read=216867
	File Output Format Counters 
		Bytes Written=2472
16/09/13 01:08:46 INFO streaming.StreamJob: Output directory: enron
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[311]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="o">!</span>sudo touch NaiveBayes/enronPredicted.txt
<span class="o">!</span>sudo chmod -R <span class="m">777</span> NaiveBayes/
<span class="o">!</span>hdfs dfs -cat enron/part-0000* &gt; NaiveBayes/enronPredicted.txt
<span class="o">!</span>hdfs dfs -cat enron/part-0000* <span class="p">|</span> head -10
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>0001.1999-12-10.farmer	0
0001.1999-12-10.kaminski	0
0001.2000-01-17.beck	0
0001.2000-06-06.lokay	0
0001.2001-02-07.kitchen	0
0001.2001-04-02.williams	0
0002.1999-12-13.farmer	0
0002.2001-02-07.kitchen	0
0002.2001-05-25.SA_and_HP	1
0002.2003-12-18.GP	1
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[312]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">defaultdict</span>

<span class="k">def</span> <span class="nf">accuracy</span><span class="p">(</span><span class="n">trueFile</span><span class="p">,</span> <span class="n">predictFile</span><span class="p">):</span>
    <span class="n">actual</span> <span class="o">=</span> <span class="n">defaultdict</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
    <span class="n">predicted</span> <span class="o">=</span> <span class="n">defaultdict</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
    <span class="n">matches</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">total</span> <span class="o">=</span> <span class="mi">0</span>
 
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">trueFile</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
        <span class="n">lines</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">readlines</span><span class="p">()</span>
 
        <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">lines</span><span class="p">:</span>
            <span class="n">elements</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
            <span class="n">key</span> <span class="o">=</span> <span class="n">elements</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            <span class="n">label</span> <span class="o">=</span> <span class="n">elements</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
            <span class="n">actual</span><span class="p">[</span><span class="n">key</span><span class="p">]</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">label</span><span class="p">)</span>
    <span class="n">f</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
 
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">predictFile</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
        <span class="n">lines</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">readlines</span><span class="p">()</span>
 
        <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">lines</span><span class="p">:</span>
            <span class="n">elements</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
            <span class="n">key</span> <span class="o">=</span> <span class="n">elements</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            <span class="n">label</span> <span class="o">=</span> <span class="n">elements</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
            <span class="n">predicted</span><span class="p">[</span><span class="n">key</span><span class="p">]</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">label</span><span class="p">)</span>
 
    <span class="k">if</span> <span class="nb">set</span><span class="p">(</span><span class="n">actual</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span><span class="o">==</span><span class="nb">set</span><span class="p">(</span><span class="n">predicted</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span>
        <span class="k">for</span> <span class="n">k</span><span class="p">,</span><span class="n">v</span> <span class="ow">in</span> <span class="n">actual</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">v</span><span class="o">==</span><span class="n">predicted</span><span class="p">[</span><span class="n">k</span><span class="p">]:</span>
                <span class="n">matches</span><span class="o">+=</span><span class="mi">1</span>
            <span class="n">total</span><span class="o">+=</span><span class="mi">1</span>
        <span class="k">print</span> <span class="nb">str</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">matches</span><span class="p">)</span><span class="o">/</span><span class="nb">len</span><span class="p">(</span><span class="n">actual</span><span class="p">))</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">print</span> <span class="s2">&quot;shit&quot;</span>
        
<span class="c1">#Modify this to also compute accuracy and precision</span>
<span class="n">accuracy</span><span class="p">(</span><span class="s2">&quot;NaiveBayes/enronPredicted.txt&quot;</span><span class="p">,</span> <span class="s2">&quot;NaiveBayes/enronemail_1h.txt&quot;</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>0.98
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[313]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="o">%</span><span class="k">matplotlib</span> inline
<span class="c1">#!/usr/bin/env python</span>

<span class="kn">import</span> <span class="nn">sys</span>
<span class="kn">import</span> <span class="nn">re</span>
<span class="kn">import</span> <span class="nn">math</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="kn">as</span> <span class="nn">plt</span>
<span class="kn">from</span> <span class="nn">decimal</span> <span class="kn">import</span> <span class="n">Decimal</span> 
<span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">defaultdict</span>

<span class="k">def</span> <span class="nf">jointProbability</span><span class="p">(</span><span class="n">hamSpamTuples</span><span class="p">):</span>
    
    <span class="n">spamSum</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">hamSum</span> <span class="o">=</span> <span class="mi">0</span> 
    
    <span class="k">for</span> <span class="n">hamSpamTuple</span> <span class="ow">in</span> <span class="n">hamSpamTuples</span><span class="p">:</span>
        <span class="n">ham</span> <span class="o">=</span> <span class="n">hamSpamTuple</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">spam</span> <span class="o">=</span> <span class="n">hamSpamTuple</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
        <span class="n">spamSum</span> <span class="o">+=</span> <span class="n">math</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">spam</span> <span class="o">+</span> <span class="n">sys</span><span class="o">.</span><span class="n">float_info</span><span class="o">.</span><span class="n">epsilon</span><span class="p">)</span>
        <span class="n">hamSum</span> <span class="o">+=</span> <span class="n">math</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">ham</span> <span class="o">+</span> <span class="n">sys</span><span class="o">.</span><span class="n">float_info</span><span class="o">.</span><span class="n">epsilon</span><span class="p">)</span>
    
    <span class="k">return</span> <span class="p">(</span><span class="n">hamSum</span><span class="p">,</span> <span class="n">spamSum</span><span class="p">)</span>
    <span class="c1">#return (math.exp(hamSum),math.exp(spamSum))</span>

<span class="n">modelProbs</span> <span class="o">=</span> <span class="n">defaultdict</span><span class="p">(</span><span class="nb">tuple</span><span class="p">)</span>

<span class="c1">#Format: {key: (P(D|ham), P(D|spam))}</span>
<span class="n">conditionalProbs</span> <span class="o">=</span> <span class="n">defaultdict</span><span class="p">(</span><span class="nb">tuple</span><span class="p">)</span>
<span class="n">totalWords</span> <span class="o">=</span> <span class="mi">0</span> 
<span class="n">spamWords</span> <span class="o">=</span> <span class="mi">0</span> 
<span class="n">hamWords</span> <span class="o">=</span> <span class="mi">0</span> 
<span class="n">posteriorSpam</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">posteriorHam</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">words</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>

<span class="c1">#Don&#39;t forget to rerun the model so that ham and spam aren&#39;t mixed up </span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;SPAM_Model_MNB.tsv&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">model</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">readlines</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">model</span><span class="p">:</span>
        <span class="n">word</span><span class="p">,</span> <span class="n">ham</span><span class="p">,</span> <span class="n">spam</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
        <span class="n">words</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">word</span><span class="p">)</span>
        <span class="n">modelProbs</span><span class="p">[</span><span class="n">word</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">ham</span><span class="p">),</span> <span class="nb">float</span><span class="p">(</span><span class="n">spam</span><span class="p">))</span>

<span class="n">vocabSize</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">words</span><span class="p">)</span>

<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;NaiveBayes/enronemail_1h.txt&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">lines</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">readlines</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">lines</span><span class="p">:</span>
        <span class="n">cp</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
        <span class="n">key</span> <span class="o">=</span> <span class="n">cp</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">label</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">cp</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
        <span class="n">email</span> <span class="o">=</span> <span class="n">cp</span><span class="p">[</span><span class="mi">2</span><span class="p">:]</span>
        <span class="n">email</span> <span class="o">=</span> <span class="s2">&quot; &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">cp</span><span class="p">[</span><span class="mi">2</span><span class="p">:])</span>
        <span class="n">email</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="s1">r&#39;[a-z/</span><span class="se">\&#39;</span><span class="s1">]+&#39;</span><span class="p">,</span><span class="n">email</span><span class="o">.</span><span class="n">lower</span><span class="p">())</span>
        <span class="c1">#This is the filtering step, we just don&#39;t measure P(word) if wordOccur&lt;3</span>
        <span class="n">email</span> <span class="o">=</span> <span class="p">[</span><span class="n">word</span> <span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">email</span> <span class="k">if</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">words</span><span class="p">]</span>
        <span class="n">email</span> <span class="o">=</span> <span class="p">[</span><span class="n">modelProbs</span><span class="p">[</span><span class="n">word</span><span class="p">]</span> <span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">email</span><span class="p">]</span>
        <span class="n">email</span> <span class="o">=</span> <span class="p">[</span><span class="n">word</span> <span class="k">if</span> <span class="n">word</span><span class="o">!=</span><span class="p">()</span> <span class="k">else</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span> <span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">email</span><span class="p">]</span>
        <span class="c1">#probs = reduce(lambda x,y : (math.exp(math.log(x[0] + sys.float_info.epsilon)+math.log(y[0] + sys.float_info.epsilon)),math.exp(math.log(x[1] + sys.float_info.epsilon)+math.log(y[1] + sys.float_info.epsilon))),email)</span>
        <span class="c1">#probs = (math.exp(probs[0]),math.exp(probs[1]))</span>
        <span class="n">probs</span> <span class="o">=</span> <span class="n">jointProbability</span><span class="p">(</span><span class="n">email</span><span class="p">)</span>
        <span class="n">conditionalProbs</span><span class="p">[</span><span class="n">key</span><span class="p">]</span><span class="o">=</span><span class="n">probs</span>
        
        <span class="n">totalWords</span><span class="o">+=</span><span class="mi">1</span>
        <span class="k">if</span> <span class="nb">int</span><span class="p">(</span><span class="n">label</span><span class="p">)</span><span class="o">==</span><span class="mi">1</span><span class="p">:</span>
            <span class="n">spamWords</span><span class="o">+=</span><span class="mi">1</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">hamWords</span><span class="o">+=</span><span class="mi">1</span>

<span class="n">probSpam</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">spamWords</span><span class="p">)</span><span class="o">/</span><span class="n">totalWords</span>
<span class="n">probHam</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">hamWords</span><span class="p">)</span><span class="o">/</span><span class="n">totalWords</span>

<span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">conditionalProbs</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
    <span class="c1">#Assumes that v is (condProbHam, condProbSpam)</span>
    <span class="n">probDoc</span> <span class="o">=</span> <span class="n">probSpam</span><span class="o">*</span><span class="n">v</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">+</span><span class="n">probHam</span><span class="o">*</span><span class="n">v</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">probSpamCond</span> <span class="o">=</span> <span class="p">(</span><span class="n">probSpam</span> <span class="o">*</span> <span class="n">v</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="o">/</span><span class="p">(</span><span class="n">probDoc</span><span class="p">)</span>
    <span class="n">probHamCond</span> <span class="o">=</span> <span class="p">(</span><span class="n">probHam</span> <span class="o">*</span> <span class="n">v</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">/</span> <span class="p">(</span><span class="n">probDoc</span><span class="p">)</span>
    
    
    <span class="c1">#print &quot;%s\t%s\t%s&quot; % (k, probHamCond, probSpamCond)</span>
    
    <span class="c1">#Did some math hopefully i didn&#39;t make a big mistake</span>
    <span class="c1">#ab/cd = exp(ln(ab/cd)) = exp(ln(a)+ln(b)-ln(c)-ln(d)</span>
    <span class="c1">#P(S|D) = exp(-ln(1+exp(ln(a)+ln(b)-ln(c)-ln(d))))</span>
    <span class="c1">#a = P(D|H) b = P(H) c = P(D|S) d = P(S)</span>
    <span class="c1">#print &quot;%s\t%s\t%s\t%s&quot; % (v[0] ,v[1],math.log(probHam), math.log(probSpam))</span>
    
    <span class="c1">#Either zero or one</span>
    <span class="c1">#probSpamCond = math.exp(-math.log(1+math.exp(min(500,max(-500,v[0] + math.log(probHam) - v[1] - math.log(probSpam))))))</span>
    <span class="c1">#probHamCond = math.exp(-math.log(1+math.exp(min(500,max(-500,v[1] + math.log(probSpam) - v[0] - math.log(probHam))))))</span>
    <span class="c1">#print &quot;%s\t%s\t%s&quot; % (k, probHamCond, probSpamCond)</span>
    <span class="n">posteriorSpam</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">probSpamCond</span><span class="p">)</span>
    <span class="n">posteriorHam</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">probHamCond</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">posteriorHam</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>  <span class="c1"># plt.hist passes it&#39;s arguments to np.histogram</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Ham Posterior Probability Distribution&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">posteriorSpam</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>  <span class="c1"># plt.hist passes it&#39;s arguments to np.histogram</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Spam Posterior Probability Distribution&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>


<div class="output_png output_subarea ">
<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAXUAAAEKCAYAAADticXcAAAABHNCSVQICAgIfAhkiAAAAAlwSFlz
AAALEgAACxIB0t1+/AAAFqdJREFUeJzt3XmUbWV95vHvo1cQQSZRK6JwI+mIE0nsyNJoQsUMatRA
G1sDHVS0nTKY1UMc0tr3kmiMrhWHFrFDgsQRE8Ug6EocqdioxCiTAxoHVAa5yqQoqCC//mPvwnPL
Gs5UdW699/tZ66w6dfZ+9/6dfXY95z3vPntXqgpJUhtuN+sCJEnTY6hLUkMMdUlqiKEuSQ0x1CWp
IYa6JDXEUNdUJflMkl+ZdR3LSXJrknuP2fbSJI9YYdrDk1yy3LxJXpjklPEqHqvOeyX5TpJMaXmv
T/K/+vtHJblsGsvtl7fTdtN0GOpjWu6PPMlTkvy/DVr/QpKb+j/gbyY5I8ndJ1zm2KG3qKoeUFUf
mWQZA/U8Jckt/XO8Psn5SR4zSXnTqOsnFlp1blXdd4VpL6uqZwIkObTfxmP93S3ZHt9J8uUkb0jy
HwbWd1lV7VtrnIAy7L5aVc+pqpcOPjRO7f06d9q/VttuGp+hPn0bdTZXAb9fVfsCPwvsD7xqCssc
S5LbT7LiVdp/rA+p/YE3AP+QZL8x1z+V3usEQreNJ6njY/1rvh/w68BNwKeS3G/MWlaeYcw3n1V4
puMGMNTXUZLnJ/lS36v6TJJjBqY9Jcm5SV6Z5Lp+vof2j389yVVJnrzWKgCq6nrgDOAB/bL3TfKm
vgd/6eLH537aYX0v//p++un94//SL+/ivt7/3D/+2CQX9DWem+SBA8u6NMnzklwEfDfJ7ZcMPeyR
5NVJrkhyeZJXJblDP+2oJJf17b9BF9hreQOwF3DYSu2TPCPJF5NcneTMJD+1ZBmP6Xu430zyioHn
cu8kH+rbfTPJW5Lsu6TtkUk+m+SaJKcm2WPwuSz7AiXbkryp//Vf+p/X99v4V/pl3X9g/rsm+V6S
u6y2IapzaVX9Qb/c7X37nT4NJHlq/3wXe/bHJjkceD3w0CQ3JLm2n/e0JCcneW+SG4D5/rE/2/kp
5YVJvpXkK0mOG5hwTpKnDfx+26eB5favpdstyeH9Mq5L8ukkjxuYdlqSk5K8p2//8SQ/vdo22l0Z
6tO1tAf2JeBhfc/qROAt2XmI5EjgQuBA4HTg7cAvAocBxwMnJbnTmitNDgJ+Bzi/f+gk4M7AVmAe
eHKSE/ppfw68r+/53hN4LUBVHdVPf2DfM35Hkl8ATgWe0df418BZi8Hc+13g0cD+VfWjJaW9qH+O
RwA/199/0cD0ObpPGIcAz1zjOW7p67gB+OJy7fs3k78AngD8FPB1um066BjgQf3t6IEQSt92Drhv
v222L2l7HPAbdK/PfZY8l2F6oYvHGvbtt/FH6F733xuY51jgg1V1zRDLW/Qu4JeX1tLvO68BHtnv
g78EXFhVnweeDXy8qu5cVQcuWf+fV9WdgY8us645un3hHsBTgVMyMPyzjILl968ltW4Bzgb+Gbgr
8FzgrUuW/SRgG91r/mVgcFhIPUN9MmcmuXbxBrxucGJVnVFVO/r776ALoyMHZrm0qt7Uj3/+PV2Q
nFhVN1fVB4AfAj+zyvpf26/3AuBK4H/0PbQnAS+oqhur6mvAX9G9SQDcDBya5OCq+mFVfWzJMgff
mJ4B/N+q+mTfM3wz8APgIQPzvKaqrqyqHyxT33H987mmD6kTB+oA+BGwrX++y7WHrjd5bf/8ngQc
U1U3rND+OODUqrqoqm4GXti3P2RgeX9ZVd+uqsuBV9OFGFX15ar6UFXd0tf6KuAodvba/rleTxco
x65Q81oGt/Gb+roXHQ+8ecTlXUkXtMv5EfDAJHesqh1VtdaByXdX1XkAK7wmBby43+YfAd4LPHGE
WlcaenoosHdVvbx/Dc4B3sPO2/gfq+pTVXUr8Fbg50dY727DUJ/M0VV14OIN+P3BiUmePDB0cR1w
f+CggVl2DNy/CaCqrl7y2D6rrP+P+nXfq6qO78PoIGALXS910deAg/v7z6N73T/Rf8Q9gZUdSvdG
sfjGdR3dG889Bua5fJX291imjsG23+rDdzUf75/j3arql/o/9pXa36NfBwBV9T3gGn783JfWe1s9
Se6W5PR+mOh64C3s/Fqt2HYSVfUJ4Hv9UMR96D4FnDXiYg4Grl1m2TfSvRE+B/hGkrP7daxmrW+3
XFdV3x/4fSrbge6T1dJ1D+63AFcN3L+R1f82dluG+mRWPODV9w5PoTuYeUBVHQB8drU2U3I1fW98
4LFDgSsA+t7aM6vqYLqP4Cdn5W+8XAa8dOCN64Cq2qeq/n5gntWGHa5cpo4rh2w7jKXtd1pfkr2B
u7BzGN9rhXpeBtwK3L8fmvo9fvK1WqntuPUueiNdD/144J1V9cMRl/ufgGW/yVJVH6iq36QbNvkC
3T65Wi1rvSYHJNlr4PdD+PF2+B4wOFw4t8ayBl3Jztt3cdlXjLAMYaivp73pQuLqJLfre8QPWKPN
xIHffzT9B+ClSfZJcijw3+g/0id5QpLF3s/1fY239r9fBQwG/N8Az05yZN927yS/1YflME4HXpTk
oH7c/8WMPrQwitOBE5IckWRPujHy86pqsAf4J0n2T3IvunHbxTH3fYDvAjf02+dPlln+HyQ5OMmB
wJ/yk+P1a/kW3bY+bMnjb6UL5v9CNxyzmkD3zZQkW5O8lm6YaPsy89wtyW/3Y+s30z2/xdd6B3DP
JcdHhhHgxCR3SPLLwGPo9jfojg89PsleSX4GePqStkv3r0H/CtyY7sD3liTzwGPpXlONwFAf36o9
mn7s8q+A8+h25vsD5464zNXWsdq059J9PP0K8BHgLVV1Wj/twcC/JvkOcCbw3Kr6aj9tO/Cmfqjl
CVX1Kbpx9ZP6ce1/B56yRg2Dj70E+CRwMXBRf3/dDm5V1Yfo3jjeRdfD+2m6A7mDtb0b+BTdQeWz
+fG3bk4E/iPdG93ZdN8mYknbtwHvpzsA/kVWfi7LvjZVdVPf5qP9Nj6yf/zyvp6qqrX2kYf0r923
gXPo3oweXFWfW2b9twP+O922uJruQO1z+mkfpvvkeFWSb66xzkHfAK6j61m/GXhWVS0euH4V3ZvH
VcBpdENYg7YzsH8NTuiH0R4H/FZf60nA8QPL9uuQQ0qt8U8yktyTrvdwd7p3+b+pqv+T5AC6g3uH
Al8FnlhV317fcqU2JTkVuKKq/vesa9HmNkyozwFzVXVhkn3oejlHAycA11TVK5I8Hzigql6w7hVL
jUmyla6n/gv9t5Wksa05/FJVV1XVhf397wKX0H0D4mi6Azz0P49ZfgmSVtKf2HMx8AoDXdOwZk99
p5m7HsUC3QG/y/pvdCxOu3bJSQySpA029IHSfujlncAf9z32UQ7qSZI2wJZhZupP4X0n8Oaqenf/
8I4kd6+qHf24+7JH0JMY9pI0hqoa+WvOw/bU3wB8rqpeM/DYWXTXfoDua27vXtpooLBNe9u2bdvM
a9hd69/MtVv/7G+bvf5xrdlTT/IwupMiPp3kArphlj8FXk53GdSn0Z3OO8r1HyRJ62DNUK+qjwIr
Xav616dbjiRpEp5Ruob5+flZlzCRzVz/Zq4drH/WNnv94xrpK41jrSCp9V6HJLUmCbWOB0olSZuA
oS5JDTHUJakhhrokNcRQl6SGGOqSxjI3t5UkI93m5rbOuuzm+ZVGSWNJwujX8ctEp8DvTvxKoyTJ
UJeklhjqktQQQ12SGmKoS1JDDHVJaoihLkkNMdQlqSGGuiQ1xFCXpIYY6pLUEENdkhpiqEtSQwx1
SWqIoS5JDTHUJakhhrokNcRQl6SGGOqS1BBDXZIaYqhLUkMMdUlqiKEuSQ0x1CWpIYa6JDXEUJek
hhjqktQQQ12SGmKoS1JDDHVJaoihLkkNMdQlqSGGuiQ1xFCXpIYY6pLUEENdkhpiqEtSQwx1SWrI
mqGe5NQkO5JcPPDYtiSXJzm/vz1qfcuUJA1jmJ76acAjl3n8lVX1oP72z1OuS5I0hjVDvarOBa5b
ZlKmX44kaRKTjKn/YZILk/xtkv2mVpEkaWxbxmx3MvBnVVVJXgK8Enj6SjNv3779tvvz8/PMz8+P
uVpJatPCwgILCwsTLydVtfZMyaHA2VV1xCjT+uk1zDokbS5JgFH/toN5MJwkVNXIw9zDDr+EgTH0
JHMD0x4PfGbUFUuSpm/N4ZckbwPmgbsk+TqwDfjVJD8P3Ap8FXjWOtYoSRrSUMMvE63A4RepSQ6/
rK/1Hn6RJG0ChrokNcRQl6SGGOqS1BBDXZIaYqhLUkMMdUlqiKE+Q3NzW0ky0m1ubuusy5a0C/Pk
oxny5A1tZu6/68uTjyRJhroktcRQl6SGGOqS1BBDXZIaYqhLUkMMdUlqiKEuSQ0x1CWpIYa6pA20
58iXxvDyGKPxMgEz5GnW2szG3X9Hb9O12932ey8TIEky1CWpJYa6JDXEUJekhhjqktQQQ12SGmKo
S1JDDHVJaoihLkkNMdQlqSGGuiQ1xFCXpIYY6pLUEENdkhpiqEtSQwx1SWqIoS5JDTHUJakhhrok
NcRQl6SGGOpTMDe3daz/kC5J05b1/g/dSar1/wI+3n9Vh/H+s/ru91/VtWsab78f/29ld9vvk1BV
I/f+7KlLUkMMdUlqiKEuSQ0x1CWpIYa6JDVkzVBPcmqSHUkuHnjsgCTvT/KFJO9Lst/6lilJGsYw
PfXTgEcueewFwAer6j7Ah4EXTrswSdLo1gz1qjoXuG7Jw0cDb+zvvxE4Zsp1SZLGMO6Y+t2qagdA
VV0F3G16JUmSxrVlSstZ9VSv7du333Z/fn6e+fn5Ka1WktqwsLDAwsLCxMsZ6jIBSQ4Fzq6qI/rf
LwHmq2pHkjngnKq67wptvUzAyi3HaLf7nS6tXZOXCVhf632ZgPS3RWcBT+3vPwV496grliRN35o9
9SRvA+aBuwA7gG3AmcA7gHsBXwOeWFXXr9DenvrKLcdot/v1WLRrsqe+vsbtqXuVxikw1LU7MtTX
l1dplCQZ6pLUEkNdkhpiqEtSQwx1SWqIoS5JDTHUpd3c3NxWkox8067J76lPgd9T12a20fuv31Mf
jt9TlyQZ6pLUEkNdkhpiqEtSQwx1SWqIoS5JDTHUJakhhrokNcRQl6SGGOqS1BBDfdPZc6zrdMzN
bZ114ZI2gNd+mQKvnaHNzP131+S1XyRJhroktcRQl6SGGOqS1BBDXZIaYqhLUkMMdUlqiKEuSQ0x
1CWpIYb6gLm5rWOdgi9JuwovEzBgY0+XHredp1lrurxMwK7JywRIkgx1SWqJoS5JDTHUJakhhrok
NcRQl6SGGOqS1BBDXZIaYqhLUkMMdakh41zqYnPYc+TnNTe3ddZFz4SXCRjgZQK02Y23D2+O/Xec
dW3mfd7LBEiSDHVJaomhLkkNMdQlqSGGuiQ1ZMskjZN8Ffg2cCtwc1UdOY2iJEnjmSjU6cJ8vqqu
m0YxkqTJTDr8kiksQ5I0JZMGcgEfSPJvSZ4xjYIkSeObdPjlYVX1jSR3pQv3S6rq3KUzbd++/bb7
8/PzzM/PT7haSWrLwsICCwsLEy9napcJSLINuKGqXrnkcS8TMNV2XiZAK/MyATu32cz7/IZfJiDJ
nZLs09/fG/hN4DPjLk+SNLlJhl/uDvxjkuqX89aqev90ypIkjcOrNA5w+EWbncMvO7fZzPu8V2mU
JBnqktQSQ12SGmKoS1JDDHVJaoihLkkNMdQlqSGGuiQ1xFCXpIYY6pLUEENdkhpiqEtSQwx1SWqI
oS5JDTHUJakhhrokNcRQl6SGGOqS1BBDXZIaYqhLUkMMdUlqiKEuSQ0x1CWpIYa6JDXEUJekhhjq
ktQQQ12SGrJl1gWsh6rilltumXUZkrThmuypb9/+F+yxx57c8Y53Gvq25557zbrsdbYnSUa6zc1t
nXXR0gRG3+db2O+b7KlfeullwMnceuuzR2h1I7D3OlW0K/gBUCO12LEj61OKtCFG3+dh8+/3TfbU
JWl3ZahLUkMMdUlqiKEuSQ0x1CWpIYa6JDXEUJekhhjqktQQQ12SGmKoS1JDDHVpFzQ3t3Ws65ZI
TV77Rdrsduz4GuNctwQM9t2dPXVJaoihLkkNMdQlqSGGuiQ1ZKJQT/KoJJ9P8u9Jnj+toiRJ4xk7
1JPcDjgJeCRwf+DYJIdPq7Bdx8KsC5jQwqwLGNvCwsKsS5jIZq9/M+87u7NJeupHAl+sqq9V1c3A
24Gjp1PWrmRh1gVMaGHWBYxts4fiZq9/M+87u7NJQv1g4LKB3y/vH5MkzUiTJx/tuecduOMdX8ce
e7x3hFa38J3vrFtJkrQhUjXOWWuQ5CHA9qp6VP/7C4CqqpcvmW+8FUjSbq6qRj5FeJJQvz3wBeDX
gG8AnwCOrapLxlqgJGliYw+/VNWPkvwh8H66sflTDXRJmq2xe+qSpF3P1M4oXetEpCTHJbmov52b
5IHTWvekhqj9t/u6L0jyiSQPm0WdKxn2JLAkD05yc5LHb2R9axli+x+V5Pok5/e3F82izpUMs/2T
zPf7z2eSnLPRNa5miO3/P/vaz0/y6SS3JNl/FrUuZ4j6901yVpIL+/qfOoMylzVE7fsneVefP+cl
ud+aC62qiW90bw5fAg4F7gBcCBy+ZJ6HAPv19x8FnDeNdW9Q7XcauP9A4JJZ1z1K/QPzfQh4D/D4
Wdc94vY/Cjhr1rVOUP9+wGeBg/vfD5p13aPuPwPzPxb44KzrHnH7vxB42eK2B64BtmyS2l8BvLi/
f59htv20euprnohUVedV1bf7X89j1/lO+zC13zjw6z7ArRtY31qGPQnsj4B3At/cyOKGMGz9u+qF
woep/zjgjKq6AqCqrt7gGlcz6kmExwKnb0hlwxmm/gLu3N+/M3BNVd2ygTWuZJja7wd8GKCqvgBs
TXLX1RY6rVAf9USk/wr805TWPamhak9yTJJLgLOBp21QbcNYs/4k9wCOqarXs+uF47D7zkP7j8/v
Heoj6MYZpv6fBQ5Mck6Sf0ty/IZVt7ah/3aT7EX3KfuMDahrWMPUfxJwvyRXAhcBf7xBta1lmNov
Ah4PkORI4BDgnqstdMNPPkryq8AJwMM3et2TqKozgTOTPBx4CfAbMy5pFK8GBsfrdrVgX8ungEOq
6sYkjwbOpAvKzWIL8CDgEcDewMeTfLyqvjTbskb2OODcqrp+1oWM6JHABVX1iCSHAR9IckRVfXfW
hQ3hL4HXJDkf+DRwAfCj1RpMK9SvoHsHWXTP/rGdJDkCOAV4VFVdN6V1T2qo2hdV1blJ7p3kwKq6
dt2rW9sw9f8i8PZ0/8TyIODRSW6uqrM2qMbVrFn/4B9fVf1TkpM32fa/HLi6qr4PfD/JR4CfoxtP
nbVR9v/fZdcaeoHh6j8BeBlAVX05yaXA4cAnN6TClQ2z79/AwMhAX/tXVl3qlAb8b8+PB/z3oBvw
v++SeQ4Bvgg8ZNYHKMao/bCB+w8CLpt13aPUv2T+09i1DpQOs/3vPnD/SOCrs657xPoPBz7Qz3sn
uh7X/WZd+yj7D93B3muAvWZd8xjb/3XAtsV9iW7I48BNUvt+wB36+88A/m6t5U6lp14rnIiU5Fnd
5DoFeDFwIHBy32O8uaqOnMb6JzFk7b+T5MnAD4GbgCfOruKdDVn/Tk02vMhVDFn/E5I8B7iZbvs/
aXYV72yY+qvq80neB1xM99H5lKr63AzLvs0I+88xwPuq6qZZ1bqcIet/CfB3SS7umz2vdoFPeUPW
fl/gjUlupfsG1dPXWq4nH0lSQ/x3dpLUEENdkhpiqEtSQwx1SWqIoS5JDTHUJakhhrokNcRQl6SG
/H9khtzzxdzWOgAAAABJRU5ErkJggg==
"
>
</div>

</div>

<div class="output_area"><div class="prompt"></div>


<div class="output_png output_subarea ">
<img src="data:image/png;base64,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
d5wAAAAASUVORK5CYII=
"
>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Oddly this model performed slightly worse than the one with just Laplace smoothing.  That said, the Laplace smoothing model had 0% misclassification error, which you can't beat.  This model had 2% classification error, which is a change of 2% from the former model.  I suspect that there may be a handful of emails where the omission of rare words tipped the scales in one direction, thus causing misclassifications in a few instances.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="3.--HW2.6-Benchmark-your-code-with-the-Python-SciKit-Learn--">3.  HW2.6 Benchmark your code with the Python SciKit-Learn  <a name="2.6" /><a class="anchor-link" href="#3.--HW2.6-Benchmark-your-code-with-the-Python-SciKit-Learn--">&#182;</a></h2><p><a href="#TOC">Back to Table of Contents</a></p>
<p>HW2.6 Benchmark your code with the Python SciKit-Learn implementation of the multinomial Naive Bayes algorithm</p>
<p>It always a good idea to benchmark your solutions against publicly available libraries/frameworks such as SciKit-Learn, the Machine Learning toolkit available in Python. In this exercise, we benchmark ourselves against the SciKit-Learn implementation of multinomial Naive Bayes.  For more information on this implementation see: <a href="http://scikit-learn.org/stable/modules/naive_bayes.html">http://scikit-learn.org/stable/modules/naive_bayes.html</a> more</p>
<p>In this exercise, please complete the following tasks:</p>
<ul>
<li>Run the Multinomial Naive Bayes algorithm (using default settings) from SciKit-Learn over the same training data used in HW2.5 and report the misclassification error (please note some data preparation might be needed to get the Multinomial Naive Bayes algorithm from SkiKit-Learn to run over this dataset)</li>
<li>Prepare a table to present your results, where rows correspond to approach used (SkiKit-Learn versus your Hadoop implementation) and the column presents the training misclassification error</li>
<li>Explain/justify any differences in terms of training error rates over the dataset in HW2.5 between your Multinomial Naive Bayes implementation (in Map Reduce) versus the Multinomial Naive Bayes implementation in SciKit-Learn </li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[273]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="kn">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">math</span>
<span class="kn">from</span> <span class="nn">sklearn.naive_bayes</span> <span class="kn">import</span> <span class="n">BernoulliNB</span>
<span class="kn">from</span> <span class="nn">sklearn.naive_bayes</span> <span class="kn">import</span> <span class="n">MultinomialNB</span>
<span class="kn">from</span> <span class="nn">sklearn.feature_extraction.text</span> <span class="kn">import</span> <span class="o">*</span>
<span class="kn">from</span> <span class="nn">sklearn.metrics</span> <span class="kn">import</span> <span class="n">confusion_matrix</span>
<span class="kn">from</span> <span class="nn">sklearn</span> <span class="kn">import</span> <span class="n">metrics</span>
<span class="kn">from</span> <span class="nn">sklearn.metrics</span> <span class="kn">import</span> <span class="n">classification_report</span>

<span class="n">emails</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">train_data</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">train_labels</span> <span class="o">=</span> <span class="p">[]</span>

<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;NaiveBayes/enronemail_1h.txt&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">lines</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">readlines</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">lines</span><span class="p">:</span>
        <span class="n">cp</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
        <span class="n">label</span> <span class="o">=</span> <span class="n">cp</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
        <span class="n">train_labels</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">label</span><span class="p">)</span>
        <span class="n">email</span> <span class="o">=</span> <span class="n">cp</span><span class="p">[</span><span class="mi">2</span><span class="p">:]</span>
        <span class="n">email</span> <span class="o">=</span> <span class="s2">&quot; &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">cp</span><span class="p">[</span><span class="mi">2</span><span class="p">:])</span>
        <span class="n">email</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="s1">r&#39;[a-z/</span><span class="se">\&#39;</span><span class="s1">]+&#39;</span><span class="p">,</span><span class="n">email</span><span class="o">.</span><span class="n">lower</span><span class="p">())</span>
        <span class="n">email</span> <span class="o">=</span> <span class="s2">&quot; &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">email</span><span class="p">)</span>
        <span class="n">emails</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">email</span><span class="p">)</span>

<span class="c1">#Need to transform the word occurrence into matrix form</span>
<span class="n">vect</span> <span class="o">=</span> <span class="n">CountVectorizer</span><span class="p">()</span>
<span class="n">x</span> <span class="o">=</span> <span class="n">vect</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">emails</span><span class="p">)</span>
<span class="n">train_trans</span> <span class="o">=</span> <span class="n">vect</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">emails</span><span class="p">)</span>
<span class="n">train_labels</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">train_labels</span><span class="p">)</span>
<span class="n">bern</span><span class="o">=</span><span class="n">BernoulliNB</span><span class="p">()</span>
<span class="n">bern</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">train_labels</span><span class="p">)</span>
<span class="n">pred</span><span class="o">=</span><span class="n">bern</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">train_trans</span><span class="p">)</span>
<span class="n">accuracy</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">pred</span><span class="o">==</span><span class="n">train_labels</span><span class="p">)</span>
<span class="k">print</span> <span class="s2">&quot;Sklearn bernoulli naive bayes had &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="mi">100</span><span class="o">*</span><span class="n">accuracy</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;% accuracy&quot;</span>
<span class="k">print</span> <span class="n">confusion_matrix</span><span class="p">(</span><span class="n">train_labels</span><span class="p">,</span><span class="n">pred</span><span class="p">)</span>
<span class="k">print</span> <span class="n">classification_report</span><span class="p">(</span><span class="n">train_labels</span><span class="p">,</span> <span class="n">pred</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>Sklearn bernoulli naive bayes had 78.0% accuracy
[[56  0]
 [22 22]]
             precision    recall  f1-score   support

          0       0.72      1.00      0.84        56
          1       1.00      0.50      0.67        44

avg / total       0.84      0.78      0.76       100

</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<table>
<thead><tr>
<th>Method</th>
<th>accuracy</th>
<th>misclassification error</th>
</tr>
</thead>
<tbody>
<tr>
<td>SkLearn Bernoulli Naive Bayes</td>
<td>78%</td>
<td>22%</td>
</tr>
<tr>
<td>Hadoop Bernoulli Naive Bayes</td>
<td>98%</td>
<td>2%</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The benchmark sklearn implementation here does not employ smoothing, which would explain why we only get a 78% accuracy even though we're using the same data for training and testing.  The hadoop implementation both performs filtering to optimize for rare words, and also employs smoothing, which helps to avoid misclassifications due to unseen words causing P(Doc|SPAM) = a<em>b</em>0=0.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><a href="#TOC">Back to Table of Contents</a></p>
<center><div class='jumbotron'><h2 style='color:green'>-------  END OF HOWEWORK --------</h2></div></center>
</div>
</div>
</div>
    </div>
  </div>
</body>
</html>
